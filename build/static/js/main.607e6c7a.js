/*! For license information please see main.607e6c7a.js.LICENSE.txt */
!function(){var e={2110:function(e,t,n){"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=s(e),k=s(t),b=g?h:u(e),w=k?h:u(t),_=(b=b==f?d:b)==d,x=(w=w==f?d:w)==d,I=b==w;if(I&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(I&&!_)return y||(y=new r),g||l(e)?i(e,t,n,v,m,y):a(e,t,b,n,v,m,y);if(!(1&n)){var S=_&&p.call(e,"__wrapped__"),E=x&&p.call(t,"__wrapped__");if(S||E){var T=S?e.value():e,C=E?t.value():t;return y||(y=new r),m(T,C,n,v,y)}}return!!I&&(y||(y=new r),o(e,t,n,v,m,y))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,u=o,s=!a;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],h=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),u=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):u(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),u=n(5072),s=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,u=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return u[e]()+s}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var y=e[p],g=t[p];if(o)var k=c?o(g,y,p,t,e,s):o(y,g,p,e,t,s);if(void 0!==k){if(k)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||u(y,e,n,o,s)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=o(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var m=s;++f<l;){var y=e[h=c[f]],g=t[h];if(a)var k=s?a(g,y,h,t,e,u):a(y,g,h,e,t,u);if(!(void 0===k?y===g||o(y,g,n,a,u):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),y=c(a),g=c(o),k=c(u),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||u&&b(new u)!=d)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case y:return f;case g:return h;case k:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),u=n(4635),s=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=s(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2129);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+r+")"+"?",s="[\\ufe0e\\ufe0f]?",c=s+u+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+s+u+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",u="[\\u2700-\\u27bf]",s="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+s+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",m="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+y+")*"),b="(?:"+[u,l,f].join("|")+")"+k,w=RegExp([h+"?"+s+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+m+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=new t(512),s=new t(512),c=new t(512);function l(e){return u.get(e)||u.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return s.get(e)||s.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,u=e.length;for(i=0;i<u;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Fe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Me=null,Fe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return In}var En=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Fn=null;l&&"documentMode"in document&&(Fn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Fn,Mn=l&&(!Pn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Fa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=F(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Fc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(F(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Fo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Fo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Fo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Os),Os|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Oi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Pu,Fu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Fc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Fu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Fu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Fc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Fu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Ds=0,Os=0,Rs=Ii(0),Ps=0,Fs=null,Ls=0,Ms=0,js=0,Us=null,Vs=null,zs=0,Bs=1/0,qs=null,Ws=!1,Hs=null,Ks=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Ms|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Ds===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Fs,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Fs,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fs,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Os=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Ds=Os=t,Ps=0,Fs=null,js=Ms=Ls=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ps=1,Fs=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ls)&&0===(268435455&Ms)||uc(Ns,Ds)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Ds===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Ds=0,Ps}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=xs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Os)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Xe()-zs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Fc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Fi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Fa(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},7441:function(e,t,n){"use strict";e.exports=n(1372)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,I=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(I=!1,S=null)}}else I=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,x=function(){O.postMessage(null)}}else x=function(){y(A,0)};function R(e){S=e,I||(I=!0,x())}function P(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),u=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!u.has(e[0])||!u.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||s(e[a],a,new Set);return r;function s(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!u.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];s(f,u.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yr},SDK_VERSION:function(){return Ri},_DEFAULT_ENTRY_NAME:function(){return bi},_addComponent:function(){return Ii},_addOrOverwriteComponent:function(){return Si},_apps:function(){return _i},_clearComponents:function(){return Ni},_components:function(){return xi},_getProvider:function(){return Ti},_registerComponent:function(){return Ei},_removeServiceInstance:function(){return Ci},deleteApp:function(){return Mi},getApp:function(){return Fi},getApps:function(){return Li},initializeApp:function(){return Pi},onLog:function(){return Vi},registerVersion:function(){return Ui},setLogLevel:function(){return zi}});var t=n(2791),r=n(4164);function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(2007),u=n.n(o);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&c(e),o=t&&c(t),u=a||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?l(i,h):".."===d?(l(i,h),f++):f&&(l(i,h),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(uM){throw uM instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):uM}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var x="popstate",I="hashchange";function S(){try{return window.history.state||{}}catch(uM){return{}}}function E(e){void 0===e&&(e={}),w||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?_:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function E(){return Math.random().toString(36).substr(2,f)}var T=b();function C(e){s(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(v(e.state))}function A(){O(v(S()))}var D=!1;function O(e){if(D)D=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,L(i))}(e)}))}}var R=v(S()),P=[R.key];function F(e){return h+g(e)}function L(e){t.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?(window.addEventListener(x,N),r&&window.addEventListener(I,A)):0===M&&(window.removeEventListener(x,N),r&&window.removeEventListener(I,A))}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:F,push:function(e,r){var i="PUSH",a=k(e,r,E(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=F(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=P.indexOf(V.location.key),l=P.slice(0,c+1);l.push(a.key),P=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,E(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=F(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=P.indexOf(V.location.key);-1!==c&&(P[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=T.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(N(window.location.href)+"#"+e)}function O(e){void 0===e&&{},w||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?_:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?y(p(e.basename)):"",c=C[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(A());return u&&m(e,u),k(e)}var v=b();function x(e){s(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var I=!1,S=null;function E(){var e=A(),t=l(e);if(e!==t)D(t);else{var n=h(),r=V.location;if(!I&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(S===g(n))return;null,function(e){if(I)!1,x();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?x({action:t,location:e}):function(e){var t=V.location,n=F.lastIndexOf(g(t));-1===n&&0;var r=F.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,L(i))}(e)}))}}(n)}}var O=A(),R=l(O);O!==R&&D(R);var P=h(),F=[g(P)];function L(e){t.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?window.addEventListener(T,E):0===M&&window.removeEventListener(T,E)}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&N(window.location.href),n+"#"+l(u+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(u+t);if(A()!==i){t,function(e){window.location.hash=e}(i);var a=F.lastIndexOf(g(V.location)),o=F.slice(0,a+1);o.push(t),o,x({action:n,location:r})}else x()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(u+t);A()!==i&&(t,D(i));var a=F.indexOf(g(V.location));-1!==a&&(F[a]=t),x({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=v.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function R(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=b();function f(e){s(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(o,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=R(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}var L=n(3813),M=n.n(L),j=n(7441);var U=n(2110),V=n.n(U),z=1073741823,B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function q(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var W=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return B[e]=(B[e]||0)+1}()+"__",s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=q(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):z,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=u().object.isRequired,r);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?z:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?z:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return c.contextTypes=((i={})[o]=u().object,i),{Provider:s,Consumer:c}},H=function(e){var t=W();return t.displayName=e,t},K=H("Router-History"),G=H("Router"),Q=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var $={},Y=0;function X(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=$[n]||($[n]={});if(r[e])return r[e];var i=[],a={regexp:M()(e,i,t),keys:i};return Y<1e4&&(r[e]=a,Y++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var J=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=F({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?X(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(G.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function Z(e){return"/"===e.charAt(0)?e:"/"+e}function ee(e,t){if(!e)return t;var n=Z(e);return 0!==t.pathname.indexOf(n)?t:F({},t,{pathname:t.pathname.substr(n.length)})}function te(e){return"string"===typeof e?e:g(e)}function ne(e){return function(){d(!1)}}function re(){}t.Component;var ie=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(G.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?X(a.pathname,F({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ae=t.useContext;function oe(){return ae(K)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ue(e,t)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function le(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var fe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=E(t.props),t}return se(n,e),n.prototype.render=function(){return t.createElement(Q,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var he=function(e,t){return"function"===typeof e?e(t):e},de=function(e,t){return"string"===typeof e?k(e,null,null,t):e},pe=function(e){return e},ve=t.forwardRef;"undefined"===typeof ve&&(ve=pe);var me=ve((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=le(e,["innerRef","navigate","onClick"]),u=o.target,s=ce({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=pe!==ve&&n||r,t.createElement("a",s)}));var ye=ve((function(e,n){var r=e.component,i=void 0===r?me:r,a=e.replace,o=e.to,u=e.innerRef,s=le(e,["component","replace","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=e.history,c=de(he(o,e.location),e.location),l=c?r.createHref(c):"",f=ce({},s,{href:l,navigate:function(){var t=he(o,e.location),n=g(e.location)===g(de(t));(a||n?r.replace:r.push)(t)}});return pe!==ve?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),ge=function(e){return e},ke=t.forwardRef;"undefined"===typeof ke&&(ke=ge);ke((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,p=e.strict,v=e.style,m=e.to,y=e.innerRef,g=le(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(G.Consumer,null,(function(e){e||d(!1);var r=f||e.location,a=de(he(m,r),r),k=a.pathname,b=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?X(r.pathname,{path:b,exact:c,sensitive:h,strict:p}):null,_=!!(l?l(w,r):w),x="function"===typeof s?s(_):s,I="function"===typeof v?v(_):v;_&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,o),I=ce({},I,u));var S=ce({"aria-current":_&&i||null,className:x,style:I,to:a},g);return ge!==ke?S.ref=n||y:S.innerRef=y,t.createElement(ye,S)}))}));function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var we=n(9613),_e=n.n(we);var xe=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,_=0,x=0,I=0,S=0,E=0,O=0,P=v=d=0,L=0,M=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",H="";L<V;){if(p=s.charCodeAt(L),L===z&&0!==x+S+I+_&&(0!==x&&(p=47===x?10:47),S=I=_=0,V++,z++),0===x+S+I+_){if(L===z&&(0<M&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(L)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++L;L<V;){switch(p=s.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(L+1)){case 42:case 47:e:{for(P=L+1;P<z;++P)switch(s.charCodeAt(P)){case 47:if(42===p&&42===s.charCodeAt(P-1)&&L+2!==P){L=P+1;break e}break;case 10:if(47===p){L=P+1;break e}}L=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<z&&s.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=s.substring(U,L),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=D}if(U=(v=t(r,M,v,p,h+1)).length,0<R&&(b=u(3,v,M=n(D,B,j),r,C,T,U,p,h,c),B=M.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=M=P=d=0,B="",p=s.charCodeAt(++L);break;case 125:case 59:if(1<(U=(B=(0<M?B.replace(f,""):B).trim()).length))switch(0===P&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<R&&void 0!==(b=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+s.charAt(L);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=M=P=d=0,B="",p=s.charCodeAt(++L)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(M=1,B+="\0"),0<R*F&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===x+S+I+_){T++;break}default:switch(T++,m=s.charAt(L),p){case 9:case 32:if(0===S+_+x)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+x+_&&(M=j=1,m="\f"+m);break;case 108:if(0===S+x+_+N&&0<P)switch(L-P){case 2:112===E&&58===s.charCodeAt(L-3)&&(N=E);case 8:111===O&&(N=O)}break;case 58:0===S+x+_&&(P=L);break;case 44:0===x+I+S+_&&(M=1,m+="\r");break;case 34:case 39:0===x&&(S=S===p?0:0===S?p:S);break;case 91:0===S+x+I&&_++;break;case 93:0===S+x+I&&_--;break;case 41:0===S+x+_&&I--;break;case 40:if(0===S+x+_){if(0===d)if(2*E+3*O===533);else d=1;I++}break;case 64:0===x+I+S+_+P+v&&(v=1);break;case 42:case 47:if(!(0<S+_+I))switch(x){case 0:switch(2*p+3*s.charCodeAt(L+1)){case 235:x=47;break;case 220:U=L,x=42}break;case 42:47===p&&42===E&&U+2!==L&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,L+1)),m="",x=0)}}0===x&&(B+=m)}O=E,E=p,L++}if(0<(U=q.length)){if(M=r,0<R&&(void 0!==(b=u(2,q,M,e,C,T,U,c,h,c))&&0===(q=b).length))return H+q+W;if(q=M.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?A=1:(A=2,P=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(D,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",N=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,N=0,A=1,D=[],O=[],R=0,P=null,F=0;return c.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else F=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},Ie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Se=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Te=Se((function(e){return Ee.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ne=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Ae=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,j.typeOf)(e)},De=Object.freeze([]),Oe=Object.freeze({});function Re(e){return"function"==typeof e}function Pe(e){return e.displayName||e.name||"Component"}function Fe(e){return e&&"string"==typeof e.styledComponentId}var Le="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Me="undefined"!=typeof window&&"HTMLElement"in window,je=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ve=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ue(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ze=new Map,Be=new Map,qe=1,We=function(e){if(ze.has(e))return ze.get(e);for(;Be.has(qe);)qe++;var t=qe++;return ze.set(e,t),Be.set(t,e),t},He=function(e){return Be.get(e)},Ke=function(e,t){t>=qe&&(qe=t+1),ze.set(e,t),Be.set(t,e)},Ge="style["+Le+'][data-styled-version="5.3.6"]',Qe=new RegExp("^"+Le+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),$e=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ye=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Qe);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Ke(c,s),$e(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Xe=function(){return n.nc},Je=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Le))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Le,"active"),r.setAttribute("data-styled-version","5.3.6");var o=Xe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Ze=function(){function e(e){var t=this.element=Je(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ue(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),et=function(){function e(e){var t=this.element=Je(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),tt=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),nt=Me,rt={isServer:!Me,useCSSOMInjection:!je},it=function(){function e(e,t,n){void 0===e&&(e=Oe),void 0===t&&(t={}),this.options=Ce({},rt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Me&&nt&&(nt=!1,function(e){for(var t=document.querySelectorAll(Ge),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Le)&&(Ye(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return We(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ce({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new tt(i):r?new Ze(i):new et(i),new Ve(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(We(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(We(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(We(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=He(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Le+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),at=/(a)(d)/gi,ot=function(e){return String.fromCharCode(e+(e>25?39:97))};function ut(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ot(t%52)+n;return(ot(t%52)+n).replace(at,"$1-$2")}var st=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ct=function(e){return st(5381,e)};function lt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Re(n)&&!Fe(n))return!1}return!0}var ft=ct("5.3.6"),ht=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&lt(e),this.componentId=t,this.baseHash=st(ft,t),this.baseStyle=n,it.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=At(this.rules,e,t,n).join(""),o=ut(st(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=st(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=At(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=st(c,p+f),l+=p}}if(l){var v=ut(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),dt=/^\s*\/\/.*$/gm,pt=[":","[",".","#"];function vt(e){var t,n,r,i,a=void 0===e?Oe:e,o=a.options,u=void 0===o?Oe:o,s=a.plugins,c=void 0===s?De:s,l=new xe(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==pt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(dt,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ue(15),st(e,t.name)}),5381).toString():"",p}var mt=t.createContext(),yt=(mt.Consumer,t.createContext()),gt=(yt.Consumer,new it),kt=vt();function bt(){return(0,t.useContext)(mt)||gt}function wt(){return(0,t.useContext)(yt)||kt}function _t(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=bt(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return vt({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){_e()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(mt.Provider,{value:o},t.createElement(yt.Provider,{value:u},e.children))}var xt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=kt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ue(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=kt),this.name+e.hash},e}(),It=/([A-Z])/,St=/([A-Z])/g,Et=/^ms-/,Tt=function(e){return"-"+e.toLowerCase()};function Ct(e){return It.test(e)?e.replace(St,Tt).replace(Et,"-ms-"):e}var Nt=function(e){return null==e||!1===e||""===e};function At(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=At(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Nt(e)?"":Fe(e)?"."+e.styledComponentId:Re(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:At(e(t),t,n,r):e instanceof xt?n?(e.inject(n,r),e.getName(r)):e:Ae(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Nt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Re(t[o])?a.push(Ct(o)+":",t[o],";"):Ae(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ct(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Ie?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Dt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Re(e)||Ae(e)?Dt(At(Ne(De,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Dt(At(Ne(e,n)))}new Set;var Rt=function(e,t,n){return void 0===n&&(n=Oe),e.theme!==n.theme&&e.theme||t||n.theme},Pt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ft=/(^-|-$)/g;function Lt(e){return e.replace(Pt,"-").replace(Ft,"")}var Mt=function(e){return ut(ct(e)>>>0)};function jt(e){return"string"==typeof e&&!0}var Ut=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Vt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function zt(e,t,n){var r=e[n];Ut(t)&&Ut(r)?Bt(r,t):e[n]=t}function Bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ut(o))for(var u in o)Vt(u)&&zt(e,o[u],u)}return e}var qt=t.createContext();qt.Consumer;var Wt={};function Ht(e,n,r){var i=Fe(e),a=!jt(e),o=n.attrs,u=void 0===o?De:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Lt(e);Wt[n]=(Wt[n]||0)+1;var r=n+"-"+Mt("5.3.6"+n+Wt[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return jt(e)?"styled."+e:"Styled("+Pe(e)+")"}(e):l,h=n.displayName&&n.componentId?Lt(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new ht(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Oe);var r=Ce({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Re(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Rt(n,(0,t.useContext)(qt),u)||Oe,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=bt(),a=wt();return t?e.generateAndInjectStyles(Oe,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=jt(y),k=p!==n?Ce({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Te,y):!g||Te(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=Ce({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,t.createElement)(y,b)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):De,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(jt(e)?e:Lt(Pe(e)));return Ht(e,Ce({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Bt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&V()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Kt=function(e){return function e(t,n,r){if(void 0===r&&(r=Oe),!(0,j.isValidElementType)(n))return Ue(1,String(n));var i=function(){return t(n,r,Ot.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ce({},r,{},i))},i.attrs=function(i){return e(t,n,Ce({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Ht,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Kt[e]=Kt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=lt(e),it.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(At(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&it.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Xe();return"<style "+[n&&'nonce="'+n+'"',Le+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ue(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Ue(2);var r=((n={})[Le]="",n["data-styled-version"]="5.3.6",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Xe();return i&&(r.nonce=i),[t.createElement("style",Ce({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new it({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?Ue(2):t.createElement(_t,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return Ue(3)}}();var Gt,Qt,$t,Yt,Xt,Jt,Zt,en=Kt,tn=en.div(Gt||(Gt=be(["\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n"]))),nn=en.div(Qt||(Qt=be(["    \n    width: 100%;\n    height: 70px;\n    display: flex;\n    overflow: hidden;\n    justify-content: space-between; \n    align-items: center;\n    padding: 10px;\n    box-shadow: 0px 5px 20px #000;\n \n    //background gradiente\n    background: -webkit-linear-gradient(to left, #b721ff, #333);\n    background: -o-linear-gradient(to left, #b721ff, #333);\n    background: -moz-linear-gradient(to left, #b721ff, #333);\n    background: linear-gradient(to left, #b721ff, #333);    \n    "]))),rn=en.div($t||($t=be(["\n  color: #fff;\n  text-shadow:0px 0px 3px #f05be6;\n  font-size: 35px;\n  font-weight: bold;\n  box-sizing: border-box;\n\n  @media screen and (max-width: 600px) {\n    font-size: 23px;\n}\n  @media screen and (max-width: 350px) {\n    font-size: 15px;\n}\n  "]))),an=(en.div(Yt||(Yt=be(["\n  display: flex;\n  justify-content: center;\n\n@media screen and (max-width: 600px) {\n  width: 50px;\n}\n@media screen and (max-width: 350px) {\n    width: 30px;\n}\n  "]))),en.div(Xt||(Xt=be(["    \nwidth: 100%;\nheight: 45px;\ndisplay: flex;\njustify-content: center; \nalign-items: center;\nbox-shadow: 0px 5px 20px #000;\nbackground: #525252;\n\n@media (max-width: 768px)and (min-width: 481px) {\n  width: 100%;\n  height: 80px; \n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    width: 100%;\n    height: 80px; \n  }\n"]))));function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn,ln,fn=en.div(Jt||(Jt=be(["\n  margin:0;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap:1.5px;\n  height: 70%;\n\n.btn {  \n  background-color: transparent;\n  border: 2px solid #e74c3c;\n  border-radius: 0.6em;\n  color: #e74c3c;\n  text-transform: uppercase;\n  font-family: 'Montserrat', sans-serif;\n  text-shadow:0px 0px 3px #f05be6;\n  cursor: pointer;\n  padding: 0.5em 3.3em 0.5em 3.3em;\n  font-weight: 600;\n\n  @media screen and (max-width: 396px) {\n    padding: 0.1em 1em 0.1em 1em;\n    justify-content: center;\n}\n@media screen and (max-width: 600px) {\n  padding: 0.4em 1.3em 0.4em 1.3em;\n  font: 20px;\n}\n\n}\n.btn:hover, .btn:focus {\n  color: #fff;\n  outline: 0;\n}\n\n.third {\n  border-color: #fff;\n  color: #fff;\n\n  box-shadow: 0 0 40px 40px #af72dd  inset, 0 0 0 0 #af72dd;\n  transition: all 150ms ease-in-out;\n}\n.third:hover {\n  box-shadow: 0 0 10px 0 #af72dd inset, 0 0 10px 4px #af72dd;\n}\n"]))),hn=(en.div(Zt||(Zt=be(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  padding: 15px 1px 20px 1px;\n\n.btn {\n  font-size: 15px;\n  border: none;\n  border-radius: 10px;\n  color: #fff;\n  line-height: 1.2;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  background: #6a7dfe;\n  background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n  background: linear-gradient(to left, #21d4fd, #b721ff);\n}\n\n.btn:hover, .btn:focus {\n  color: #fff;\n  outline: 0;\n}\n\n.third {\n  border-color: #fff;\n  color: #fff;\n\n  box-shadow: 0 0 40px 40px #cd060c   inset, 0 0 0 0 #cd060c ;\n  transition: all 150ms ease-in-out;\n}\n.third:hover {\n  box-shadow: 0 0 10px 0 #cd060c inset, 0 0 10px 4px #cd060c ;\n}\n"]))),n(184)),dn=function(e){var t=oe();return(0,hn.jsxs)(fn,{children:[(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third",onClick:function(){t.push("/")},children:"DashBoard"})),(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third",onClick:function(){t.push("/Top10")},children:"Top 10"})),(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third",onClick:function(){t.push("/consultaMes")},children:"Consulta Mes"})),(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third",onClick:function(){t.push("/addPage")},children:"Add Aniver"})),(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third",onClick:function(){t.push("/entrar")},children:"Login"}))]})},pn=function(){return(0,hn.jsxs)(tn,{children:[(0,hn.jsx)(nn,{children:(0,hn.jsx)(rn,{children:"**AGENDA ANIVERSARIANTES **"})}),(0,hn.jsx)(an,{children:(0,hn.jsx)(dn,{})})]})},vn=en.div(cn||(cn=be(["\n  width: 100vw;\n  height: 100vh;\n  margin: 0 auto;\n"]))),mn=en.div(ln||(ln=be(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  overflow: hidden;\n  padding: 30px 50px 25px 50px;\n\n  background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: linear-gradient(to left, #bdebf5, #dbbee9);\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    padding: 30px 25px 25px 25px;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 30px 10px 25px 10px;\n  }  \n  "]))),yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVR4nO3aXWrCUBTE8aHFhfTBh/og7U60W1I34Fe7ALucaheh6CrUcyKC1ECTNrmBnP8P5v3OKASSKwEAAAAAavFqmVg+LTPL0PLY6IkS6Vg+LEfL6UfWlqfmjpbGu+6L32Zn6TZ2upq9KP+XDzPCWL+Xb/UIKxUfoJUjzFVugNaN4I+6sgO0agR/zm8UfAR/znuZ0CN4ia3+NsLB0kt/5OoxghghwwhihAwjiBEyjCBG+NcAe8tz+iNXh/KiPOUpXzCUT3/k6lBeQcuHfiXmL0W/FbS8e1Pg8m6hwOVd+E9j4T+Ohv887kJfkHB+RWap/H/ClwJckbnqW0a6XJKaWgaWh0ZPBAAAAADRnQH8AOnIx31bQwAAAABJRU5ErkJggg==";function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function kn(){kn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==gn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function bn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(qN){return void n(qN)}u.done?t(s):Promise.resolve(s).then(r,i)}function wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){bn(a,r,i,o,u,"next",e)}function u(e){bn(a,r,i,o,u,"throw",e)}o(void 0)}))}}function _n(e){if(Array.isArray(e))return e}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t){if(e){if("string"===typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}function Sn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function En(e,t){return _n(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||In(e,t)||Sn()}function Tn(e,t){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tn(e,t)}function Cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(uM){return!1}}function Nn(e,t,n){return Nn=Cn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Tn(i,n.prototype),i},Nn.apply(null,arguments)}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},An(e)}function Dn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=An(e)););return e}function On(){return On="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Dn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},On.apply(this,arguments)}function Rn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=In(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tn(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e,t){if(t&&("object"===gn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function Mn(e){var t=Cn();return function(){var n,r=An(e);if(t){var i=An(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ln(this,n)}}function jn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Un(e){return function(e){if(Array.isArray(e))return xn(e)}(e)||jn(e)||In(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t,n){return t&&zn(e.prototype,t),n&&zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qn(e){var t="function"===typeof Map?new Map:void 0;return qn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Nn(e,arguments,An(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tn(n,e)},qn(e)}var Wn=!1,Hn=!1,Kn="${JSCORE_VERSION}",Gn=function(e,t){if(!e)throw Qn(t)},Qn=function(e){return new Error("Firebase Database ("+Kn+") INTERNAL ASSERT FAILED: "+e)},$n=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($n(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xn=function(e){var t=$n(e);return Yn.encodeByteArray(t,!0)},Jn=function(e){return Xn(e).replace(/\./g,"")},Zn=function(e){try{return Yn.decodeString(e,!0)}catch(uM){console.error("base64Decode failed: ",uM)}return null};function er(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&tr(n)&&(e[n]=er(e[n],t[n]));return e}function tr(e){return"__proto__"!==e}function nr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function ir(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uM){return!1}}function ar(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function or(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ur(){var e=nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sr(){return!0===Wn||!0===Hn}function cr(){return"object"===typeof indexedDB}var lr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fr=function(){try{return lr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uM){return}var t=e&&Zn(e[1]);return t&&JSON.parse(t)}}()}catch(uM){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uM))}},hr=function(e){var t,n;return null===(n=null===(t=fr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},dr=function(){var e;return null===(e=fr())||void 0===e?void 0:e.config},pr=function(e){var t;return null===(t=fr())||void 0===t?void 0:t["_".concat(e)]},vr=function(){function e(){var t=this;Vn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Bn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Jn(JSON.stringify({alg:"none",type:"JWT"})),Jn(JSON.stringify(a)),""].join(".")}var yr=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Fn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fn(a),gr.prototype.create),a}return Bn(n)}(qn(Error)),gr=function(){function e(t,n,r){Vn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Bn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?kr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new yr(n,a,t);return o}}]),e}();function kr(e,t){return e.replace(br,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var br=/\{\$([^}]+)}/g;function wr(e){return JSON.parse(e)}function _r(e){return JSON.stringify(e)}var xr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=wr(Zn(a[0])||""),n=wr(Zn(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(uM){}return{header:t,claims:n,data:r,signature:i}};function Ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Er(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Tr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Cr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Nr(u)&&Nr(s)){if(!Cr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Nr(e){return null!==e&&"object"===typeof e}function Ar(e){for(var t=[],n=function(){var e=En(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Dr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=En(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Or(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Rr=function(){function e(){Vn(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Bn(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Pr(e,t){var n=new Fr(e,t);return n.subscribe.bind(n)}var Fr=function(){function e(t,n){var r=this;Vn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Bn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Rn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Lr),void 0===r.error&&(r.error=Lr),void 0===r.complete&&(r.complete=Lr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(uM){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(uM){"undefined"!==typeof console&&console.error&&console.error(uM)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Lr(){}function Mr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var jr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ur(e){return e&&e._delegate?e._delegate:e}var Vr=function(){function e(t,n,r){Vn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Bn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),zr="[DEFAULT]",Br=function(){function e(t,n){Vn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Bn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new vr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(uM){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uM){if(r)return null;throw uM}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch(uM){}var t,n=Rn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=En(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(uM){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Un(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Un(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Rn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=En(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(mk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===zr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(mk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;return this.component?this.component.multipleInstances?e:zr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var qr,Wr,Hr=function(){function e(t){Vn(this,e),this.name=t,this.providers=new Map}return Bn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Br(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wr||(Wr={}));var Gr={debug:Wr.DEBUG,verbose:Wr.VERBOSE,info:Wr.INFO,warn:Wr.WARN,error:Wr.ERROR,silent:Wr.SILENT},Qr=Wr.INFO,$r=(on(qr={},Wr.DEBUG,"log"),on(qr,Wr.VERBOSE,"log"),on(qr,Wr.INFO,"info"),on(qr,Wr.WARN,"warn"),on(qr,Wr.ERROR,"error"),qr),Yr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$r[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xr=function(){function e(t){Vn(this,e),this.name=t,this._logLevel=Qr,this._logHandler=Yr,this._userLogHandler=null,Kr.push(this)}return Bn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Gr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.INFO].concat(t)),this._logHandler.apply(this,[this,Wr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.WARN].concat(t)),this._logHandler.apply(this,[this,Wr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wr.ERROR].concat(t)),this._logHandler.apply(this,[this,Wr.ERROR].concat(t))}}]),e}();var Jr,Zr;var ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,ri=new WeakMap,ii=new WeakMap;var ai={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ti.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ni.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function oi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zr||(Zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ci(this),n),si(ei.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return si(e.apply(ci(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ci(this),t].concat(r));return ni.set(a,t.sort?t.sort():[t]),si(a)}}function ui(e){return"function"===typeof e?oi(e):(e instanceof IDBTransaction&&function(e){if(!ti.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ti.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Jr||(Jr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ai):e)}function si(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(si(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ei.set(t,e)})).catch((function(){})),ii.set(t,e),t}(e);if(ri.has(e))return ri.get(e);var t=ui(e);return t!==e&&(ri.set(e,t),ii.set(t,e)),t}var ci=function(e){return ii.get(e)};var li,fi,hi=["get","getKey","getAll","getAllKeys","count"],di=["put","add","delete","clear"],pi=new Map;function vi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(pi.get(t))return pi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=di.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||hi.includes(n))){var a=function(){var e=wn(kn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return pi.set(t,a),a}}}ai=function(e){return sn(sn({},e),{},{get:function(t,n,r){return vi(t,n)||e.get(t,n,r)},has:function(t,n){return!!vi(t,n)||e.has(t,n)}})}(ai);var mi=function(){function e(t){Vn(this,e),this.container=t}return Bn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yi="@firebase/app",gi="0.8.3",ki=new Xr("@firebase/app"),bi="[DEFAULT]",wi=(on(li={},yi,"fire-core"),on(li,"@firebase/app-compat","fire-core-compat"),on(li,"@firebase/analytics","fire-analytics"),on(li,"@firebase/analytics-compat","fire-analytics-compat"),on(li,"@firebase/app-check","fire-app-check"),on(li,"@firebase/app-check-compat","fire-app-check-compat"),on(li,"@firebase/auth","fire-auth"),on(li,"@firebase/auth-compat","fire-auth-compat"),on(li,"@firebase/database","fire-rtdb"),on(li,"@firebase/database-compat","fire-rtdb-compat"),on(li,"@firebase/functions","fire-fn"),on(li,"@firebase/functions-compat","fire-fn-compat"),on(li,"@firebase/installations","fire-iid"),on(li,"@firebase/installations-compat","fire-iid-compat"),on(li,"@firebase/messaging","fire-fcm"),on(li,"@firebase/messaging-compat","fire-fcm-compat"),on(li,"@firebase/performance","fire-perf"),on(li,"@firebase/performance-compat","fire-perf-compat"),on(li,"@firebase/remote-config","fire-rc"),on(li,"@firebase/remote-config-compat","fire-rc-compat"),on(li,"@firebase/storage","fire-gcs"),on(li,"@firebase/storage-compat","fire-gcs-compat"),on(li,"@firebase/firestore","fire-fst"),on(li,"@firebase/firestore-compat","fire-fst-compat"),on(li,"fire-js","fire-js"),on(li,"firebase","fire-js-all"),li),_i=new Map,xi=new Map;function Ii(e,t){try{e.container.addComponent(t)}catch(uM){ki.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uM)}}function Si(e,t){e.container.addOrOverwriteComponent(t)}function Ei(e){var t=e.name;if(xi.has(t))return ki.debug("There were multiple attempts to register component ".concat(t,".")),!1;xi.set(t,e);var n,r=Rn(_i.values());try{for(r.s();!(n=r.n()).done;){Ii(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ti(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ci(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bi;Ti(e,t).clearInstance(n)}function Ni(){xi.clear()}var Ai=(on(fi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),on(fi,"bad-app-name","Illegal App name: '{$appName}"),on(fi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),on(fi,"app-deleted","Firebase App named '{$appName}' already deleted"),on(fi,"no-options","Need to provide options, when not being deployed to hosting via source."),on(fi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),on(fi,"invalid-log-argument","First argument to `onLog` must be null or a function."),on(fi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),on(fi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),on(fi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),on(fi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),fi),Di=new gr("app","Firebase",Ai),Oi=function(){function e(t,n,r){var i=this;Vn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",(function(){return i}),"PUBLIC"))}return Bn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}]),e}(),Ri="9.13.0";function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:bi,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Di.create("bad-app-name",{appName:String(a)});if(n||(n=dr()),!n)throw Di.create("no-options");var o=_i.get(a);if(o){if(Cr(n,o.options)&&Cr(i,o.config))return o;throw Di.create("duplicate-app",{appName:a})}var u,s=new Hr(a),c=Rn(xi.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Oi(n,i,s);return _i.set(a,f),f}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=_i.get(e);if(!t&&e===bi)return Pi();if(!t)throw Di.create("no-app",{appName:e});return t}function Li(){return Array.from(_i.values())}function Mi(e){return ji.apply(this,arguments)}function ji(){return ji=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!_i.has(n)){e.next=6;break}return _i.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Ui(e,t,n){var r,i=null!==(r=wi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ki.warn(u.join(" "))}Ei(new Vr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Vi(e,t){if(null!==e&&"function"!==typeof e)throw Di.create("invalid-log-argument");!function(e,t){var n,r=Rn(Kr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Gr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function zi(e){var t;t=e,Kr.forEach((function(e){e.setLogLevel(t)}))}var Bi="firebase-heartbeat-store",qi=null;function Wi(){return qi||(qi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=si(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(si(u.result),e.oldVersion,e.newVersion,si(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Bi)}}).catch((function(e){throw Di.create("idb-open",{originalErrorMessage:e.message})}))),qi}function Hi(e){return Ki.apply(this,arguments)}function Ki(){return Ki=wn(kn().mark((function e(t){var n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wi();case 3:return r=e.sent,e.abrupt("return",r.transaction(Bi).objectStore(Bi).get($i(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof yr?ki.warn(e.t0.message):(i=Di.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ki.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ki.apply(this,arguments)}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=wn(kn().mark((function e(t,n){var r,i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wi();case 3:return i=e.sent,a=i.transaction(Bi,"readwrite"),o=a.objectStore(Bi),e.next=8,o.put(n,$i(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof yr?ki.warn(e.t0.message):(u=Di.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ki.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qi.apply(this,arguments)}function $i(e){return"".concat(e.name,"!").concat(e.options.appId)}var Yi=function(){function e(t){var n=this;Vn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ea(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Bn(e,[{key:"triggerHeartbeat",value:function(){var e=wn(kn().mark((function e(){var t,n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Xi(),n=Ji(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Jn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xi(){return(new Date).toISOString().substring(0,10)}function Ji(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Rn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ta(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ta(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Zi,ea=function(){function e(t){Vn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Bn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qN){t(qN)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Hi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Un(r.heartbeats),Un(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ta(e){return Jn(JSON.stringify({version:2,heartbeats:e})).length}Zi="",Ei(new Vr("platform-logger",(function(e){return new mi(e)}),"PRIVATE")),Ei(new Vr("heartbeat",(function(e){return new Yi(e)}),"PRIVATE")),Ui(yi,gi,Zi),Ui(yi,gi,"esm2017"),Ui("fire-js","");var na,ra="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ia={},aa=aa||{},oa=ra||self;function ua(){}function sa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ca(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var la="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(e,t,n){return e.call.apply(e.bind,arguments)}function da(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pa(e,t,n){return(pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:da).apply(null,arguments)}function va(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ma(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ya(){this.s=this.s,this.o=this.o}ya.prototype.s=!1,ya.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,la)&&e[la]||(e[la]=++fa))},ya.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ga=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ka(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ba(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(sa(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function wa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wa.prototype.h=function(){this.defaultPrevented=!0};var _a=function(){if(!oa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oa.addEventListener("test",ua,t),oa.removeEventListener("test",ua,t)}catch(n){}return e}();function xa(e){return/^[\s\xa0]*$/.test(e)}var Ia=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Sa(e,t){return e<t?-1:e>t?1:0}function Ea(){var e=oa.navigator;return e&&(e=e.userAgent)?e:""}function Ta(e){return-1!=Ea().indexOf(e)}function Ca(e){return Ca[" "](e),e}Ca[" "]=ua;var Na,Aa=Ta("Opera"),Da=Ta("Trident")||Ta("MSIE"),Oa=Ta("Edge"),Ra=Oa||Da,Pa=Ta("Gecko")&&!(-1!=Ea().toLowerCase().indexOf("webkit")&&!Ta("Edge"))&&!(Ta("Trident")||Ta("MSIE"))&&!Ta("Edge"),Fa=-1!=Ea().toLowerCase().indexOf("webkit")&&!Ta("Edge");function La(){var e=oa.document;return e?e.documentMode:void 0}e:{var Ma="",ja=function(){var e=Ea();return Pa?/rv:([^\);]+)(\)|;)/.exec(e):Oa?/Edge\/([\d\.]+)/.exec(e):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fa?/WebKit\/(\S+)/.exec(e):Aa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ja&&(Ma=ja?ja[1]:""),Da){var Ua=La();if(null!=Ua&&Ua>parseFloat(Ma)){Na=String(Ua);break e}}Na=Ma}var Va,za={};function Ba(){return function(e){var t=za;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ia(String(Na)).split("."),n=Ia("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Sa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Sa(0==a[2].length,0==o[2].length)||Sa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(oa.document&&Da){var qa=La();Va=qa||(parseInt(Na,10)||void 0)}else Va=void 0;var Wa=Va;function Ha(e,t){if(wa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pa){e:{try{Ca(t.nodeName);var i=!0;break e}catch(cM){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ka[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ha.X.h.call(this)}}ma(Ha,wa);var Ka={2:"touch",3:"pen",4:"mouse"};Ha.prototype.h=function(){Ha.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ga="closure_listenable_"+(1e6*Math.random()|0),Qa=0;function $a(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Qa,this.ba=this.ea=!1}function Ya(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Xa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ja(e){var t={};for(var n in e)t[n]=e[n];return t}var Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Za.length;a++)n=Za[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function to(e){this.src=e,this.g={},this.h=0}function no(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ga(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ya(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ro(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}to.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ro(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new $a(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var io="closure_lm_"+(1e6*Math.random()|0),ao={};function oo(e,t,n,r,i){if(r&&r.once)return so(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)oo(e,t[a],n,r,i);return null}return n=mo(n),e&&e[Ga]?e.N(t,n,ca(r)?!!r.capture:!!r,i):uo(e,t,n,!1,r,i)}function uo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ca(i)?!!i.capture:!!i,u=po(e);if(u||(e[io]=u=new to(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ho;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_a||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function so(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)so(e,t[a],n,r,i);return null}return n=mo(n),e&&e[Ga]?e.O(t,n,ca(r)?!!r.capture:!!r,i):uo(e,t,n,!0,r,i)}function co(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)co(e,t[a],n,r,i);else r=ca(r)?!!r.capture:!!r,n=mo(n),e&&e[Ga]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ro(a=e.g[t],n,r,i))&&(Ya(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=po(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ro(t,n,r,i)),(n=-1<e?t[e]:null)&&lo(n))}function lo(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Ga])no(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=po(t))?(no(n,e),0==n.h&&(n.src=null,t[io]=null)):Ya(e)}}}function fo(e){return e in ao?ao[e]:ao[e]="on"+e}function ho(e,t){if(e.ba)e=!0;else{t=new Ha(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&lo(e),e=n.call(r,t)}return e}function po(e){return(e=e[io])instanceof to?e:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(e){return"function"===typeof e?e:(e[vo]||(e[vo]=function(t){return e.handleEvent(t)}),e[vo])}function yo(){ya.call(this),this.i=new to(this),this.P=this,this.I=null}function go(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wa(t,e);else if(t instanceof wa)t.target=t.target||e;else{var i=t;eo(t=new wa(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ko(o,r,!0,t)&&i}if(i=ko(o=t.g=e,r,!0,t)&&i,i=ko(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ko(o=t.g=n[a],r,!1,t)&&i}function ko(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&no(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ma(yo,ya),yo.prototype[Ga]=!0,yo.prototype.removeEventListener=function(e,t,n,r){co(this,e,t,n,r)},yo.prototype.M=function(){if(yo.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ya(n[r]);delete t.g[e],t.h--}}this.I=null},yo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bo=oa.JSON.stringify;function wo(){var e=No,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _o,xo=function(){function e(){Vn(this,e),this.h=this.g=null}return Bn(e,[{key:"add",value:function(e,t){var n=Io.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Io=new(function(){function e(t,n){Vn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Bn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new So}),(function(e){return e.reset()})),So=function(){function e(){Vn(this,e),this.next=this.g=this.h=null}return Bn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Eo(e){oa.setTimeout((function(){throw e}),0)}function To(e,t){_o||function(){var e=oa.Promise.resolve(void 0);_o=function(){e.then(Ao)}}(),Co||(_o(),Co=!0),No.add(e,t)}var Co=!1,No=new xo;function Ao(){for(var e;e=wo();){try{e.h.call(e.g)}catch(n){Eo(n)}var t=Io;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Co=!1}function Do(e,t){yo.call(this),this.h=e||1,this.g=t||oa,this.j=pa(this.lb,this),this.l=Date.now()}function Oo(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ro(e,t,n){if("function"===typeof e)n&&(e=pa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pa(e.handleEvent,e)}return 2147483647<Number(t)?-1:oa.setTimeout(e,t||0)}function Po(e){e.g=Ro((function(){e.g=null,e.i&&(e.i=!1,Po(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ma(Do,yo),(na=Do.prototype).ca=!1,na.R=null,na.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),go(this,"tick"),this.ca&&(Oo(this),this.start()))}},na.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},na.M=function(){Do.X.M.call(this),Oo(this),delete this.g};var Fo=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Bn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Po(this)}},{key:"M",value:function(){On(An(n.prototype),"M",this).call(this),this.g&&(oa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ya);function Lo(e){ya.call(this),this.h=e,this.g={}}ma(Lo,ya);var Mo=[];function jo(e,t,n,r){Array.isArray(n)||(n&&(Mo[0]=n.toString()),n=Mo);for(var i=0;i<n.length;i++){var a=oo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Uo(e){Xa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lo(e)}),e),e.g={}}function Vo(){this.g=!0}function zo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return bo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Lo.prototype.M=function(){Lo.X.M.call(this),Uo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vo.prototype.Aa=function(){this.g=!1},Vo.prototype.info=function(){};var Bo={},qo=null;function Wo(){return qo=qo||new yo}function Ho(e){wa.call(this,Bo.Pa,e)}function Ko(e){var t=Wo();go(t,new Ho(t))}function Go(e,t){wa.call(this,Bo.STAT_EVENT,e),this.stat=t}function Qo(e){var t=Wo();go(t,new Go(t,e))}function $o(e,t){wa.call(this,Bo.Qa,e),this.size=t}function Yo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return oa.setTimeout((function(){e()}),t)}Bo.Pa="serverreachability",ma(Ho,wa),Bo.STAT_EVENT="statevent",ma(Go,wa),Bo.Qa="timingevent",ma($o,wa);var Xo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Jo={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Zo(){}function eu(e){return e.h||(e.h=e.i())}function tu(){}Zo.prototype.h=null;var nu,ru={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function iu(){wa.call(this,"d")}function au(){wa.call(this,"c")}function ou(){}function uu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Lo(this),this.O=cu,e=Ra?125:void 0,this.T=new Do(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}ma(iu,wa),ma(au,wa),ma(ou,Zo),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},nu=new ou;var cu=45e3,lu={},fu={};function hu(e,t,n){e.K=1,e.v=Du(Eu(t)),e.s=n,e.P=!0,du(e,null)}function du(e,t){e.F=Date.now(),yu(e),e.A=Eu(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Wu(n.i,"t",r),e.C=0,n=e.l.H,e.h=new su,e.g=Hs(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Fo(pa(e.La,e,e.g),e.N)),jo(e.S,e.g,"readystatechange",e.ib),t=e.H?Ja(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ko(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function pu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function vu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mu(e,n))==fu){4==t&&(e.o=4,Qo(14),i=!1),zo(e.j,e.m,null,"[Incomplete Response]");break}if(r==lu){e.o=4,Qo(15),zo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zo(e.j,e.m,r,null),_u(e,r)}pu(e)&&r!=fu&&r!=lu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ms(t),t.K=!0,Qo(11))):(zo(e.j,e.m,n,"[Invalid Chunked Response]"),wu(e),bu(e))}function mu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fu:(n=Number(t.substring(n,r)),isNaN(n)?lu:(r+=1)+n>t.length?fu:(t=t.substr(r,n),e.C=r+n,t))}function yu(e){e.V=Date.now()+e.O,gu(e,e.O)}function gu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yo(pa(e.gb,e),t)}function ku(e){e.B&&(oa.clearTimeout(e.B),e.B=null)}function bu(e){0==e.l.G||e.I||Vs(e.l,e)}function wu(e){ku(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Oo(e.T),Uo(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _u(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ju(n.h,e)))if(!e.J&&Ju(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Us(n),Ns(n)}Ls(n),Qo(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Yo(pa(n.cb,n),6e3));if(1>=Xu(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Bs(n,11)}else if((e.J||n.g==e)&&Us(n),!xa(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Zu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Au(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Ws(r,r.H?r.ka:null,r.V),d.J){es(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(ku(p),yu(p)),r.g=d}else Fs(r);0<n.i.length&&Ds(n)}else"stop"!=a[0]&&"close"!=a[0]||Bs(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Bs(n,7):Cs(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ko()}catch(a){}}function xu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(sa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(sa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(na=uu.prototype).setTimeout=function(e){this.O=e},na.ib=function(e){e=e.target;var t=this.L;t&&3==_s(e)?t.l():this.La(e)},na.La=function(e){try{if(e==this.g)e:{var t=_s(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ra||this.g&&(this.h.h||this.g.fa()||xs(this.g)))){this.I||4!=t||7==n||Ko(),ku(this);var r=this.g.aa();this.Y=r;t:if(pu(this)){var i=xs(this.g);e="";var a=i.length,o=4==_s(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wu(this),bu(this);var u="";break t}this.h.i=new oa.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xa(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Qo(12),wu(this),bu(this);break e}zo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_u(this,r)}this.P?(vu(this,t,u),Ra&&this.i&&3==t&&(jo(this.S,this.T,"tick",this.hb),this.T.start())):(zo(this.j,this.m,u,null),_u(this,u)),4==t&&wu(this),this.i&&!this.I&&(4==t?Vs(this.l,this):(this.i=!1,yu(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),wu(this),bu(this)}}}catch(t){}},na.hb=function(){if(this.g){var e=_s(this.g),t=this.g.fa();this.C<t.length&&(ku(this),vu(this,e,t),this.i&&4!=e&&yu(this))}},na.cancel=function(){this.I=!0,wu(this)},na.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ko(),Qo(17)),wu(this),this.o=2,bu(this)):gu(this,this.V-e)};var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Su){this.h=void 0!==t?t:e.h,Tu(this,e.j),this.s=e.s,this.g=e.g,Cu(this,e.m),this.l=e.l,t=e.i;var n=new Vu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nu(this,n),this.o=e.o}else e&&(n=String(e).match(Iu))?(this.h=!!t,Tu(this,n[1]||"",!0),this.s=Ou(n[2]||""),this.g=Ou(n[3]||"",!0),Cu(this,n[4]),this.l=Ou(n[5]||"",!0),Nu(this,n[6]||"",!0),this.o=Ou(n[7]||"")):(this.h=!!t,this.i=new Vu(null,this.h))}function Eu(e){return new Su(e)}function Tu(e,t,n){e.j=n?Ou(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nu(e,t,n){t instanceof Vu?(e.i=t,function(e,t){t&&!e.j&&(zu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bu(this,t),Wu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ru(t,ju)),e.i=new Vu(t,e.h))}function Au(e,t,n){e.i.set(t,n)}function Du(e){return Au(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ou(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ru(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Su.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ru(t,Fu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ru(t,Fu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ru(n,"/"==n.charAt(0)?Mu:Lu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ru(n,Uu)),e.join("")};var Fu=/[#\/\?@]/g,Lu=/[#\?:]/g,Mu=/[#\?]/g,ju=/[#\?@]/g,Uu=/#/g;function Vu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bu(e,t){zu(e),t=Hu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qu(e,t){return zu(e),t=Hu(e,t),e.g.has(t)}function Wu(e,t,n){Bu(e,t),0<n.length&&(e.i=null,e.g.set(Hu(e,t),ka(n)),e.h+=n.length)}function Hu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(na=Vu.prototype).add=function(e,t){zu(this),this.i=null,e=Hu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},na.forEach=function(e,t){zu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},na.oa=function(){zu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},na.W=function(e){zu(this);var t=[];if("string"===typeof e)qu(this,e)&&(t=t.concat(this.g.get(Hu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},na.set=function(e,t){return zu(this),this.i=null,qu(this,e=Hu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},na.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},na.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ku=Bn((function e(t,n){Vn(this,e),this.h=t,this.g=n}));function Gu(e){this.l=e||$u,oa.PerformanceNavigationTiming?e=0<(e=oa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(oa.g&&oa.g.Ga&&oa.g.Ga()&&oa.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qu,$u=10;function Yu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xu(e){return e.h?1:e.g?e.g.size:0}function Ju(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Zu(e,t){e.g?e.g.add(t):e.h=t}function es(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ts(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Rn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ka(e.i)}function ns(){}function rs(){this.g=new ns}function is(e,t,n){var r=n||"";try{xu(e,(function(e,n){var i=e;ca(e)&&(i=bo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uM){throw t.push(r+"type="+encodeURIComponent("_badmap")),uM}}function as(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(cM){}}function os(e){this.l=e.ac||null,this.j=e.jb||!1}function us(e,t){yo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gu.prototype.cancel=function(){if(this.i=ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Rn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ns.prototype.stringify=function(e){return oa.JSON.stringify(e,void 0)},ns.prototype.parse=function(e){return oa.JSON.parse(e,void 0)},ma(os,Zo),os.prototype.g=function(){return new us(this.l,this.j)},os.prototype.i=(Qu={},function(){return Qu}),ma(us,yo);var ss=0;function cs(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ls(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fs(e)}function fs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(na=us.prototype).open=function(e,t){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fs(this)},na.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||oa).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},na.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ls(this)),this.readyState=ss},na.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof oa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cs(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},na.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ls(this):fs(this),3==this.readyState&&cs(this)}},na.Va=function(e){this.g&&(this.response=this.responseText=e,ls(this))},na.Ua=function(e){this.g&&(this.response=e,ls(this))},na.ga=function(){this.g&&ls(this)},na.setRequestHeader=function(e,t){this.v.append(e,t)},na.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},na.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hs=oa.JSON.parse;function ds(e){yo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ps,this.K=this.L=!1}ma(ds,yo);var ps="",vs=/^https?$/i,ms=["POST","PUT"];function ys(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gs(e),bs(e)}function gs(e){e.D||(e.D=!0,go(e,"complete"),go(e,"error"))}function ks(e){if(e.h&&"undefined"!=typeof aa&&(!e.C[1]||4!=_s(e)||2!=e.aa()))if(e.v&&4==_s(e))Ro(e.Ha,0,e);else if(go(e,"readystatechange"),4==_s(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Iu)[1]||null;if(!a&&oa.self&&oa.self.location){var o=oa.self.location.protocol;a=o.substr(0,o.length-1)}i=!vs.test(a?a.toLowerCase():"")}t=i}if(t)go(e,"complete"),go(e,"success");else{e.m=6;try{var u=2<_s(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",gs(e)}}finally{bs(e)}}}function bs(e,t){if(e.g){ws(e);var n=e.g,r=e.C[0]?ua:null;e.g=null,e.C=null,t||go(e,"ready");try{n.onreadystatechange=r}catch(uM){}}}function ws(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(oa.clearTimeout(e.A),e.A=null)}function _s(e){return e.g?e.g.readyState:0}function xs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ps:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Re){return null}}function Is(e){var t="";return Xa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ss(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Is(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Au(e,t,n))}function Es(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ts(e){this.Ca=0,this.i=[],this.j=new Vo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Es("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Es("baseRetryDelayMs",5e3,e),this.bb=Es("retryDelaySeedMs",1e4,e),this.$a=Es("forwardChannelMaxRetries",2,e),this.ta=Es("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Gu(e&&e.concurrentRequestLimit),this.Fa=new rs,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cs(e){if(As(e),3==e.G){var t=e.U++,n=Eu(e.F);Au(n,"SID",e.I),Au(n,"RID",t),Au(n,"TYPE","terminate"),Rs(e,n),(t=new uu(e,e.j,t,void 0)).K=2,t.v=Du(Eu(n)),n=!1,oa.navigator&&oa.navigator.sendBeacon&&(n=oa.navigator.sendBeacon(t.v.toString(),"")),!n&&oa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hs(t.l,null),t.g.da(t.v)),t.F=Date.now(),yu(t)}qs(e)}function Ns(e){e.g&&(Ms(e),e.g.cancel(),e.g=null)}function As(e){Ns(e),e.u&&(oa.clearTimeout(e.u),e.u=null),Us(e),e.h.cancel(),e.m&&("number"===typeof e.m&&oa.clearTimeout(e.m),e.m=null)}function Ds(e){Yu(e.h)||e.m||(e.m=!0,To(e.Ja,e),e.C=0)}function Os(e,t){var n;n=t?t.m:e.U++;var r=Eu(e.F);Au(r,"SID",e.I),Au(r,"RID",n),Au(r,"AID",e.T),Rs(e,r),e.o&&e.s&&Ss(r,e.o,e.s),n=new uu(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ps(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Zu(e.h,n),hu(n,r,t)}function Rs(e,t){e.ia&&Xa(e.ia,(function(e,n){Au(t,n,e)})),e.l&&xu({},(function(e,n){Au(t,n,e)}))}function Ps(e,t,n){n=Math.min(e.i.length,n);var r=e.l?pa(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{is(l,o,"req"+c+"_")}catch($e){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Fs(e){e.g||e.u||(e.Z=1,To(e.Ia,e),e.A=0)}function Ls(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Yo(pa(e.Ia,e),zs(e,e.A)),e.A++,!0)}function Ms(e){null!=e.B&&(oa.clearTimeout(e.B),e.B=null)}function js(e){e.g=new uu(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Eu(e.sa);Au(t,"RID","rpc"),Au(t,"SID",e.I),Au(t,"CI",e.L?"0":"1"),Au(t,"AID",e.T),Au(t,"TYPE","xmlhttp"),Rs(e,t),e.o&&e.s&&Ss(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Du(Eu(t)),n.s=null,n.P=!0,du(n,e)}function Us(e){null!=e.v&&(oa.clearTimeout(e.v),e.v=null)}function Vs(e,t){var n=null;if(e.g==t){Us(e),Ms(e),e.g=null;var r=2}else{if(!Ju(e.h,t))return;n=t.D,es(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;go(r=Wo(),new $o(r,n)),Ds(e)}else Fs(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Xu(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Yo(pa(e.Ja,e,t),zs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ls(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Bs(e,5);break;case 4:Bs(e,10);break;case 3:Bs(e,6);break;default:Bs(e,2)}}function zs(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Bs(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=pa(e.kb,e);n||(n=new Su("//www.google.com/images/cleardot.gif"),oa.location&&"http"==oa.location.protocol||Tu(n,"https"),Du(n)),function(e,t){var n=new Vo;if(oa.Image){var r=new Image;r.onload=va(as,n,r,"TestLoadImage: loaded",!0,t),r.onerror=va(as,n,r,"TestLoadImage: error",!1,t),r.onabort=va(as,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=va(as,n,r,"TestLoadImage: timeout",!1,t),oa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qo(2);e.G=0,e.l&&e.l.va(t),qs(e),As(e)}function qs(e){if(e.G=0,e.la=[],e.l){var t=ts(e.h);0==t.length&&0==e.i.length||(ba(e.la,t),ba(e.la,e.i),e.h.i.length=0,ka(e.i),e.i.length=0),e.l.ua()}}function Ws(e,t,n){var r=n instanceof Su?Eu(n):new Su(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Cu(r,r.m);else{var i=oa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Su(null,void 0);r&&Tu(a,r),t&&(a.g=t),i&&Cu(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Au(r,n,t),Au(r,"VER",e.ma),Rs(e,r),r}function Hs(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ds(new os({jb:!0})):new ds(e.ra)).Ka(e.H),t}function Ks(){}function Gs(){if(Da&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function Qs(e,t){yo.call(this),this.g=new Ts(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!xa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xa(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xs(this)}function $s(e){iu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ys(){au.call(this),this.status=1}function Xs(e){this.g=e}(na=ds.prototype).Ka=function(e){this.L=e},na.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nu.g(),this.C=this.u?eu(this.u):eu(nu),this.g.onreadystatechange=pa(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ys(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Rn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=oa.FormData&&e instanceof oa.FormData,!(0<=ga(ms,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Rn(n);try{for(c.s();!(s=c.n()).done;){var l=En(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ws(this),0<this.B&&((this.K=function(e){return Da&&Ba()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pa(this.qa,this)):this.A=Ro(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ys(this,u)}},na.qa=function(){"undefined"!=typeof aa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,go(this,"timeout"),this.abort(8))},na.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,go(this,"complete"),go(this,"abort"),bs(this))},na.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bs(this,!0)),ds.X.M.call(this)},na.Ha=function(){this.s||(this.F||this.v||this.l?ks(this):this.fb())},na.fb=function(){ks(this)},na.aa=function(){try{return 2<_s(this)?this.g.status:-1}catch(Qu){return-1}},na.fa=function(){try{return this.g?this.g.responseText:""}catch(Qu){return""}},na.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hs(t)}},na.Ea=function(){return this.m},na.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(na=Ts.prototype).ma=8,na.G=1,na.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new uu(this,this.j,e,void 0),n=this.s;if(this.S&&(n?eo(n=Ja(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ps(this,t,r),Au(i=Eu(this.F),"RID",e),Au(i,"CVER",22),this.D&&Au(i,"X-HTTP-Session-Id",this.D),Rs(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Is(n)))+"&"+r:this.o&&Ss(i,this.o,n)),Zu(this.h,t),this.Ya&&Au(i,"TYPE","init"),this.O?(Au(i,"$req",r),Au(i,"SID","null"),t.Z=!0,hu(t,i,null)):hu(t,i,r),this.G=2}}else 3==this.G&&(e?Os(this,e):0==this.i.length||Yu(this.h)||Os(this))},na.Ia=function(){if(this.u=null,js(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Yo(pa(this.eb,this),e)}},na.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qo(10),Ns(this),js(this))},na.cb=function(){null!=this.v&&(this.v=null,Ns(this),Ls(this),Qo(19))},na.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Qo(2)):(this.j.info("Failed to ping google.com"),Qo(1))},(na=Ks.prototype).xa=function(){},na.wa=function(){},na.va=function(){},na.ua=function(){},na.Ra=function(){},Gs.prototype.g=function(e,t){return new Qs(e,t)},ma(Qs,yo),Qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Qo(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Ws(e,null,e.V),Ds(e)},Qs.prototype.close=function(){Cs(this.g)},Qs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=bo(e),e=n);t.i.push(new Ku(t.ab++,e)),3==t.G&&Ds(t)},Qs.prototype.M=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,Qs.X.M.call(this)},ma($s,iu),ma(Ys,au),ma(Xs,Ks),Xs.prototype.xa=function(){go(this.g,"a")},Xs.prototype.wa=function(e){go(this.g,new $s(e))},Xs.prototype.va=function(e){go(this.g,new Ys)},Xs.prototype.ua=function(){go(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,Jo.COMPLETE="complete",tu.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",yo.prototype.listen=yo.prototype.N,ds.prototype.listenOnce=ds.prototype.O,ds.prototype.getLastError=ds.prototype.Oa,ds.prototype.getLastErrorCode=ds.prototype.Ea,ds.prototype.getStatus=ds.prototype.aa,ds.prototype.getResponseJson=ds.prototype.Sa,ds.prototype.getResponseText=ds.prototype.fa,ds.prototype.send=ds.prototype.da,ds.prototype.setWithCredentials=ds.prototype.Ka;var Js=ia.createWebChannelTransport=function(){return new Gs},Zs=ia.getStatEventTarget=function(){return Wo()},ec=ia.ErrorCode=Xo,tc=ia.EventType=Jo,nc=ia.Event=Bo,rc=ia.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ic=ia.FetchXmlHttpFactory=os,ac=ia.WebChannel=tu,oc=ia.XhrIo=ds,uc="@firebase/firestore",sc=function(){function e(t){Vn(this,e),this.uid=t}return Bn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sc.UNAUTHENTICATED=new sc(null),sc.GOOGLE_CREDENTIALS=new sc("google-credentials-uid"),sc.FIRST_PARTY=new sc("first-party-uid"),sc.MOCK_USER=new sc("mock-user");var cc="9.13.0",lc=new Xr("@firebase/firestore");function fc(){return lc.logLevel}function hc(e){if(lc.logLevel<=Wr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vc);lc.debug.apply(lc,["Firestore (".concat(cc,"): ").concat(e)].concat(Un(i)))}}function dc(e){if(lc.logLevel<=Wr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vc);lc.error.apply(lc,["Firestore (".concat(cc,"): ").concat(e)].concat(Un(i)))}}function pc(e){if(lc.logLevel<=Wr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vc);lc.warn.apply(lc,["Firestore (".concat(cc,"): ").concat(e)].concat(Un(i)))}}function vc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cc,") INTERNAL ASSERTION FAILED: ")+e;throw dc(t),new Error(t)}function yc(e,t){e||mc()}function gc(e,t){return e}var kc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bc=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Bn(n)}(yr),wc=Bn((function e(){var t=this;Vn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_c=Bn((function e(t,n){Vn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xc=function(){function e(){Vn(this,e)}return Bn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ic=function(){function e(t){Vn(this,e),this.token=t,this.changeListener=null}return Bn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Sc=function(){function e(t){Vn(this,e),this.t=t,this.currentUser=sc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Bn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){hc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(hc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yc("string"==typeof n.accessToken),new _c(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yc(null===e||"string"==typeof e),new sc(e)}}]),e}(),Ec=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=sc.FIRST_PARTY,this.p=new Map}return Bn(e,[{key:"I",value:function(){return this.g?this.g():(yc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Tc=function(){function e(t,n,r,i){Vn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Bn(e,[{key:"getToken",value:function(){return Promise.resolve(new Ec(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cc=Bn((function e(t){Vn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nc=function(){function e(t){Vn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Bn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,hc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):hc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yc("string"==typeof t.token),e.A=t.token,new Cc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ac(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Dc=function(){function e(){Vn(this,e)}return Bn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ac(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Oc(e,t){return e<t?-1:e>t?1:0}function Rc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pc(e){return e+"\0"}var Fc=function(){function e(t,n){if(Vn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Bn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Oc(this.nanoseconds,e.nanoseconds):Oc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lc=function(){function e(t){Vn(this,e),this.timestamp=t}return Bn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Fc(0,0))}},{key:"max",value:function(){return new e(new Fc(253402300799,999999999))}}]),e}(),Mc=function(){function e(t,n,r){Vn(this,e),void 0===n?n=0:n>t.length&&mc(),void 0===r?r=t.length-n:r>t.length-n&&mc(),this.segments=t,this.offset=n,this.len=r}return Bn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jc=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bc(kc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Un(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mc),Uc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vc=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Uc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bc(kc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bc(kc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bc(kc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bc(kc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mc),zc=function(){function e(t){Vn(this,e),this.path=t}return Bn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jc.fromString(t))}},{key:"fromName",value:function(t){return new e(jc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jc.emptyPath())}},{key:"comparator",value:function(e,t){return jc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jc(t.slice()))}}]),e}(),Bc=Bn((function e(t,n,r,i){Vn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function qc(e){return e.fields.find((function(e){return 2===e.kind}))}function Wc(e){return e.fields.filter((function(e){return 2!==e.kind}))}Bc.UNKNOWN_ID=-1;var Hc=Bn((function e(t,n){Vn(this,e),this.fieldPath=t,this.kind=n}));var Kc=function(){function e(t,n){Vn(this,e),this.sequenceNumber=t,this.offset=n}return Bn(e,null,[{key:"empty",value:function(){return new e(0,$c.min())}}]),e}();function Gc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lc.fromTimestamp(1e9===r?new Fc(n+1,0):new Fc(n,r));return new $c(i,zc.empty(),t)}function Qc(e){return new $c(e.readTime,e.key,-1)}var $c=function(){function e(t,n,r){Vn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Bn(e,null,[{key:"min",value:function(){return new e(Lc.min(),zc.empty(),-1)}},{key:"max",value:function(){return new e(Lc.max(),zc.empty(),-1)}}]),e}();function Yc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zc.comparator(e.documentKey,t.documentKey))?n:Oc(e.largestBatchId,t.largestBatchId)}var Xc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jc=function(){function e(){Vn(this,e),this.onCommittedListeners=[]}return Bn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Zc(e){return el.apply(this,arguments)}function el(){return el=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===kc.FAILED_PRECONDITION&&t.message===Xc){e.next=2;break}throw t;case 2:hc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=function(){function e(t){var n=this;Vn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Bn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&mc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Rn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),nl=function(){function e(t,n){var r=this;Vn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new wc,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new al(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ll(e.target.error);r.P.reject(new al(t,n))}}return Bn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(hc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ul(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new al(n,t)}}}]),e}(),rl=function(){function e(t,n,r){Vn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(nr())&&dc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Bn(e,[{key:"F",value:function(){var e=wn(kn().mark((function e(t){var n=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new al(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bc(kc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new bc(kc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new al(t,n))},i.onupgradeneeded=function(e){hc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){hc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=wn(kn().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(kn().mark((function e(){var n,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=nl.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),tl.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,hc("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hc("SimpleDb","Removing database:",e),sl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!cr())return!1;if(e.N())return!0;var t=nr(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),il=function(){function e(t){Vn(this,e),this.U=t,this.q=!1,this.K=null}return Bn(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return sl(this.U.delete())}}]),e}(),al=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,kc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Bn(n)}(bc);function ol(e){return"IndexedDbTransactionError"===e.name}var ul=function(){function e(t){Vn(this,e),this.store=t}return Bn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sl(n)}},{key:"add",value:function(e){return hc("SimpleDb","ADD",this.store.name,e,e),sl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return sl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hc("SimpleDb","DELETE",this.store.name,e),sl(this.store.delete(e))}},{key:"count",value:function(){return hc("SimpleDb","COUNT",this.store.name),sl(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new tl((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new tl((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){hc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new tl((function(n,r){t.onerror=function(e){var t=ll(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new tl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new il(i),o=t(i.primaryKey,i.value,a);if(o instanceof tl){var u=o.catch((function(e){return a.done(),tl.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return tl.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function sl(e){return new tl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ll(e.target.error);n(t)}}))}var cl=!1;function ll(e){var t=rl.D(nr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new bc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cl||(cl=!0,setTimeout((function(){throw r}),0)),r}}return e}var fl=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Bn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;hc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=hc,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ol(e.t4)){e.next=17;break}hc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Zc(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),hl=function(){function e(t,n){Vn(this,e),this.localStore=t,this.persistence=n}return Bn(e,[{key:"st",value:function(){var e=wn(kn().mark((function e(){var t,n=this,r=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return tl.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return hc("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return hc("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Qc(t);Yc(r,n)>0&&(n=r)})),new $c(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),dl=function(){function e(t,n){var r=this;Vn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Bn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function pl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ml(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}dl.at=-1;var yl=function(){function e(t,n){Vn(this,e),this.comparator=t,this.root=n||kl.EMPTY}return Bn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gl(this.root,e,this.comparator,!0)}}]),e}(),gl=function(){function e(t,n,r,i){Vn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Bn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kl=function(){function e(t,n,r,i,a){Vn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Bn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw mc();if(this.right.isRed())throw mc();var e=this.left.check();if(e!==this.right.check())throw mc();return e+(this.isRed()?0:1)}}]),e}();kl.EMPTY=null,kl.RED=!0,kl.BLACK=!1,kl.EMPTY=new(function(){function e(){Vn(this,e),this.size=0}return Bn(e,[{key:"key",get:function(){throw mc()}},{key:"value",get:function(){throw mc()}},{key:"color",get:function(){throw mc()}},{key:"left",get:function(){throw mc()}},{key:"right",get:function(){throw mc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bl=function(){function e(t){Vn(this,e),this.comparator=t,this.data=new yl(this.comparator)}return Bn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wl=function(){function e(t){Vn(this,e),this.iter=t}return Bn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function _l(e){return e.hasNext()?e.getNext():void 0}var xl=function(){function e(t){Vn(this,e),this.fields=t,t.sort(Vc.comparator)}return Bn(e,[{key:"unionWith",value:function(t){var n,r=new bl(Vc.comparator),i=Rn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Rn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Rn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Rc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Il=function(e){function t(e){Vn(this,t),this.binaryString=e}return Bn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Oc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Il.EMPTY_BYTE_STRING=new Il("");var Sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(e){if(yc(!!e),"string"==typeof e){var t=0,n=Sl.exec(e);if(yc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tl(e.seconds),nanos:Tl(e.nanos)}}function Tl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cl(e){return"string"==typeof e?Il.fromBase64String(e):Il.fromUint8Array(e)}function Nl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Al(e){var t=e.mapValue.fields.__previous_value__;return Nl(t)?Al(t):t}function Dl(e){var t=El(e.mapValue.fields.__local_write_time__.timestampValue);return new Fc(t.seconds,t.nanos)}var Ol=Bn((function e(t,n,r,i,a,o,u,s){Vn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Rl=function(){function e(t,n){Vn(this,e),this.projectId=t,this.database=n||"(default)"}return Bn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Pl(e){return null==e}function Fl(e){return 0===e&&1/e==-1/0}function Ll(e){return"number"==typeof e&&Number.isInteger(e)&&!Fl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jl={nullValue:"NULL_VALUE"};function Ul(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nl(e)?4:Zl(e)?9007199254740991:10:mc()}function Vl(e,t){if(e===t)return!0;var n=Ul(e);if(n!==Ul(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dl(e).isEqual(Dl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=El(e.timestampValue),r=El(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cl(e.bytesValue).isEqual(Cl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tl(e.geoPointValue.latitude)===Tl(t.geoPointValue.latitude)&&Tl(e.geoPointValue.longitude)===Tl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tl(e.integerValue)===Tl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tl(e.doubleValue),r=Tl(t.doubleValue);return n===r?Fl(n)===Fl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rc(e.arrayValue.values||[],t.arrayValue.values||[],Vl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pl(n)!==pl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vl(n[i],r[i])))return!1;return!0}(e,t);default:return mc()}}function zl(e,t){return void 0!==(e.values||[]).find((function(e){return Vl(e,t)}))}function Bl(e,t){if(e===t)return 0;var n=Ul(e),r=Ul(t);if(n!==r)return Oc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tl(e.integerValue||e.doubleValue),r=Tl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ql(e.timestampValue,t.timestampValue);case 4:return ql(Dl(e),Dl(t));case 5:return Oc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cl(e),r=Cl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Oc(n[i],r[i]);if(0!==a)return a}return Oc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Oc(Tl(e.latitude),Tl(t.latitude));return 0!==n?n:Oc(Tl(e.longitude),Tl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bl(n[i],r[i]);if(a)return a}return Oc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ml.mapValue&&t===Ml.mapValue)return 0;if(e===Ml.mapValue)return 1;if(t===Ml.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Oc(r[o],a[o]);if(0!==u)return u;var s=Bl(n[r[o]],i[a[o]]);if(0!==s)return s}return Oc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw mc()}}function ql(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Oc(e,t);var n=El(e),r=El(t),i=Oc(n.seconds,r.seconds);return 0!==i?i:Oc(n.nanos,r.nanos)}function Wl(e){return Hl(e)}function Hl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=El(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Rn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Rn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):mc();var t,n}function Kl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gl(e){return!!e&&"integerValue"in e}function Ql(e){return!!e&&"arrayValue"in e}function $l(e){return!!e&&"nullValue"in e}function Yl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xl(e){return!!e&&"mapValue"in e}function Jl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ef(e){return"nullValue"in e?jl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kl(Rl.empty(),zc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:mc()}function tf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kl(Rl.empty(),zc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ml:mc()}function nf(e,t){var n=Bl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rf(e,t){var n=Bl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var af=function(){function e(t){Vn(this,e),this.value=t}return Bn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}},{key:"setAll",value:function(e){var t=this,n=Vc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vl(t,(function(t,n){return e[t]=n}));var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function of(e){var t=[];return vl(e.fields,(function(e,n){var r=new Vc([e]);if(Xl(n)){var i=of(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Rn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new xl(t)}var uf=function(){function e(t,n,r,i,a,o){Vn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Bn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=af.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=af.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lc.min(),Lc.min(),af.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lc.min(),af.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lc.min(),af.empty(),2)}}]),e}(),sf=Bn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function cf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sf(e,t,n,r,i,a,o)}function lf(e){var t=gc(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Wl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Pl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wl(e)})).join(",")),t.ht=n}return t.ht}function ff(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Vl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nf(e.startAt,t.startAt)&&Nf(e.endAt,t.endAt)}function hf(e){return zc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function df(e,t){return e.filters.filter((function(e){return e instanceof mf&&e.field.isEqual(t)}))}function pf(e,t,n){var r,i=jl,a=!0,o=Rn(df(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=jl,c=!0;switch(u.op){case"<":case"<=":s=ef(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=jl}nf({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function vf(e,t,n){var r,i=Ml,a=!0,o=Rn(df(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ml,c=!0;switch(u.op){case">=":case">":s=tf(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ml}rf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];rf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var mf=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Bn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Bl(t,this.value)):null!==t&&Ul(this.value)===Ul(t)&&this.ft(Bl(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mc()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new yf(e,t,r):"array-contains"===t?new wf(e,r):"in"===t?new _f(e,r):"not-in"===t?new xf(e,r):"array-contains-any"===t?new If(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new gf(e,n):new kf(e,n)}}]),n}(function(){return Bn((function e(){Vn(this,e)}))}()),yf=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,i)).key=zc.fromName(i.referenceValue),a}return Bn(n,[{key:"matches",value:function(e){var t=zc.comparator(e.key,this.key);return this.ft(t)}}]),n}(mf),gf=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"in",r)).keys=bf("in",r),i}return Bn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mf),kf=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,"not-in",r)).keys=bf("not-in",r),i}return Bn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mf);function bf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zc.fromName(e.referenceValue)}))}var wf=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains",r)}return Bn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ql(t)&&zl(t.arrayValue,this.value)}}]),n}(mf),_f=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"in",r)}return Bn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zl(this.value.arrayValue,t)}}]),n}(mf),xf=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"not-in",r)}return Bn(n,[{key:"matches",value:function(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zl(this.value.arrayValue,t)}}]),n}(mf),If=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"array-contains-any",r)}return Bn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ql(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zl(t.value.arrayValue,e)}))}}]),n}(mf),Sf=Bn((function e(t,n){Vn(this,e),this.position=t,this.inclusive=n})),Ef=Bn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vn(this,e),this.field=t,this.dir=n}));function Tf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Cf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zc.comparator(zc.fromName(o.referenceValue),n.key):Bl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Nf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vl(e.position[n],t.position[n]))return!1;return!0}var Af=Bn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Df(e,t,n,r,i,a,o,u){return new Af(e,t,n,r,i,a,o,u)}function Of(e){return new Af(e)}function Rf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ff(e){var t,n=Rn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Lf(e){return null!==e.collectionGroup}function Mf(e){var t=gc(e);if(null===t._t){t._t=[];var n=Ff(t),r=Pf(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Ef(n)),t._t.push(new Ef(Vc.keyField(),"asc"));else{var i,a=!1,o=Rn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ef(Vc.keyField(),s))}}}return t._t}function jf(e){var t=gc(e);if(!t.wt)if("F"===t.limitType)t.wt=cf(t.path,t.collectionGroup,Mf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Rn(Mf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ef(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;t.wt=cf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Uf(e,t,n){return new Af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vf(e,t){return ff(jf(e),jf(t))&&e.limitType===t.limitType}function zf(e){return"".concat(lf(jf(e)),"|lt:").concat(e.limitType)}function Bf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wl(t.value));var t})).join(", "),"]")),Pl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wl(e)})).join(",")),"Target(".concat(t,")")}(jf(e)),"; limitType=").concat(e.limitType,")")}function qf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Rn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Rn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Cf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Cf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mf(e),t))}(e,t)}function Wf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hf(e){return function(t,n){var r,i=!1,a=Rn(Mf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Kf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Kf(e,t,n){var r=e.field.isKeyField()?zc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bl(r,i):mc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mc()}}function Gf(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(t)?"-0":t}}function Qf(e){return{integerValue:""+e}}function $f(e,t){return Ll(t)?Qf(t):Gf(e,t)}var Yf=Bn((function e(){Vn(this,e),this._=void 0}));function Xf(e,t,n){return e instanceof eh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof th?nh(e,t):e instanceof rh?ih(e,t):function(e,t){var n=Zf(e,t),r=oh(n)+oh(e.yt);return Gl(n)&&Gl(e.yt)?Qf(r):Gf(e.It,r)}(e,t)}function Jf(e,t,n){return e instanceof th?nh(e,t):e instanceof rh?ih(e,t):n}function Zf(e,t){return e instanceof ah?Gl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var eh=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n)}(Yf),th=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return Bn(n)}(Yf);function nh(e,t){var n,r=uh(t),i=Rn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rh=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).elements=e,r}return Bn(n)}(Yf);function ih(e,t){var n,r=uh(t),i=Rn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ah=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Bn(n)}(Yf);function oh(e){return Tl(e.integerValue||e.doubleValue)}function uh(e){return Ql(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sh=Bn((function e(t,n){Vn(this,e),this.field=t,this.transform=n}));var ch=Bn((function e(t,n){Vn(this,e),this.version=t,this.transformResults=n})),lh=function(){function e(t,n){Vn(this,e),this.updateTime=t,this.exists=n}return Bn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function fh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var hh=Bn((function e(){Vn(this,e)}));function dh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Sh(e.key,lh.none()):new gh(e.key,e.data,lh.none());var n,r=e.data,i=af.empty(),a=new bl(Vc.comparator),o=Rn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new kh(e.key,i,new xl(a.toArray()),lh.none())}function ph(e,t,n){e instanceof gh?function(e,t,n){var r=e.value.clone(),i=wh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kh?function(e,t,n){if(fh(e.precondition,t)){var r=wh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n,r){return e instanceof gh?function(e,t,n,r){if(!fh(e.precondition,t))return n;var i=e.value.clone(),a=_h(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof kh?function(e,t,n,r){if(!fh(e.precondition,t))return n;var i=_h(e.fieldTransforms,r,t),a=t.data;return a.setAll(bh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return fh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function mh(e,t){var n,r=null,i=Rn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Zf(a.transform,o||null);null!=u&&(null===r&&(r=af.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function yh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof th&&t instanceof th||e instanceof rh&&t instanceof rh?Rc(e.elements,t.elements,Vl):e instanceof ah&&t instanceof ah?Vl(e.yt,t.yt):e instanceof eh&&t instanceof eh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gh=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Bn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hh),kh=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Bn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(hh);function bh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wh(e,t,n){var r=new Map;yc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Jf(o,u,n[i]))}return r}function _h(e,t,n){var r,i=new Map,a=Rn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Xf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xh,Ih,Sh=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Bn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hh),Eh=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Bn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hh),Th=Bn((function e(t){Vn(this,e),this.count=t}));function Ch(e){switch(e){default:return mc();case kc.CANCELLED:case kc.UNKNOWN:case kc.DEADLINE_EXCEEDED:case kc.RESOURCE_EXHAUSTED:case kc.INTERNAL:case kc.UNAVAILABLE:case kc.UNAUTHENTICATED:return!1;case kc.INVALID_ARGUMENT:case kc.NOT_FOUND:case kc.ALREADY_EXISTS:case kc.PERMISSION_DENIED:case kc.FAILED_PRECONDITION:case kc.ABORTED:case kc.OUT_OF_RANGE:case kc.UNIMPLEMENTED:case kc.DATA_LOSS:return!0}}function Nh(e){if(void 0===e)return dc("GRPC error has no .code"),kc.UNKNOWN;switch(e){case xh.OK:return kc.OK;case xh.CANCELLED:return kc.CANCELLED;case xh.UNKNOWN:return kc.UNKNOWN;case xh.DEADLINE_EXCEEDED:return kc.DEADLINE_EXCEEDED;case xh.RESOURCE_EXHAUSTED:return kc.RESOURCE_EXHAUSTED;case xh.INTERNAL:return kc.INTERNAL;case xh.UNAVAILABLE:return kc.UNAVAILABLE;case xh.UNAUTHENTICATED:return kc.UNAUTHENTICATED;case xh.INVALID_ARGUMENT:return kc.INVALID_ARGUMENT;case xh.NOT_FOUND:return kc.NOT_FOUND;case xh.ALREADY_EXISTS:return kc.ALREADY_EXISTS;case xh.PERMISSION_DENIED:return kc.PERMISSION_DENIED;case xh.FAILED_PRECONDITION:return kc.FAILED_PRECONDITION;case xh.ABORTED:return kc.ABORTED;case xh.OUT_OF_RANGE:return kc.OUT_OF_RANGE;case xh.UNIMPLEMENTED:return kc.UNIMPLEMENTED;case xh.DATA_LOSS:return kc.DATA_LOSS;default:return mc()}}(Ih=xh||(xh={}))[Ih.OK=0]="OK",Ih[Ih.CANCELLED=1]="CANCELLED",Ih[Ih.UNKNOWN=2]="UNKNOWN",Ih[Ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ih[Ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ih[Ih.NOT_FOUND=5]="NOT_FOUND",Ih[Ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ih[Ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ih[Ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ih[Ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ih[Ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ih[Ih.ABORTED=10]="ABORTED",Ih[Ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ih[Ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ih[Ih.INTERNAL=13]="INTERNAL",Ih[Ih.UNAVAILABLE=14]="UNAVAILABLE",Ih[Ih.DATA_LOSS=15]="DATA_LOSS";var Ah=function(){function e(t,n){Vn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Bn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=En(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vl(this.inner,(function(t,n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=En(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ml(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Dh=new yl(zc.comparator);function Oh(){return Dh}var Rh=new yl(zc.comparator);function Ph(){for(var e=Rh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Fh(e){var t=Rh;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Lh(){return jh()}function Mh(){return jh()}function jh(){return new Ah((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Uh=new yl(zc.comparator),Vh=new bl(zc.comparator);function zh(){for(var e=Vh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Bh=new bl(Oc);function qh(){return Bh}var Wh=function(){function e(t,n,r,i,a){Vn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Bn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lc.min(),i,qh(),Oh(),zh())}}]),e}(),Hh=function(){function e(t,n,r,i,a){Vn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Bn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,zh(),zh(),zh())}}]),e}(),Kh=Bn((function e(t,n,r,i){Vn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Gh=Bn((function e(t,n){Vn(this,e),this.targetId=t,this.At=n})),Qh=Bn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$h=function(){function e(){Vn(this,e),this.Rt=0,this.bt=Jh(),this.Pt=Il.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Bn(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=zh(),t=zh(),n=zh();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mc()}})),new Hh(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Jh()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Yh=function(){function e(t){Vn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Oh(),this.qt=Xh(),this.Kt=new bl(Oc)}return Bn(e,[{key:"Gt",value:function(e){var t,n=Rn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Rn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:mc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(hf(i))if(0===n){var a=new zc(i.path);this.jt(t,a,uf.newNoDocument(a,Lc.min()))}else yc(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&hf(a.target)){var o=new zc(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,uf.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=zh();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wh(e,n,this.Kt,this.Ut,r);return this.Ut=Oh(),this.qt=Xh(),this.Kt=new bl(Oc),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new $h,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new bl(Oc),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||hc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new $h),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xh(){return new yl(zc.comparator)}function Jh(){return new yl(zc.comparator)}var Zh={asc:"ASCENDING",desc:"DESCENDING"},ed={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},td=Bn((function e(t,n){Vn(this,e),this.databaseId=t,this.gt=n}));function nd(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rd(e,t){return e.gt?t.toBase64():t.toUint8Array()}function id(e,t){return nd(e,t.toTimestamp())}function ad(e){return yc(!!e),Lc.fromTimestamp(function(e){var t=El(e);return new Fc(t.seconds,t.nanos)}(e))}function od(e,t){return function(e){return new jc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ud(e){var t=jc.fromString(e);return yc(Ad(t)),t}function sd(e,t){return od(e.databaseId,t.path)}function cd(e,t){var n=ud(t);if(n.get(1)!==e.databaseId.projectId)throw new bc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zc(dd(n))}function ld(e,t){return od(e.databaseId,t)}function fd(e){var t=ud(e);return 4===t.length?jc.emptyPath():dd(t)}function hd(e){return new jc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dd(e){return yc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pd(e,t,n){return{name:sd(e,t),fields:n.value.mapValue.fields}}function vd(e,t,n){var r=cd(e,t.name),i=ad(t.updateTime),a=new af({mapValue:{fields:t.fields}}),o=uf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function md(e,t){return"found"in t?function(e,t){yc(!!t.found),t.found.name,t.found.updateTime;var n=cd(e,t.found.name),r=ad(t.found.updateTime),i=new af({mapValue:{fields:t.found.fields}});return uf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){yc(!!t.missing),yc(!!t.readTime);var n=cd(e,t.missing),r=ad(t.readTime);return uf.newNoDocument(n,r)}(e,t):mc()}function yd(e,t){var n;if(t instanceof gh)n={update:pd(e,t.key,t.value)};else if(t instanceof Sh)n={delete:sd(e,t.key)};else if(t instanceof kh)n={update:pd(e,t.key,t.data),updateMask:Nd(t.fieldMask)};else{if(!(t instanceof Eh))return mc();n={verify:sd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof eh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof th)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ah)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw mc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:id(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mc()}(e,t.precondition)),n}function gd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?lh.updateTime(ad(e.updateTime)):void 0!==e.exists?lh.exists(e.exists):lh.none()}(t.currentDocument):lh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)yc("REQUEST_TIME"===t.setToServerValue),n=new eh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new th(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new rh(i)}else"increment"in t?n=new ah(e,t.increment):mc();var a=Vc.fromServerFormat(t.fieldPath);return new sh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cd(e,t.update.name),a=new af({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new xl(t.map((function(e){return Vc.fromServerFormat(e)})))}(t.updateMask);return new kh(i,a,o,n,r)}return new gh(i,a,n,r)}if(t.delete){var u=cd(e,t.delete);return new Sh(u,n)}if(t.verify){var s=cd(e,t.verify);return new Eh(s,n)}return mc()}function kd(e,t){return{documents:[ld(e,t.path)]}}function bd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ld(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ld(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yl(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NAN"}};if($l(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yl(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NOT_NAN"}};if($l(e.value))return{unaryFilter:{field:Sd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sd(e.field),op:Id(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Sd(e.field),direction:xd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Pl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wd(e){var t=fd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=_d(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ef(Ed(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Pl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Sf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Sf(n,t)}(n.endAt)),Df(t,i,u,o,s,"F",c,l)}function _d(e){return e?void 0!==e.unaryFilter?[Cd(e)]:void 0!==e.fieldFilter?[Td(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return _d(e)})).reduce((function(e,t){return e.concat(t)})):mc():[]}function xd(e){return Zh[e]}function Id(e){return ed[e]}function Sd(e){return{fieldPath:e.canonicalString()}}function Ed(e){return Vc.fromServerFormat(e.fieldPath)}function Td(e){return mf.create(Ed(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Cd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ed(e.unaryFilter.field);return mf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ed(e.unaryFilter.field);return mf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ed(e.unaryFilter.field);return mf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ed(e.unaryFilter.field);return mf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mc()}}function Nd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ad(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Dd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Rd(t)),t=Od(e.get(n),t);return Rd(t)}function Od(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Rd(e){return e+"\x01\x01"}function Pd(e){var t=e.length;if(yc(t>=2),2===t)return yc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&mc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:mc()}a=o+2}return new jc(r)}var Fd=["userId","batchId"];function Ld(e,t){return[e,Dd(t)]}function Md(e,t,n){return[e,Dd(t),n]}var jd={},Ud=["prefixPath","collectionGroup","readTime","documentId"],Vd=["prefixPath","collectionGroup","documentId"],zd=["collectionGroup","readTime","prefixPath","documentId"],Bd=["canonicalId","targetId"],qd=["targetId","path"],Wd=["path","targetId"],Hd=["collectionId","parent"],Kd=["indexId","uid"],Gd=["uid","sequenceNumber"],Qd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$d=["indexId","uid","orderedDocumentKey"],Yd=["userId","collectionPath","documentId"],Xd=["userId","collectionPath","largestBatchId"],Jd=["userId","collectionGroup","largestBatchId"],Zd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ep=[].concat(Un(Zd),["documentOverlays"]),tp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],np=tp,rp=[].concat(np,["indexConfiguration","indexState","indexEntries"]),ip=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Bn(n)}(Jc);function ap(e,t){var n=gc(e);return rl.M(n.ie,t)}var op=function(){function e(t,n,r,i){Vn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Bn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ph(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Rn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=vh(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Rn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=vh(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Mh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=dh(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),zh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(function(e,t){return yh(e,t)}))&&Rc(this.baseMutations,e.baseMutations,(function(e,t){return yh(e,t)}))}}]),e}(),up=function(){function e(t,n,r,i){Vn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Bn(e,null,[{key:"from",value:function(t,n,r){yc(t.mutations.length===r.length);for(var i=Uh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),sp=function(){function e(t,n){Vn(this,e),this.largestBatchId=t,this.mutation=n}return Bn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),cp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Il.EMPTY_BYTE_STRING;Vn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Bn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),lp=Bn((function e(t){Vn(this,e),this.re=t}));function fp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nd(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:dp(t.version)};else{if(!t.isUnknownDocument())return mc();r.unknownDocument={path:n.path.toArray(),version:dp(t.version)}}return r}function hp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pp(e){var t=new Fc(e.seconds,e.nanoseconds);return Lc.fromTimestamp(t)}function vp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gd(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gd(e.re,t)})),u=Fc.fromMillis(t.localWriteTimeMs);return new op(t.batchId,u,n,o)}function mp(e){var t,n,r=pp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?pp(e.lastLimboFreeSnapshotVersion):Lc.min();return void 0!==e.query.documents?(yc(1===(n=e.query).documents.length),t=jf(Of(fd(n.documents[0])))):t=function(e){return jf(wd(e))}(e.query),new cp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Il.fromBase64String(e.resumeToken))}function yp(e,t){var n,r=dp(t.snapshotVersion),i=dp(t.lastLimboFreeSnapshotVersion);n=hf(t.target)?kd(e.re,t.target):bd(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function gp(e){var t=wd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uf(t,t.limit,"L"):t}function kp(e,t){return new sp(t.largestBatchId,gd(e.re,t.overlayMutation))}function bp(e,t){var n=t.path.lastSegment();return[e,Dd(t.path.popLast()),n]}function wp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:dp(r.readTime),documentKey:Dd(r.documentKey.path),largestBatchId:r.largestBatchId}}var _p=function(){function e(){Vn(this,e)}return Bn(e,[{key:"getBundleMetadata",value:function(e,t){return xp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:pp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return xp(e).put({bundleId:(n=t).id,createTime:dp(ad(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ip(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:gp(t.bundledQuery),readTime:pp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ip(e).put(function(e){return{name:e.name,readTime:dp(ad(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function xp(e){return ap(e,"bundles")}function Ip(e){return ap(e,"namedQueries")}var Sp=function(){function e(t,n){Vn(this,e),this.It=t,this.userId=n}return Bn(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ep(e).get(bp(this.userId,t)).next((function(e){return e?kp(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Lh();return tl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new sp(t,a);i.push(r.ue(e,o))})),tl.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Dd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ep(e).Y("collectionPathOverlayIndex",i))})),tl.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Lh(),a=Dd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ep(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=kp(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Lh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ep(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=kp(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Ep(e).put(function(e,t,n){var r=En(bp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:yd(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ep(e){return ap(e,"documentOverlays")}var Tp=function(){function e(){Vn(this,e)}return Bn(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Tl(e.integerValue));else if("doubleValue"in e){var n=Tl(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Fl(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Cl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Zl(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):mc()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),zc.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Cp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Np(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Cp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Tp.Te=new Tp;var Ap=function(){function e(){Vn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Bn(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Np(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Np(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Dp=function(){function e(t){Vn(this,e),this.Be=t}return Bn(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Op=function(){function e(t){Vn(this,e),this.Be=t}return Bn(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Rp=function(){function e(){Vn(this,e),this.Be=new Ap,this.Le=new Dp(this.Be),this.Ue=new Op(this.Be)}return Bn(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Pp=function(){function e(t,n,r,i){Vn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Bn(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Fp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Lp(e.arrayValue,t.arrayValue))?n:0!==(n=Lp(e.directionalValue,t.directionalValue))?n:zc.comparator(e.documentKey,t.documentKey)}function Lp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Mp=function(){function e(t){Vn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Rn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Bn(e,[{key:"We",value:function(e){var t=qc(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Wc(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Rn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),jp=function(){function e(){Vn(this,e),this.Ye=new Up}return Bn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),tl.resolve()}},{key:"getCollectionParents",value:function(e,t){return tl.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return tl.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return tl.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return tl.resolve(null)}},{key:"getIndexType",value:function(e,t){return tl.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return tl.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return tl.resolve(null)}},{key:"getMinOffset",value:function(e,t){return tl.resolve($c.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return tl.resolve($c.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return tl.resolve()}},{key:"updateIndexEntries",value:function(e,t){return tl.resolve()}}]),e}(),Up=function(){function e(){Vn(this,e),this.index={}}return Bn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bl(jc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bl(jc.comparator)).toArray()}}]),e}(),Vp=new Uint8Array(0),zp=function(){function e(t,n){Vn(this,e),this.user=t,this.databaseId=n,this.Xe=new Up,this.Ze=new Ah((function(e){return lf(e)}),(function(e,t){return ff(e,t)})),this.uid=t.uid||""}return Bn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Dd(i)};return Bp(e).put(a)}return tl.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pc(t),""],!1,!0);return Bp(e).W(r).next((function(e){var r,i=Rn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Pd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Wp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Hp(e);return a.next((function(e){o.put(wp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Wp(e),r=Hp(e),i=qp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=qp(e),i=!0,a=new Map;return tl.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=zh(),o=[];return tl.forEach(a,(function(i,a){var u;hc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(lf(t)));var s=function(e,t){var n=qc(t);if(void 0===n)return null;var r,i=Rn(df(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Rn(Wc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Rn(df(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Rn(Wc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pf(e,o.fieldPath,e.startAt):vf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Rn(Wc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?vf(e,o.fieldPath,e.endAt):pf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Sf(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return tl.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=zc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return tl.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Vp,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Un(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Pp(e,zc.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Pp(e,zc.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Mp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return tl.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bl(Vc.comparator),r=!1,i=Rn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Rn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Rp,i=Rn(Wc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Tp.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Rp;return Tp.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Rp;return Tp.Te.ce(Kl(this.databaseId,t),n.qe(function(e){var t=Wc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Rp);var i,a=0,o=Rn(Wc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Rn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Ql(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Tp.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Un(e),a=[],o=Rn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Rn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Rp;f.seed(l.$e()),Tp.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof mf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Wp(e),i=Hp(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return tl.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Kc(t.sequenceNumber,new $c(pp(t.readTime),new zc(Pd(t.documentKey)),t.largestBatchId)):Kc.empty(),r=e.fields.map((function(e){var t=En(e,2),n=t[0],r=t[1];return new Hc(Vc.fromServerFormat(n),r)}));return new Bc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Oc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Wp(e),a=Hp(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return tl.forEach(t,(function(t){return a.put(wp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return tl.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?tl.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),tl.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?tl.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return qp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return qp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=qp(e),i=new bl(Fp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Pp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new bl(Fp),r=this.an(t,e);if(null==r)return n;var i=qc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ql(a)){var o,u=Rn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Pp(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Pp(t.indexId,e.key,Vp,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;hc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=_l(a),s=_l(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=_l(o)):l?(i(u),u=_l(a)):(u=_l(a),s=_l(o))}}(r,i,Fp,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),tl.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Hp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Fp(e,t)})).filter((function(e,t,n){return!t||0!==Fp(e,n[t-1])}));var r=[];r.push(e);var i,a=Rn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Fp(o,e),s=Fp(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Vp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Vp,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Kp)}},{key:"getMinOffset",value:function(e,t){var n=this;return tl.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||mc()}))})).next(Kp)}}]),e}();function Bp(e){return ap(e,"collectionParents")}function qp(e){return ap(e,"indexEntries")}function Wp(e){return ap(e,"indexConfiguration")}function Hp(e){return ap(e,"indexState")}function Kp(e){yc(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Yc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $c(t.readTime,t.documentKey,n)}var Gp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qp=function(){function e(t,n,r){Vn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Bn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $p(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){yc(1===u)})));var c,l=[],f=Rn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Md(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return tl.waitFor(a).next((function(){return l}))}function Yp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw mc();t=e.noDocument}return JSON.stringify(t).length}Qp.DEFAULT_COLLECTION_PERCENTILE=10,Qp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qp.DEFAULT=new Qp(41943040,Qp.DEFAULT_COLLECTION_PERCENTILE,Qp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qp.DISABLED=new Qp(-1,0,0);var Xp=function(){function e(t,n,r,i){Vn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Bn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zp(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ev(e),o=Zp(e);return o.add({}).next((function(u){yc("number"==typeof u);var s,c=new op(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yd(e.re,t)})),i=n.mutations.map((function(t){return yd(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new bl((function(e,t){return Oc(e.canonicalString(),t.canonicalString())})),d=Rn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Md(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,jd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),tl.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Zp(e).get(t).next((function(e){return e?(yc(e.userId===n.userId),vp(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?tl.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Zp(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(yc(t.batchId>=r),a=vp(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Zp(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zp(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return vp(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ld(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ev(e).Z({range:i},(function(r,i,o){var u=En(r,3),s=u[0],c=u[1],l=u[2],f=Pd(c);if(s===n.userId&&t.path.isEqual(f))return Zp(e).get(l).next((function(e){if(!e)throw mc();yc(e.userId===n.userId),a.push(vp(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bl(Oc),i=[];return t.forEach((function(t){var a=Ld(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ev(e).Z({range:o},(function(e,i,a){var o=En(e,3),u=o[0],s=o[1],c=o[2],l=Pd(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),tl.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ld(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new bl(Oc);return ev(e).Z({range:o},(function(e,t,a){var o=En(e,3),s=o[0],c=o[1],l=o[2],f=Pd(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Zp(e).get(t).next((function(e){if(null===e)throw mc();yc(e.userId===n.userId),r.push(vp(n.It,e))})))})),tl.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $p(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),tl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return tl.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ev(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Pd(e[1]);i.push(a)}else r.done()})).next((function(){yc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Jp(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return tv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return yc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Jp(e,t,n){var r=Ld(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ev(e).Z({range:a,X:!0},(function(e,n,r){var a=En(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Zp(e){return ap(e,"mutations")}function ev(e){return ap(e,"documentMutations")}function tv(e){return ap(e,"mutationQueues")}var nv=function(){function e(t){Vn(this,e),this.bn=t}return Bn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),rv=function(){function e(t,n){Vn(this,e),this.referenceDelegate=t,this.It=n}return Bn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new nv(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Lc.fromTimestamp(new Fc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iv(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return yc(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return iv(e).Z((function(o,u){var s=mp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return tl.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return iv(e).Z((function(e,n){var r=mp(n);t(r)}))}},{key:"Vn",value:function(e){return av(e).get("targetGlobalKey").next((function(e){return yc(null!==e),e}))}},{key:"Sn",value:function(e,t){return av(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return iv(e).put(yp(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=lf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iv(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=mp(n);ff(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ov(e);return t.forEach((function(t){var o=Dd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),tl.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ov(e);return tl.forEach(t,(function(t){var a=Dd(t.path);return tl.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ov(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ov(e),i=zh();return r.Z({range:n,X:!0},(function(e,t,n){var r=Pd(e[1]),a=new zc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Dd(t.path),r=IDBKeyRange.bound([n],[Pc(n)],!1,!0),i=0;return ov(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=En(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return iv(e).get(t).next((function(e){return e?mp(e):null}))}}]),e}();function iv(e){return ap(e,"targets")}function av(e){return ap(e,"targetGlobal")}function ov(e){return ap(e,"targetDocuments")}function uv(e,t){var n=En(e,2),r=n[0],i=n[1],a=En(t,2),o=a[0],u=a[1],s=Oc(r,o);return 0===s?Oc(i,u):s}var sv=function(){function e(t){Vn(this,e),this.xn=t,this.buffer=new bl(uv),this.Nn=0}return Bn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();uv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),cv=function(){function e(t,n,r){Vn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Bn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;hc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ol(e.t0)){e.next=12;break}hc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Zc(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),lv=function(){function e(t,n){Vn(this,e),this.$n=t,this.params=n}return Bn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return tl.resolve(dl.at);var r=new sv(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hc("LruGarbageCollector","Garbage collection skipped; disabled"),tl.resolve(Gp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Gp):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),fc()<=Wr.DEBUG&&hc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),tl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),fv=function(){function e(t,n){Vn(this,e),this.db=t,this.garbageCollector=function(e,t){return new lv(e,t)}(this,n)}return Bn(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hv(e,n)}},{key:"removeReference",value:function(e,t,n){return hv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hv(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return tv(e).tt((function(r){return Jp(e,r,t).next((function(e){return e&&(n=!0),tl.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lc.min()),ov(e).delete([0,Dd(o.path)])}))}));i.push(s)}})).next((function(){return tl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hv(e,t)}},{key:"Kn",value:function(e,t){var n,r=ov(e),i=dl.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=En(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==dl.at&&t(new zc(Pd(n)),i),i=s,n=u):i=dl.at})).next((function(){i!==dl.at&&t(new zc(Pd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hv(e,t){return ov(e).put(function(e,t){return{targetId:0,path:Dd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var dv=function(){function e(){Vn(this,e),this.changes=new Ah((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Bn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,uf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?tl.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),pv=function(){function e(t){Vn(this,e),this.It=t}return Bn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return gv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return gv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],hp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=uf.newInvalidDocument(t);return gv(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kv(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:uf.newInvalidDocument(t)};return gv(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kv(t))},(function(e,i){r={document:n.jn(t,i),size:Yp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Oh();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Oh(),i=new yl(zc.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Yp(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return tl.resolve();var r=new bl(wv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(kv(r.first()),kv(r.last())),a=r.getIterator(),o=a.getNext();return gv(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zc.fromSegments([].concat(Un(t.prefixPath),[t.collectionGroup,t.documentId]));o&&wv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(kv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),hp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gv(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Oh(),i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(zc.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Oh(),o=bv(t,n),u=bv(t,$c.max());return gv(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(zc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new mv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return yv(e).get("remoteDocumentGlobalKey").next((function(e){return yc(!!e),e}))}},{key:"Qn",value:function(e,t){return yv(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=vd(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zc.fromSegments(t.noDocument.path),i=pp(t.noDocument.readTime);n=uf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return mc();var a=zc.fromSegments(t.unknownDocument.path),o=pp(t.unknownDocument.version);n=uf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Fc(e[0],e[1]);return Lc.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Lc.min()))return n}return uf.newInvalidDocument(e)}}]),e}();function vv(e){return new pv(e)}var mv=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Ah((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Bn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bl((function(e,t){return Oc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=fp(t.Yn.It,o);i=i.add(a.path.popLast());var c=Yp(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=fp(t.Yn.It,o.convertToNoDocument(Lc.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),tl.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(dv);function yv(e){return ap(e,"remoteDocumentGlobal")}function gv(e){return ap(e,"remoteDocumentsV14")}function kv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bv(e,t){var n=t.documentKey.path.toArray();return[e,hp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Oc(n[a],r[a]))return i;return(i=Oc(n.length,r.length))||((i=Oc(n[n.length-2],r[r.length-2]))||Oc(n[n.length-1],r[r.length-1]))}var _v=Bn((function e(t,n){Vn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),xv=function(){function e(t,n,r,i){Vn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Bn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&vh(r.mutation,e,xl.empty(),Fc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,zh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zh(),i=Lh();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ph();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Lh();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,zh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Oh(),a=jh(),o=jh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof kh)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),vh(o.mutation,t,o.mutation.getFieldMask(),Fc.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new _v(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=jh(),i=new yl((function(e,t){return e-t})),a=zh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Rn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||xl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||zh()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Mh();c.forEach((function(e){if(!a.has(e)){var n=dh(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return tl.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return zc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):tl.resolve(Lh()),u=-1,s=a;return o.next((function(t){return tl.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?tl.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,zh())})).next((function(e){return{batchId:u,changes:Fh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new zc(t)).next((function(e){var t=Ph();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ph();return this.indexManager.getCollectionParents(e,i).next((function(o){return tl.forEach(o,(function(o){var u=function(e,t){return new Af(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,uf.newInvalidDocument(n)))}));var n=Ph();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&vh(a.mutation,i,xl.empty(),Fc.now()),qf(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):tl.resolve(uf.newInvalidDocument(t))}}]),e}(),Iv=function(){function e(t){Vn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Bn(e,[{key:"getBundleMetadata",value:function(e,t){return tl.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ad(n.createTime)}),tl.resolve()}},{key:"getNamedQuery",value:function(e,t){return tl.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:gp(e.bundledQuery),readTime:ad(e.readTime)}}(t)),tl.resolve()}}]),e}(),Sv=function(){function e(){Vn(this,e),this.overlays=new yl(zc.comparator),this.es=new Map}return Bn(e,[{key:"getOverlay",value:function(e,t){return tl.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Lh();return tl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),tl.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),tl.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Lh(),i=t.length+1,a=new zc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return tl.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yl((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Lh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Lh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return tl.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new sp(t,n));var a=this.es.get(t);void 0===a&&(a=zh(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ev=function(){function e(){Vn(this,e),this.ns=new bl(Tv.ss),this.rs=new bl(Tv.os)}return Bn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Tv(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Tv(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new zc(new jc([])),r=new Tv(n,e),i=new Tv(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new zc(new jc([])),n=new Tv(t,e),r=new Tv(t,e+1),i=zh();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Tv(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Tv=function(){function e(t,n){Vn(this,e),this.key=t,this._s=n}return Bn(e,null,[{key:"ss",value:function(e,t){return zc.comparator(e.key,t.key)||Oc(e._s,t._s)}},{key:"os",value:function(e,t){return Oc(e._s,t._s)||zc.comparator(e.key,t.key)}}]),e}(),Cv=function(){function e(t,n){Vn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new bl(Tv.ss)}return Bn(e,[{key:"checkEmpty",value:function(e){return tl.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new op(i,t,n,r);this.mutationQueue.push(a);var o,u=Rn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Tv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return tl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return tl.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return tl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return tl.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return tl.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Tv(t,0),i=new Tv(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),tl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bl(Oc);return t.forEach((function(e){var t=new Tv(e,0),i=new Tv(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),tl.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zc.isDocumentKey(i)||(i=i.child(""));var a=new Tv(new zc(i),0),o=new bl(Oc);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),tl.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yc(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return tl.forEach(t.mutations,(function(i){var a=new Tv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Tv(t,0),r=this.gs.firstAfterOrEqual(n);return tl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,tl.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Nv=function(){function e(t){Vn(this,e),this.Es=t,this.docs=new yl(zc.comparator),this.size=0}return Bn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return tl.resolve(n?n.document.mutableCopy():uf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Oh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():uf.newInvalidDocument(e))})),tl.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Oh(),i=new zc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Yc(Qc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return tl.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){mc()}},{key:"As",value:function(e,t){return tl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Av(this)}},{key:"getSize",value:function(e){return tl.resolve(this.size)}}]),e}(),Av=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).Yn=e,r}return Bn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),tl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(dv),Dv=function(){function e(t){Vn(this,e),this.persistence=t,this.Rs=new Ah((function(e){return lf(e)}),ff),this.lastRemoteSnapshotVersion=Lc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ev,this.targetCount=0,this.vs=nv.Pn()}return Bn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),tl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return tl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return tl.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),tl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),tl.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new nv(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,tl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),tl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,tl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),tl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return tl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return tl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),tl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),tl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),tl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return tl.resolve(n)}},{key:"containsKey",value:function(e,t){return tl.resolve(this.Ps.containsKey(t))}}]),e}(),Ov=function(){function e(t,n){var r=this;Vn(this,e),this.Vs={},this.overlays={},this.Ss=new dl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Dv(this),this.indexManager=new jp,this.remoteDocumentCache=new Nv((function(e){return r.referenceDelegate.xs(e)})),this.It=new lp(n),this.Ns=new Iv(this.It)}return Bn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Sv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Cv(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;hc("MemoryPersistence","Starting transaction:",e);var i=new Rv(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return tl.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Rv=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Bn(n)}(Jc),Pv=function(){function e(t){Vn(this,e),this.persistence=t,this.Fs=new Ev,this.$s=null}return Bn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw mc()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),tl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),tl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),tl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tl.forEach(this.Ls,(function(r){var i=zc.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Lc.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return tl.or([function(){return tl.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Fv=function(){function e(t){Vn(this,e),this.It=t}return Bn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new nl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Lv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=tl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Lv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return tl.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Yd});t.createIndex("collectionPathOverlayIndex",Xd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ud});t.createIndex("documentKeyIndex",Vd),t.createIndex("collectionGroupIndex",zd)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Kd}).createIndex("sequenceNumberIndex",Gd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qd}).createIndex("documentKeyIndex",$d,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Yp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return tl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return tl.forEach(r,(function(r){yc(r.userId===n.userId);var i=vp(t.It,r);return $p(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new jc(n),o=function(e){return[0,Dd(e)]}(a);r.push(t.get(o).next((function(n){return n?tl.resolve():function(n){return t.put({targetId:0,path:Dd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return tl.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Hd});var n=t.store("collectionParents"),r=new Up,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Dd(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new jc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=En(e,3),r=(n[0],n[1]),a=(n[2],Pd(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=mp(r),a=yp(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new zc(jc.fromString(i.document.name).popFirst(5)):i.noDocument?zc.fromSegments(i.noDocument.path):i.unknownDocument?zc.fromSegments(i.unknownDocument.path):mc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return tl.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=vv(this.It),a=new Ov(Pv.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:zh();vp(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),tl.forEach(r,(function(e,r){var o=new sc(r),u=Sp.oe(n.It,o),s=a.getIndexManager(o),c=Xp.oe(o,n.It,s,a.referenceDelegate);return new xv(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ip(t,dl.at),e).next()}))}))}}]),e}();function Lv(e){e.createObjectStore("targetDocuments",{keyPath:qd}).createIndex("documentTargetsIndex",Wd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bd,{unique:!0}),e.createObjectStore("targetGlobal")}var Mv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Vn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new bc(kc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fv(this,i),this.ii=n+"main",this.It=new lp(s),this.ri=new rl(this.ii,this.Xs,new Fv(this.It)),this.Cs=new rv(this.referenceDelegate,this.It),this.remoteDocumentCache=vv(this.It),this.Ns=new _p,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&dc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Bn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new bc(kc.FAILED_PRECONDITION,Mv);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new dl(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=wn(kn().mark((function n(r){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=wn(kn().mark((function t(n){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ol(t))return hc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Uv(e).get("owner").next((function(e){return tl.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Vv(e).delete(this.clientId)}},{key:"yi",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i,a=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ap(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return tl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Rn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?tl.resolve(!0):Uv(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new bc(kc.FAILED_PRECONDITION,Mv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vv(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=wn(kn().mark((function e(){var t=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ip(e,dl.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vv(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Xp.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new zp(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Sp.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;hc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?rp:14===i?np:13===i?tp:12===i?ep:11===i?Zd:void mc();return this.ri.runTransaction(e,o,u,(function(i){return a=new ip(i,r.Ss?r.Ss.next():dl.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw dc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new bc(kc.FAILED_PRECONDITION,Xc);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Uv(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new bc(kc.FAILED_PRECONDITION,Mv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uv(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Uv(e);return n.get("owner").next((function(e){return t.mi(e)?(hc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):tl.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(dc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ir()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return hc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(ma){dc("Failed to set zombie client id.",ma)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(ma){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return rl.C()}}]),e}();function Uv(e){return ap(e,"owner")}function Vv(e){return ap(e,"clientMetadata")}function zv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Bv=function(){function e(t,n,r,i){Vn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Bn(e,null,[{key:"Ci",value:function(t,n){var r,i=zh(),a=zh(),o=Rn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qv=function(){function e(){Vn(this,e),this.xi=!1}return Bn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Rf(t))return tl.resolve(null);var r=jf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Uf(t,null,"F"),r=jf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=zh.apply(void 0,Un(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Uf(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Rf(t)||r.isEqual(Lc.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(fc()<=Wr.DEBUG&&hc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bf(t)),i.Bi(e,o,t,Gc(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new bl(Hf(e));return t.forEach((function(t,r){qf(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return fc()<=Wr.DEBUG&&hc("QueryEngine","Using full collection scan to execute query:",Bf(t)),this.Ni.getDocumentsMatchingQuery(e,t,$c.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wv=function(){function e(t,n,r,i){Vn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new yl(Oc),this.qi=new Ah((function(e){return lf(e)}),ff),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Bn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Hv(e,t,n,r){return new Wv(e,t,n,r)}function Kv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=zh(),s=Rn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Rn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Rn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Rn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Qv(e,t){var n=gc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=tl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);yc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=zh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function $v(e){var t=gc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Yv(e,t){var n=gc(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Il.EMPTY_BYTE_STRING,Lc.min()).withLastLimboFreeSnapshotVersion(Lc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Oh(),s=zh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xv(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Lc.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return tl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Xv(e,t,n){var r=zh(),i=zh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Oh();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Jv(e,t){var n=gc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Zv(e,t){var n=gc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,tl.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new cp(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function em(e,t,n){return tm.apply(this,arguments)}function tm(){return tm=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gc(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ol(e.t1)){e.next=12;break}throw e.t1;case 12:hc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),tm.apply(this,arguments)}function nm(e,t,n){var r=gc(e),i=Lc.min(),a=zh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gc(e),i=r.qi.get(n);return void 0!==i?tl.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,jf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Lc.min(),n?a:zh())})).next((function(e){return am(r,Wf(t),e),{documents:e,Hi:a}}))}))}function rm(e,t){var n=gc(e),r=gc(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function im(e,t){var n=gc(e),r=n.Ki.get(t)||Lc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Gc(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return am(n,t,e),e}))}function am(e,t,n){var r=e.Ki.get(t)||Lc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function om(e,t,n,r){return um.apply(this,arguments)}function um(){return um=wn(kn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gc(t),o=zh(),u=Oh(),s=Rn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Zv(a,function(e){return jf(Of(jc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function sm(e,t){return cm.apply(this,arguments)}function cm(){return cm=wn(kn().mark((function e(t,n){var r,i,a,o=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:zh(),e.next=3,Zv(t,jf(gp(n.bundledQuery)));case 3:return i=e.sent,a=gc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ad(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Il.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dm=function(){function e(t,n,r,i){Vn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Bn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new bc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(dc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pm=function(){function e(t,n,r){Vn(this,e),this.targetId=t,this.state=n,this.error=r}return Bn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bc(i.error.code,i.error.message))),a?new e(t,i.state,r):(dc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vm=function(){function e(t,n){Vn(this,e),this.clientId=t,this.activeTargetIds=n}return Bn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ll(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mm=function(){function e(t,n){Vn(this,e),this.clientId=t,this.onlineState=n}return Bn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ym=function(){function e(){Vn(this,e),this.activeTargetIds=qh()}return Bn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gm=function(){function e(t,n,r,i,a){Vn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new yl(Oc),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=lm(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new ym),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Bn(e,[{key:"start",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Rn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lm(this.persistenceKey,i)))&&(o=vm.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Rn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hm(this.persistenceKey,e));if(n){var r=pm.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void dc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(wn(kn().mark((function e(){var r,i,a,o,u,s,c;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=dl.at;if(null!=e)try{var n=JSON.parse(e);yc("number"==typeof n),t=n}catch(e){dc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==dl.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new dm(this.currentUser,e,t,n),i=fm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=fm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=hm(this.persistenceKey,e),i=new pm(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return vm.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dm.Zi(new sc(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return pm.Zi(r,t)}},{key:"yr",value:function(e){return mm.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:hc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=qh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),km=function(){function e(){Vn(this,e),this.Lr=new ym,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Bn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new ym,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bm=function(){function e(){Vn(this,e)}return Bn(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wm=function(){function e(){var t=this;Vn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Bn(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){hc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){hc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xm=function(){function e(t){Vn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Bn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Im=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Bn(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new oc;o.setWithCredentials(!0),o.listenOnce(tc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ec.NO_ERROR:var t=o.getResponseJson();hc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ec.TIMEOUT:hc("Connection",'RPC "'+e+'" timed out'),a(new bc(kc.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:var n=o.getStatus();if(hc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kc).indexOf(t)>=0?t:kc.UNKNOWN}(r.status);a(new bc(u,r.message))}else a(new bc(kc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bc(kc.UNAVAILABLE,"Connection failed."));break;default:mc()}}finally{hc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Js(),a=Zs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ic({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");hc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new xm({Hr:function(e){l?hc("Connection","Not sending because WebChannel is closed:",e):(c||(hc("Connection","Opening WebChannel transport."),s.open(),c=!0),hc("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ac.EventType.OPEN,(function(){l||hc("Connection","WebChannel transport opened.")})),h(s,ac.EventType.CLOSE,(function(){l||(l=!0,hc("Connection","WebChannel transport closed"),f.io())})),h(s,ac.EventType.ERROR,(function(e){l||(l=!0,pc("Connection","WebChannel transport errored:",e),f.io(new bc(kc.UNAVAILABLE,"The operation could not be completed")))})),h(s,ac.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];yc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xh[e];if(void 0!==t)return Nh(t)}(a),u=i.message;void 0===o&&(o=kc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new bc(o,u)),s.close()}else hc("Connection","WebChannel received:",n),f.ro(n)}})),h(a,nc.STAT_EVENT,(function(e){e.stat===rc.PROXY?hc("Connection","Detected buffering proxy"):e.stat===rc.NOPROXY&&hc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Vn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Bn(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);hc("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return hc("RestConnection","Received: ",e),e}),(function(t){throw pc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=_m[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Sm(){return"undefined"!=typeof window?window:null}function Em(){return"undefined"!=typeof document?document:null}function Tm(e){return new td(e,!0)}var Cm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vn(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Bn(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&hc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Nm=function(){function e(t,n,r,i,a,o,u,s){Vn(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Cm(t,n)}return Bn(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===kc.RESOURCE_EXHAUSTED?(dc(n.toString()),dc("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===kc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=En(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new bc(kc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return hc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(hc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Am=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Bn(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(yc(void 0===t||"string"==typeof t),Il.fromBase64String(t||"")):(yc(void 0===t||t instanceof Uint8Array),Il.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?kc.UNKNOWN:Nh(e.code);return new bc(t,e.message||"")}(o);n=new Qh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=cd(e,s.document.name),l=ad(s.document.updateTime),f=new af({mapValue:{fields:s.document.fields}}),h=uf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Kh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=cd(e,v.document),y=v.readTime?ad(v.readTime):Lc.min(),g=uf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Kh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=cd(e,b.document),_=b.removedTargetIds||[];n=new Kh([],_,w,null)}else{if(!("filter"in t))return mc();t.filter;var x=t.filter;x.targetId;var I=x.count||0,S=new Th(I),E=x.targetId;n=new Gh(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Lc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lc.min():t.readTime?ad(t.readTime):Lc.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=hd(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=hf(r)?{documents:kd(e,r)}:{query:bd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rd(e,t.resumeToken):t.snapshotVersion.compareTo(Lc.min())>0&&(n.readTime=nd(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=hd(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Nm),Dm=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Bn(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,On(An(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(yc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(yc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ad(e.updateTime):ad(t);return n.isEqual(Lc.min())&&(n=ad(t)),new ch(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ad(e.commitTime);return this.listener.Zo(n,t)}return yc(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=hd(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yd(t.It,e)}))};this.Bo(n)}}]),n}(Nm),Om=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return Bn(n,[{key:"su",value:function(){if(this.nu)throw new bc(kc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=En(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bc(kc.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=En(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new bc(kc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Bn((function e(){Vn(this,e)}))}());var Rm=function(){function e(t,n){Vn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Bn(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(dc(t),this.ou=!1):hc("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Pm=Bn((function e(t,n,r,i,a){var o=this;Vn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Hm(o),!e.t0){e.next=5;break}return hc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gc(t))._u.add(4),e.next=4,Mm(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Fm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Rm(r,i)}));function Fm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=wn(kn().mark((function e(t){var n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hm(t)){e.next=18;break}n=Rn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Lm.apply(this,arguments)}function Mm(e){return jm.apply(this,arguments)}function jm(){return jm=wn(kn().mark((function e(t){var n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),jm.apply(this,arguments)}function Um(e,t){var n=gc(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Wm(n)?qm(n):by(n).ko()&&zm(n,t))}function Vm(e,t){var n=gc(e),r=by(n);n.du.delete(t),r.ko()&&Bm(n,t),0===n.du.size&&(r.ko()?r.Fo():Hm(n)&&n.gu.set("Unknown"))}function zm(e,t){e.yu.Mt(t.targetId),by(e).zo(t)}function Bm(e,t){e.yu.Mt(t),by(e).Ho(t)}function qm(e){e.yu=new Yh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),by(e).start(),e.gu.uu()}function Wm(e){return Hm(e)&&!by(e).No()&&e.du.size>0}function Hm(e){return 0===gc(e)._u.size}function Km(e){e.yu=void 0}function Gm(e){return Qm.apply(this,arguments)}function Qm(){return Qm=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){zm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function $m(e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Km(t),Wm(t)?(t.gu.hu(n),qm(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t,n){return Jm.apply(this,arguments)}function Jm(){return Jm=wn(kn().mark((function e(t,n,r){var i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Qh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Rn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Zm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kh?t.yu.Gt(n):n instanceof Gh?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Lc.min())){e.next=29;break}return e.prev=14,e.next=17,$v(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Il.EMPTY_BYTE_STRING,n.snapshotVersion)),Bm(e,t);var r=new cp(n.target,t,1,n.sequenceNumber);zm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Zm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Jm.apply(this,arguments)}function Zm(e,t,n){return ey.apply(this,arguments)}function ey(){return ey=wn(kn().mark((function e(t,n,r){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ol(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Mm(t);case 5:t.gu.set("Offline"),r||(r=function(){return $v(t.localStore)}),t.asyncQueue.enqueueRetryable(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Fm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){return t().catch((function(n){return Zm(e,n,t)}))}function ny(e){return ry.apply(this,arguments)}function ry(){return ry=wn(kn().mark((function e(t){var n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gc(t),r=wy(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!iy(n)){e.next=19;break}return e.prev=3,e.next=6,Jv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ay(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Zm(n,e.t0);case 17:e.next=2;break;case 19:oy(n)&&uy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ry.apply(this,arguments)}function iy(e){return Hm(e)&&e.fu.length<10}function ay(e,t){e.fu.push(t);var n=wy(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function oy(e){return Hm(e)&&!wy(e).No()&&e.fu.length>0}function uy(e){wy(e).start()}function sy(e){return cy.apply(this,arguments)}function cy(){return cy=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wy(t).eu();case 1:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e){return fy.apply(this,arguments)}function fy(){return fy=wn(kn().mark((function e(t){var n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wy(t),r=Rn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=up.from(i,n,r),e.next=3,ty(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ny(t);case 5:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wy(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ch(i=n.code)||i===kc.ABORTED){e.next=7;break}return r=t.fu.shift(),wy(t).Mo(),e.next=5,ty(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ny(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:oy(t)&&uy(t);case 5:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t){return yy.apply(this,arguments)}function yy(){return yy=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gc(t)).asyncQueue.verifyOperationInProgress(),hc("RemoteStore","RemoteStore received new credentials"),i=Hm(r),r._u.add(3),e.next=6,Mm(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Fm(r);case 12:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function gy(e,t){return ky.apply(this,arguments)}function ky(){return ky=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gc(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Fm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Mm(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e){return e.pu||(e.pu=function(e,t,n){var r=gc(e);return r.su(),new Am(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Gm.bind(null,e),Zr:$m.bind(null,e),Wo:Xm.bind(null,e)}),e.wu.push(function(){var t=wn(kn().mark((function t(n){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Wm(e)?qm(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Km(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function wy(e){return e.Iu||(e.Iu=function(e,t,n){var r=gc(e);return r.su(),new Dm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:sy.bind(null,e),Zr:py.bind(null,e),tu:ly.bind(null,e),Zo:hy.bind(null,e)}),e.wu.push(function(){var t=wn(kn().mark((function t(n){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,ny(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(hc("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var _y=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Bn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bc(kc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xy(e,t){if(dc("AsyncQueue","".concat(t,": ").concat(e)),ol(e))return new bc(kc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Iy=function(){function e(t){Vn(this,e),this.comparator=t?function(e,n){return t(e,n)||zc.comparator(e.key,n.key)}:function(e,t){return zc.comparator(e.key,t.key)},this.keyedMap=Ph(),this.sortedSet=new yl(this.comparator)}return Bn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Sy=function(){function e(){Vn(this,e),this.Tu=new yl(zc.comparator)}return Bn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):mc():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ey=function(){function e(t,n,r,i,a,o,u,s,c){Vn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Bn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Iy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Ty=Bn((function e(){Vn(this,e),this.Au=void 0,this.listeners=[]})),Cy=Bn((function e(){Vn(this,e),this.queries=new Ah((function(e){return zf(e)}),Vf),this.onlineState="Unknown",this.Ru=new Set}));function Ny(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=wn(kn().mark((function e(t,n){var r,i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ty),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=xy(e.t0,"Initialization of query '".concat(Bf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Fy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ay.apply(this,arguments)}function Dy(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=wn(kn().mark((function e(t,n){var r,i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Ry(e,t){var n,r=gc(e),i=!1,a=Rn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Rn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Fy(r)}function Py(e,t,n){var r=gc(e),i=r.queries.get(t);if(i){var a,o=Rn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Fy(e){e.Ru.forEach((function(e){e.next()}))}var Ly=function(){function e(t,n,r){Vn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Bn(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Rn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ey(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),My=function(){function e(t,n){Vn(this,e),this.ku=t,this.byteLength=n}return Bn(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),jy=function(){function e(t){Vn(this,e),this.It=t}return Bn(e,[{key:"Ji",value:function(e){return cd(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?vd(this.It,e.document,!1):uf.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return ad(e)}}]),e}(),Uy=function(){function e(t,n,r){Vn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vy(t)}return Bn(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=jc.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new jy(this.It),i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Rn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||zh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,om(this.localStore,new jy(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Rn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,sm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var zy=Bn((function e(t){Vn(this,e),this.key=t})),By=Bn((function e(t){Vn(this,e),this.key=t})),qy=function(){function e(t,n){Vn(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zh(),this.mutatedKeys=zh(),this.Gu=Hf(t),this.Qu=new Iy(this.Gu)}return Bn(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Sy,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mc()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Ey(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Sy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=zh(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new By(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new zy(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=zh();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Ey.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Wy=Bn((function e(t,n,r){Vn(this,e),this.query=t,this.targetId=n,this.view=r})),Hy=Bn((function e(t){Vn(this,e),this.key=t,this.nc=!1})),Ky=function(){function e(t,n,r,i,a,o){Vn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ah((function(e){return zf(e)}),Vf),this.rc=new Map,this.oc=new Set,this.uc=new yl(zc.comparator),this.cc=new Map,this.ac=new Ev,this.hc={},this.lc=new Map,this.fc=nv.vn(),this.onlineState="Unknown",this.dc=void 0}return Bn(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Gy(e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=wn(kn().mark((function e(t,n){var r,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vg(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Zv(r.localStore,jf(n));case 8:return u=e.sent,r.isPrimaryClient&&Um(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$y(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function $y(e,t,n,r,i){return Yy.apply(this,arguments)}function Yy(){return Yy=wn(kn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=wn(kn().mark((function e(t,n,r,i){var a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,nm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(mg(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,nm(t.localStore,n,!0);case 3:return o=e.sent,u=new qy(n,o.Hi),s=u.Wu(o.documents),c=Hh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),mg(t,r,l.Xu),f=new Wy(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Xy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gc(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Vf(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,em(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Vm(r.remoteStore,i.targetId),pg(r,i.targetId)})).catch(Zc);case 9:e.next=14;break;case 11:return pg(r,i.targetId),e.next=14,em(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e,t,n){return eg.apply(this,arguments)}function eg(){return eg=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gc(e),a=Fc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),zh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Oh(),s=zh();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Rn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=mh(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new kh(c.key,l,of(l.value.mapValue),lh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Fh(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new yl(Oc)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,kg(i,a.changes);case 9:return e.next=11,ny(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),eg.apply(this,arguments)}function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),e.prev=1,e.next=4,Yv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(yc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?yc(n.nc):e.removedDocuments.size>0&&(yc(n.nc),n.nc=!1))})),e.next=8,kg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ng.apply(this,arguments)}function rg(e,t,n){var r=gc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Rn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Fy(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ig(e,t,n){return ag.apply(this,arguments)}function ag(){return ag=wn(kn().mark((function e(t,n,r){var i,a,o,u,s,c;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new yl(zc.comparator)).insert(o,uf.newNoDocument(o,Lc.min())),s=zh().add(o),c=new Wh(Lc.min(),new Map,new bl(Oc),u,s),e.next=9,tg(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),gg(i),e.next=16;break;case 14:return e.next=16,em(i.localStore,n,!1).then((function(){return pg(i,n,r)})).catch(Zc);case 16:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),i=n.batch.batchId,e.prev=1,e.next=4,Qv(r.localStore,n);case 4:return a=e.sent,dg(r,i,null),hg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,kg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ug.apply(this,arguments)}function sg(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gc(t),e.prev=1,e.next=4,function(e,t){var n=gc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return yc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,dg(i,n,r),hg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,kg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cg.apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hm((r=gc(t)).remoteStore)||hc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=xy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),fg.apply(this,arguments)}function hg(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function dg(e,t,n){var r=gc(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function pg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Rn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||vg(e,t)}))}function vg(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Vm(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),gg(e))}function mg(e,t,n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof zy?(e.ac.addReference(a.key,t),yg(e,a)):a instanceof By?(hc("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||vg(e,a.key)):mc()}}catch(o){i.e(o)}finally{i.f()}}function yg(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(hc("SyncEngine","New document in limbo: "+n),e.oc.add(r),gg(e))}function gg(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new zc(jc.fromString(t)),r=e.fc.next();e.cc.set(r,new Hy(n)),e.uc=e.uc.insert(n,r),Um(e.remoteStore,new cp(jf(Of(n.path)),r,2,dl.at))}}function kg(e,t,n){return bg.apply(this,arguments)}function bg(){return bg=wn(kn().mark((function e(t,n,r){var i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gc(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Bv.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=wn(kn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return tl.forEach(n,(function(t){return tl.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return tl.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ol(e.t0)){e.next=10;break}throw e.t0;case 10:hc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Rn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function wg(e,t){return _g.apply(this,arguments)}function _g(){return _g=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gc(t)).currentUser.isEqual(n)){e.next=11;break}return hc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Kv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new bc(kc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,kg(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function xg(e,t){var n=gc(e),r=n.cc.get(t);if(r&&r.nc)return zh().add(r.key);var i=zh(),a=n.rc.get(t);if(!a)return i;var o,u=Rn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Ig(e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),e.next=3,nm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&mg(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}function Eg(e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),e.abrupt("return",im(r.localStore,n).then((function(e){return kg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Cg(e,t,n,r){return Ng.apply(this,arguments)}function Ng(){return Ng=wn(kn().mark((function e(t,n,r,i){var a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gc(t),e.next=3,function(e,t){var n=gc(e),r=gc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):tl.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ny(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(dg(a,n,i||null),hg(a,n),function(e,t){gc(gc(e).mutationQueue).An(t)}(a.localStore,n)):mc();case 11:return e.next=13,kg(a,o);case 13:e.next=16;break;case 15:hc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ng.apply(this,arguments)}function Ag(e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=wn(kn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vg(r=gc(t)),zg(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Og(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,gy(r.remoteStore,!0);case 9:o=Rn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Um(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return pg(r,t),em(r.localStore,t,!0)})),Vm(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Og(r,c);case 21:return function(e){var t=gc(e);t.cc.forEach((function(e,n){Vm(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new yl(zc.comparator)}(r),r.dc=!1,e.next=25,gy(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}function Og(e,t,n){return Rg.apply(this,arguments)}function Rg(){return Rg=wn(kn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gc(t),a=[],o=[],u=Rn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Zv(i.localStore,jf(f[0]));case 11:l=e.sent,h=Rn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Ig(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,rm(i.localStore,c);case 36:return y=e.sent,e.next=39,Zv(i.localStore,y);case 39:return l=e.sent,e.next=42,$y(i,Pg(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Rg.apply(this,arguments)}function Pg(e){return Df(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fg(e){var t=gc(e);return gc(gc(t.localStore).persistence).vi()}function Lg(e,t,n,r){return Mg.apply(this,arguments)}function Mg(){return Mg=wn(kn().mark((function e(t,n,r,i){var a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gc(t)).dc){e.next=3;break}return e.abrupt("return",void hc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,im(a.localStore,Wf(o[0]));case 10:return u=e.sent,s=Wh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Il.EMPTY_BYTE_STRING),e.next=14,kg(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,em(a.localStore,n,!0);case 17:return pg(a,n,i),e.abrupt("break",20);case 19:mc();case 20:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function jg(e,t,n){return Ug.apply(this,arguments)}function Ug(){return Ug=wn(kn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Vg(t)).dc){e.next=45;break}a=Rn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return hc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,rm(i.localStore,u);case 12:return s=e.sent,e.next=15,Zv(i.localStore,s);case 15:return c=e.sent,e.next=18,$y(i,Pg(s),c.targetId,!1,c.resumeToken);case 18:Um(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Rn(r),e.prev=30,h=kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,em(i.localStore,t,!1).then((function(){Vm(i.remoteStore,t),pg(i,t)})).catch(Zc);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ug.apply(this,arguments)}function Vg(e){var t=gc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ig.bind(null,t),t.sc.Wo=Ry.bind(null,t.eventManager),t.sc.wc=Py.bind(null,t.eventManager),t}function zg(e){var t=gc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=og.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sg.bind(null,t),t}function Bg(e,t,n){var r=gc(e);(function(){var e=wn(kn().mark((function e(t,n,r){var i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gc(e),r=ad(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Vy(i)),a=new Uy(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,kg(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=gc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(pc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var qg=function(){function e(){Vn(this,e),this.synchronizeTabs=!1}return Bn(e,[{key:"initialize",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Tm(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Hv(this.persistence,new qv,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Ov(Pv.Bs,this.It)}},{key:"gc",value:function(e){return new km}},{key:"terminate",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wg=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Bn(n,[{key:"initialize",value:function(){var e=wn(kn().mark((function e(t){var r=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(An(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,zg(this.Ac.syncEngine);case 6:return e.next=8,ny(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Hv(this.persistence,new qv,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new cv(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new hl(t,this.persistence);return new fl(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qp.withCacheSize(this.cacheSizeBytes):Qp.DEFAULT;return new jv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sm(),Em(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new km}}]),n}(qg),Hg=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Bn(n,[{key:"initialize",value:function(){var e=wn(kn().mark((function e(t){var r,i=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(An(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof gm,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Cg.bind(null,r),$r:Lg.bind(null,r),Br:jg.bind(null,r),vi:Fg.bind(null,r),Mr:Eg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ag(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Sm();if(!gm.C(t))throw new bc(kc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Wg),Kg=function(){function e(){Vn(this,e)}return Bn(e,[{key:"initialize",value:function(){var e=wn(kn().mark((function e(t,n){var r=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return rg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wg.bind(null,this.syncEngine),e.next=12,gy(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Cy}},{key:"createDatastore",value:function(e){var t,n=Tm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Im(t));return function(e,t,n,r){return new Om(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return rg(o.syncEngine,e,0)},a=wm.C()?new wm:new bm,new Pm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ky(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gc(t),hc("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Mm(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Gg(e,t,n){if(!n)throw new bc(kc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qg(e,t,n,r){if(!0===t&&!0===r)throw new bc(kc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function $g(e){if(!zc.isDocumentKey(e))throw new bc(kc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yg(e){if(zc.isDocumentKey(e))throw new bc(kc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":mc()}function Jg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bc(kc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xg(e);throw new bc(kc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Zg(e,t){if(t<=0)throw new bc(kc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ek=new Map,tk=function(){function e(t){var n;if(Vn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bc(kc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bc(kc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Qg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Bn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nk=function(){function e(t,n,r,i){Vn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tk({}),this._settingsFrozen=!1}return Bn(e,[{key:"app",get:function(){if(!this._app)throw new bc(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bc(kc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xc;switch(e.type){case"gapi":var t=e.client;return new Tc(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bc(kc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ek.get(e);t&&(hc("ComponentProvider","Removing Datastore"),ek.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function rk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Jg(e,nk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=sc.MOCK_USER;else{o=mr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bc(kc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sc(s)}e._authCredentials=new Ic(new _c(o,u))}}var ik=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Bn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ok(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ak=function(){function e(t,n,r){Vn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Bn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ok=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this,e,r,Of(i)))._path=i,a.type="collection",a}return Bn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ik(this.firestore,null,new zc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ak);function uk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),Gg("collection","path",t),e instanceof nk){var a=jc.fromString.apply(jc,[t].concat(r));return Yg(a),new ok(e,null,a)}if(!(e instanceof ik||e instanceof ok))throw new bc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jc.fromString.apply(jc,[t].concat(r)));return Yg(o),new ok(e.firestore,null,o)}function sk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),1===arguments.length&&(t=Dc.R()),Gg("doc","path",t),e instanceof nk){var a=jc.fromString.apply(jc,[t].concat(r));return $g(a),new ik(e,null,new zc(a))}if(!(e instanceof ik||e instanceof ok))throw new bc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jc.fromString.apply(jc,[t].concat(r)));return $g(o),new ik(e.firestore,e instanceof ok?e.converter:null,new zc(o))}function ck(e,t){return e=Ur(e),t=Ur(t),(e instanceof ik||e instanceof ok)&&(t instanceof ik||t instanceof ok)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lk(e,t){return e=Ur(e),t=Ur(t),e instanceof ak&&t instanceof ak&&e.firestore===t.firestore&&Vf(e._query,t._query)&&e.converter===t.converter}function fk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return wn(kn().mark((function r(){var i;return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var hk=function(){function e(t){Vn(this,e),this.observer=t,this.muted=!1}return Bn(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):dc("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dk=function(){function e(t,n){var r=this;Vn(this,e),this.Pc=t,this.It=n,this.metadata=new wc,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Bn(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new My(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pk=function(){function e(t){Vn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Bn(e,[{key:"lookup",value:function(){var e=wn(kn().mark((function e(t){var n,r=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new bc(kc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=wn(kn().mark((function e(t,n){var r,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),i=hd(r.It)+"/documents",a={documents:n.map((function(e){return sd(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=md(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());yc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Sh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=wn(kn().mark((function e(){var t,n=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zc.fromPath(t);n.mutations.push(new Eh(r,n.precondition(r)))})),e.next=7,function(){var e=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(t),i=hd(r.It)+"/documents",a={writes:n.map((function(e){return yd(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mc();t=Lc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new bc(kc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lc.min())?lh.exists(!1):lh.updateTime(t):lh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lc.min()))throw new bc(kc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lh.updateTime(t)}return lh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),vk=function(){function e(t,n,r,i,a){Vn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Cm(this.asyncQueue,"transaction_retry")}return Bn(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(wn(kn().mark((function t(){var n,r;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new pk(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ch(t)}return!1}}]),e}(),mk=function(){function e(t,n,r,i){var a=this;Vn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sc.UNAUTHENTICATED,this.clientId=Dc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Bn(e,[{key:"getConfiguration",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bc(kc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(wn(kn().mark((function n(){var r;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Kv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){return bk.apply(this,arguments)}function bk(){return bk=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wk(t);case 3:return r=e.sent,hc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return my(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return my(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}function wk(e){return _k.apply(this,arguments)}function _k(){return _k=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yk(t,new qg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function xk(e){return Ik.apply(this,arguments)}function Ik(){return Ik=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,kk(t,new Kg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Sk(e){return wk(e).then((function(e){return e.persistence}))}function Ek(e){return wk(e).then((function(e){return e.localStore}))}function Tk(e){return xk(e).then((function(e){return e.remoteStore}))}function Ck(e){return xk(e).then((function(e){return e.syncEngine}))}function Nk(e){return xk(e).then((function(e){return e.datastore}))}function Ak(e){return Dk.apply(this,arguments)}function Dk(){return Dk=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Gy.bind(null,n.syncEngine),r.onUnlisten=Xy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Ok(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function i(){return kn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hk({next:function(a){t.enqueueAndForget((function(){return Dy(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bc(kc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bc(kc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ly(Of(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Ny(e,o)},i.next=3,Ak(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Rk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function i(){return kn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hk({next:function(n){t.enqueueAndForget((function(){return Dy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bc(kc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ly(n,a,{includeMetadataChanges:!0,Nu:!0});return Ny(e,o)},i.next=3,Ak(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Pk=function(){function e(){var t=this;Vn(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Cm(this,"async_queue_retry"),this.Wc=function(){var e=Em();e&&hc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Em();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Bn(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=Em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new wc;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=wn(kn().mark((function e(){var t=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ol(e.t0)){e.next=12;break}throw e.t0;case 12:hc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=_y.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&mc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Rn(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Rn(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function Fk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Rn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Lk=function(){function e(){Vn(this,e),this._progressObserver={},this._taskCompletionResolver=new wc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Bn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Mk=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Pk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Bn(n,[{key:"_terminate",value:function(){return this._firestoreClient||Vk(this),this._firestoreClient.terminate()}}]),n}(nk);function jk(e,t){var n="string"==typeof e?e:t||"(default)",r=Ti("object"==typeof e?e:Fi(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=hr(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&rk.apply(void 0,[r].concat(Un(i)))}return r}function Uk(e){return e._firestoreClient||Vk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ol(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function zk(e,t,n){var r=new wc;return e.asyncQueue.enqueue(wn(kn().mark((function i(){var a;return kn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yk(e,n);case 3:return i.next=5,kk(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===kc.FAILED_PRECONDITION||e.code===kc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:pc("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Bk(e){return function(e){return e.asyncQueue.enqueue(wn(kn().mark((function t(){var n,r;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sk(e);case 2:return n=t.sent,t.next=5,Tk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gc(e);return t._u.delete(0),Fm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Uk(e=Jg(e,Mk)))}function qk(e){return function(e){return e.asyncQueue.enqueue(wn(kn().mark((function t(){var n,r;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sk(e);case 2:return n=t.sent,t.next=5,Tk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gc(t))._u.add(0),e.next=4,Mm(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Uk(e=Jg(e,Mk)))}function Wk(e,t){var n=Uk(e=Jg(e,Mk)),r=new Lk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new dk(e,t)}(function(e,t){if(e instanceof Uint8Array)return fk(e,t);if(e instanceof ArrayBuffer)return fk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Tm(t));e.asyncQueue.enqueueAndForget(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bg,t.next=3,Ck(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Hk(e,t){return function(e,t){return e.asyncQueue.enqueue(wn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Ek(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Uk(e=Jg(e,Mk)),t).then((function(t){return t?new ak(e,null,t.query):null}))}function Kk(e){if(e._initialized||e._terminated)throw new bc(kc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Gk=function(){function e(t){Vn(this,e),this._byteString=t}return Bn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Il.fromBase64String(t))}catch(t){throw new bc(kc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Il.fromUint8Array(t))}}]),e}(),Qk=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bc(kc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vc(n)}return Bn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $k=Bn((function e(t){Vn(this,e),this._methodName=t})),Yk=function(){function e(t,n){if(Vn(this,e),!isFinite(t)||t<-90||t>90)throw new bc(kc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bc(kc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Bn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Oc(this._lat,e._lat)||Oc(this._long,e._long)}}]),e}(),Xk=/^__.*__$/,Jk=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Bn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}]),e}(),Zk=function(){function e(t,n,r){Vn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Bn(e,[{key:"toMutation",value:function(e,t){return new kh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function eb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mc()}}var tb=function(){function e(t,n,r,i,a,o){Vn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Bn(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return wb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(eb(this.sa)&&Xk.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),nb=function(){function e(t,n,r){Vn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Tm(t)}return Bn(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tb({sa:e,methodName:t,fa:n,path:Vc.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function rb(e){var t=e._freezeSettings(),n=Tm(e._databaseId);return new nb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ib(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);yb("Data must be an object, but it was:",o,r);var u,s,c=vb(r,o);if(a.merge)u=new xl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Rn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=gb(t,d,n);if(!o.contains(p))throw new bc(kc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));_b(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new xl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Jk(new af(c),u,s)}var ab=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($k);function ob(e,t,n){return new tb({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var ub=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"_toFieldTransform",value:function(e){return new sh(e.path,new eh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($k),sb=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e))._a=r,i}return Bn(n,[{key:"_toFieldTransform",value:function(e){var t=ob(this,e,!0),n=this._a.map((function(e){return pb(e,t)})),r=new th(n);return new sh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($k),cb=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e))._a=r,i}return Bn(n,[{key:"_toFieldTransform",value:function(e){var t=ob(this,e,!0),n=this._a.map((function(e){return pb(e,t)})),r=new rh(n);return new sh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}($k),lb=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e)).wa=r,i}return Bn(n,[{key:"_toFieldTransform",value:function(e){var t=new ah(e.It,$f(e.It,this.wa));return new sh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}($k);function fb(e,t,n,r){var i=e.da(1,t,n);yb("Data must be an object, but it was:",i,r);var a=[],o=af.empty();vl(r,(function(e,r){var u=bb(t,e,n);r=Ur(r);var s=i.ca(u);if(r instanceof ab)a.push(u);else{var c=pb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new xl(a);return new Zk(o,u,i.fieldTransforms)}function hb(e,t,n,r,i,a){var o=e.da(1,t,n),u=[gb(t,r,n)],s=[i];if(a.length%2!=0)throw new bc(kc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(gb(t,a[c])),s.push(a[c+1]);for(var l=[],f=af.empty(),h=u.length-1;h>=0;--h)if(!_b(l,u[h])){var d=u[h],p=s[h];p=Ur(p);var v=o.ca(d);if(p instanceof ab)l.push(d);else{var m=pb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new xl(l);return new Zk(f,y,o.fieldTransforms)}function db(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pb(n,e.da(r?4:3,t))}function pb(e,t){if(mb(e=Ur(e)))return yb("Unsupported field value:",t,e),vb(e,t);if(e instanceof $k)return function(e,t){if(!eb(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Rn(e);try{for(a.s();!(n=a.n()).done;){var o=pb(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ur(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $f(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Fc.fromDate(e);return{timestampValue:nd(t.It,n)}}if(e instanceof Fc){var r=new Fc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nd(t.It,r)}}if(e instanceof Yk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gk)return{bytesValue:rd(t.It,e._byteString)};if(e instanceof ik){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:od(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Xg(e)))}(e,t)}function vb(e,t){var n={};return ml(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vl(e,(function(e,r){var i=pb(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fc||e instanceof Yk||e instanceof Gk||e instanceof ik||e instanceof $k)}function yb(e,t,n){if(!mb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Xg(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function gb(e,t,n){if((t=Ur(t))instanceof Qk)return t._internalPath;if("string"==typeof t)return bb(e,t);throw wb("Field path arguments must be of type string or ",e,!1,void 0,n)}var kb=new RegExp("[~\\*/\\[\\]]");function bb(e,t,n){if(t.search(kb)>=0)throw wb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Nn(Qk,Un(t.split(".")))._internalPath}catch(r){throw wb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bc(kc.INVALID_ARGUMENT,u+e+s)}function _b(e,t){return e.some((function(e){return e.isEqual(t)}))}var xb=function(){function e(t,n,r,i,a){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Bn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ik(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Ib=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"data",value:function(){return On(An(n.prototype),"data",this).call(this)}}]),n}(xb);function Sb(e,t){return"string"==typeof t?bb(e,t):t instanceof Qk?t._internalPath:t._delegate._internalPath}function Eb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bc(kc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tb=Bn((function e(){Vn(this,e)}));function Cb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Nb=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return Bn(n,[{key:"_apply",value:function(e){var t=rb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bc(kc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Vb(o,a);var s,c=[],l=Rn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Ub(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Ub(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Vb(o,a),u=db(n,"where",o,"in"===a||"not-in"===a);var h=mf.create(i,a,u);return function(e,t){if(t.dt()){var n=Ff(e);if(null!==n&&!n.isEqual(t.field))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Pf(e);null!==r&&zb(e,t.field,r)}var i=function(e,t){var n,r=Rn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new bc(kc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bc(kc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ak(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Tb);var Ab=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return Bn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bc(kc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bc(kc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ef(t,n);return function(e,t){if(null===Pf(e)){var n=Ff(e);null!==n&&zb(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new ak(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Af(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Tb);var Db=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return Bn(n,[{key:"_apply",value:function(e){return new ak(e.firestore,e.converter,Uf(e._query,this.Ia,this.Ta))}}]),n}(Tb);var Ob=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Bn(n,[{key:"_apply",value:function(e){var t=jb(e,this.type,this.Ea,this.Aa);return new ak(e.firestore,e.converter,function(e,t){return new Af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Tb);function Rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ob("startAt",t,!0)}function Pb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ob("startAfter",t,!1)}var Fb=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a;return Vn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Bn(n,[{key:"_apply",value:function(e){var t=jb(e,this.type,this.Ea,this.Aa);return new ak(e.firestore,e.converter,function(e,t){return new Af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Tb);function Lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fb("endBefore",t,!1)}function Mb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fb("endAt",t,!0)}function jb(e,t,n,r){if(n[0]=Ur(n[0]),n[0]instanceof xb)return function(e,t,n,r,i){if(!r)throw new bc(kc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Rn(Mf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kl(t,r.key));else{var c=r.data.field(s.field);if(Nl(c))throw new bc(kc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bc(kc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Sf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bc(kc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bc(kc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Lf(e)&&-1!==c.indexOf("/"))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jc.fromString(c));if(!zc.isDocumentKey(l))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new zc(l);u.push(Kl(t,f))}else{var h=db(n,r,c);u.push(h)}}return new Sf(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ub(e,t,n){if("string"==typeof(n=Ur(n))){if(""===n)throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lf(t)&&-1!==n.indexOf("/"))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jc.fromString(n));if(!zc.isDocumentKey(r))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kl(e,new zc(r))}if(n instanceof ik)return Kl(e,n._key);throw new bc(kc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xg(n),"."))}function Vb(e,t){if(!Array.isArray(e)||0===e.length)throw new bc(kc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new bc(kc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function zb(e,t,n){if(!n.isEqual(t))throw new bc(kc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Bb=function(){function e(){Vn(this,e)}return Bn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Yk(Tl(e.latitude),Tl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Al(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=El(e);return new Fc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jc.fromString(e);yc(Ad(n));var r=new Rl(n.get(1),n.get(3)),i=new zc(n.popFirst(5));return r.isEqual(t)||dc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wb=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Bn(n,[{key:"convertBytes",value:function(e){return new Gk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ik(this.firestore,null,t)}}]),n}(Bb),Hb=function(){function e(t,n){Vn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Bn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Kb=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a,o,u){var s;return Vn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Bn(n,[{key:"exists",value:function(){return On(An(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Gb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(xb),Gb=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return On(An(n.prototype),"data",this).call(this,e)}}]),n}(Kb),Qb=function(){function e(t,n,r,i){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hb(i.hasPendingWrites,i.fromCache),this.query=r}return Bn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Gb(n._firestore,n._userDataWriter,r.key,r,new Hb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bc(kc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Gb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Gb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$b(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function $b(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mc()}}function Yb(e,t){return e instanceof Kb&&t instanceof Kb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qb&&t instanceof Qb&&e._firestore===t._firestore&&lk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Xb=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Bn(n,[{key:"convertBytes",value:function(e){return new Gk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ik(this.firestore,null,t)}}]),n}(Bb);function Jb(e){e=Jg(e,ik);var t=Jg(e.firestore,Mk),n=Uk(t),r=new Xb(t);return function(e,t){var n=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function r(){return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new bc(kc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=xy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ek(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Kb(t,r,e._key,n,new Hb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Zb(e){e=Jg(e,ak);var t=Jg(e.firestore,Mk),n=Uk(t),r=new Xb(t);return Eb(e._query),Rk(n,e._query).then((function(n){return new Qb(t,r,e,n)}))}function ew(e){e=Jg(e,ak);var t=Jg(e.firestore,Mk),n=Uk(t),r=new Xb(t);return function(e,t){var n=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function r(){return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wn(kn().mark((function e(t,n,r){var i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nm(t,n,!0);case 3:i=e.sent,a=new qy(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=xy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ek(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Qb(t,r,e,n)}))}function tw(e,t,n){e=Jg(e,ik);var r=Jg(e.firestore,Mk),i=qb(e.converter,t,n);return uw(r,[ib(rb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,lh.none())])}function nw(e,t,n){e=Jg(e,ik);for(var r=Jg(e.firestore,Mk),i=rb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return uw(r,[("string"==typeof(t=Ur(t))||t instanceof Qk?hb(i,"updateDoc",e._key,t,n,o):fb(i,"updateDoc",e._key,t)).toMutation(e._key,lh.exists(!0))])}function rw(e){return uw(Jg(e.firestore,Mk),[new Sh(e._key,lh.none())])}function iw(e,t){var n=Jg(e.firestore,Mk),r=sk(e),i=qb(e.converter,t);return uw(n,[ib(rb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,lh.exists(!1))]).then((function(){return r}))}function aw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ur(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Fk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Fk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ik)l=Jg(e.firestore,Mk),f=Of(e._key.path),c={next:function(t){n[s]&&n[s](sw(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Jg(e,ak);l=Jg(p.firestore,Mk),f=p._query;var v=new Xb(l);c={next:function(e){n[s]&&n[s](new Qb(l,v,p,e))},error:n[s+1],complete:n[s+2]},Eb(e._query)}return function(e,t,n,r){var i=new hk(r),a=new Ly(t,i,n);return e.asyncQueue.enqueueAndForget(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ny,t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dy,t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Uk(l),f,h,c)}function ow(e,t){return function(e,t){var n=new hk(t);return e.asyncQueue.enqueueAndForget(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gc(e).Ru.add(t),t.next()},t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gc(e).Ru.delete(t)},t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Uk(e=Jg(e,Mk)),Fk(t)?t:{next:t})}function uw(e,t){return function(e,t){var n=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function r(){return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Zy,r.next=3,Ck(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Uk(e),t)}function sw(e,t,n){var r=n.docs.get(t._key),i=new Xb(e);return new Kb(e,i,t._key,r,new Hb(n.hasPendingWrites,n.fromCache),t.converter)}var cw={maxAttempts:5},lw=function(){function e(t,n){Vn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rb(t)}return Bn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fw(e,this._firestore),i=qb(r.converter,t,n),a=ib(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,lh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ur(t))||t instanceof Qk?hb(this._dataReader,"WriteBatch.update",i._key,t,n,o):fb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,lh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fw(e,this._firestore);return this._mutations=this._mutations.concat(new Sh(t._key,lh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new bc(kc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fw(e,t){if((e=Ur(e)).firestore!==t)throw new bc(kc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hw,dw,pw,vw,mw,yw,gw,kw=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Bn(n,[{key:"get",value:function(e){var t=this,r=fw(e,this._firestore),i=new Xb(this._firestore);return On(An(n.prototype),"get",this).call(this,e).then((function(e){return new Kb(t._firestore,i,r._key,e._document,new Hb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Vn(this,e),this._firestore=t,this._transaction=n,this._dataReader=rb(t)}return Bn(e,[{key:"get",value:function(e){var t=this,n=fw(e,this._firestore),r=new Wb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return mc();var i=e[0];if(i.isFoundDocument())return new xb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new xb(t._firestore,r,n._key,null,n.converter);throw mc()}))}},{key:"set",value:function(e,t,n){var r=fw(e,this._firestore),i=qb(r.converter,t,n),a=ib(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ur(t))||t instanceof Qk?hb(this._dataReader,"Transaction.update",i._key,t,n,o):fb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function bw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sb("arrayUnion",t)}function ww(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cc=e}(Ri),Ei(new Vr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Mk(new Sc(e.getProvider("auth-internal")),new Nc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bc(kc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ui(uc,"3.7.2",e),Ui(uc,"3.7.2","esm2017")}();var _w,xw=en.div(hw||(hw=be(["\n  width: 100%;\n"]))),Iw=en.div(dw||(dw=be(["\n  width: 235%;\n  min-height: 31vw;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n  gap: 0.1rem;\n\n  background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: linear-gradient(to left, #bdebf5, #dbbee9);\n"]))),Sw=en.div(pw||(pw=be(["\n  width: 100%;\n  overflow: hidden;\n  color: azure;\n  font: 10px;\n  border-radius: 10px;\n  padding: 1px 0 0 5px;\n  box-shadow: 5 5px 10px 5px rgb(239 227 238);\n  background: -webkit-linear-gradient(to left, #696868, #545353);\n  background: -o-linear-gradient(to left, #696868, #545353);\n  background: -moz-linear-gradient(to left, #696868, #545353);\n  background: linear-gradient(to left, #696868, #545353); \n\n@media (max-width: 768px)and (min-width: 481px) {\n  width: 430px;\n  height: 89.5vw;\n}\n@media (max-width: 480px)and (min-width: 320px) {\n  //width: 378px; \n  width: 394px; \n  height: 134vw;\n}\n"]))),Ew=en.div(vw||(vw=be(["\n  width: 31.4vw;\n  height: 6vh;\n  display: flex;\n  border-radius: 10px;\n  color: azure;\n  font: 10px;\n  border-radius: 10px;  \n  margin: -1px 0px 0px -9px;\n  padding: 10px 5px 10px 10px;\n  text-shadow:0px 0px 3px #f05be6;\n  box-shadow:0px 4px 21px #000000;\n  justify-content: center;\n  align-items: center; \n\n\n  @media (max-width: 768px)and (min-width: 481px) {\n  width: 72.5vw;\n  height: 6vh;\n}\n@media (max-width: 480px)and (min-width: 320px) {\n  width: 95.5vw;\n  height: 6vh;\n}\n"]))),Tw=en.div(mw||(mw=be(["  \n    display: flex;  \n    justify-content: space-between;\n    margin: 3px 0px -12px 0;\n    p.Name{\n      width: 77%;\n      margin: 0 10px 0 10px;\n      padding: 0 0 0 10px;\n      text-shadow:0px 0px 3px #f05be6;\n  } \n    p.birthdate{\n      width: 23%;\n      margin: 0 10px 0 10px;\n      text-shadow:0px 0px 3px #f05be6;\n  } \n  "]))),Cw=en.div(yw||(yw=be(["\n  margin:0;\n  text-shadow:0px 0px 3px #f05be6;  \n  margin: 0 14px 6px 18px;\n  "]))),Nw=en.div(gw||(gw=be(["\n  display: flex;  \n  justify-content: space-between;\n\n  div.ContainerName{\n    width: 77%;\n    margin: 0 10px 0 10px;\n    padding: 0 0 0 10px;\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    }\n  div.ContainerBirthdate{\n    width: 23%;\n      margin: 0 10px 0 10px;\n    font-family: Nunito, sans-serif;\n  font-size: 15px;\n  }\n\n  ul{\n  list-style: none;  \n}\n  "])));Ui("firebase","9.13.0","app");var Aw=function(){function e(t,n){var r=this;Vn(this,e),this._delegate=t,this.firebase=n,Ii(t,new Vr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Bn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Mi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ii(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Si(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Dw=(on(_w={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),on(_w,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_w),Ow=new gr("app-compat","Firebase",Dw);var Rw=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Pi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ir(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ui,setLogLevel:zi,onLog:Vi,apps:null,SDK_VERSION:Ri,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ei(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ow.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&er(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ir(n,e=e||bi))throw Ow.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Aw);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){er(n,e)},createSubscribe:Pr,ErrorFactory:gr,deepExtend:er}),n}(),Pw=new Xr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Pw.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Fw=self.firebase.SDK_VERSION;Fw&&Fw.indexOf("LITE")>=0&&Pw.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Lw=Rw;!function(e){Ui("@firebase/app-compat","0.1.38",e)}();function Mw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var jw;Object.create;var Uw="facebook.com",Vw="github.com",zw="google.com",Bw="password",qw="twitter.com",Ww="EMAIL_SIGNIN",Hw="PASSWORD_RESET",Kw="RECOVER_EMAIL",Gw="REVERT_SECOND_FACTOR_ADDITION",Qw="VERIFY_AND_CHANGE_EMAIL",$w="VERIFY_EMAIL";function Yw(){return on({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xw=function(){var e;return on(e={},"admin-restricted-operation","This operation is restricted to administrators only."),on(e,"argument-error",""),on(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),on(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),on(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),on(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),on(e,"cordova-not-ready","Cordova framework is not ready."),on(e,"cors-unsupported","This browser is not supported."),on(e,"credential-already-in-use","This credential is already associated with a different user account."),on(e,"custom-token-mismatch","The custom token corresponds to a different audience."),on(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),on(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),on(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),on(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),on(e,"email-already-in-use","The email address is already in use by another account."),on(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),on(e,"expired-action-code","The action code has expired."),on(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),on(e,"internal-error","An internal AuthError has occurred."),on(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),on(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),on(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),on(e,"invalid-auth-event","An internal AuthError has occurred."),on(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),on(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),on(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),on(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),on(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),on(e,"invalid-email","The email address is badly formatted."),on(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),on(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),on(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),on(e,"invalid-credential","The supplied auth credential is malformed or has expired."),on(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),on(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),on(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),on(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),on(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),on(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),on(e,"wrong-password","The password is invalid or the user does not have a password."),on(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),on(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),on(e,"invalid-provider-id","The specified provider ID is invalid."),on(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),on(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),on(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),on(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),on(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),on(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),on(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),on(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),on(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),on(e,"missing-continue-uri","A continue URL must be provided in the request."),on(e,"missing-iframe-start","An internal AuthError has occurred."),on(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),on(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),on(e,"missing-multi-factor-info","No second factor identifier is provided."),on(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),on(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),on(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),on(e,"app-deleted","This instance of FirebaseApp has been deleted."),on(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),on(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),on(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),on(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),on(e,"no-auth-event","An internal AuthError has occurred."),on(e,"no-such-provider","User was not linked to an account with the given provider."),on(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),on(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),on(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),on(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),on(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),on(e,"provider-already-linked","User can only be linked to one identity for the given provider."),on(e,"quota-exceeded","The project's quota for this operation has been exceeded."),on(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),on(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),on(e,"rejected-credential","The request contains malformed or mismatching credentials."),on(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),on(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),on(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),on(e,"timeout","The operation has timed out."),on(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),on(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),on(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),on(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),on(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),on(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),on(e,"unverified-email","The operation requires a verified email."),on(e,"user-cancelled","The user did not grant your application the permissions it requested."),on(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),on(e,"user-disabled","The user account has been disabled by an administrator."),on(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),on(e,"user-signed-out",""),on(e,"weak-password","The password must be 6 characters long or more."),on(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),on(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Jw=Yw,Zw=new gr("auth","Firebase",Yw()),e_=new Xr("@firebase/auth");function t_(e){if(e_.logLevel<=Wr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e_.error.apply(e_,["Auth (".concat(Ri,"): ").concat(e)].concat(n))}}function n_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw o_.apply(void 0,[e].concat(n))}function r_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o_.apply(void 0,[e].concat(n))}function i_(e,t,n){var r=Object.assign(Object.assign({},Jw()),on({},t,n));return new gr("auth","Firebase",r).create(t,{appName:e.name})}function a_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&n_(e,"argument-error"),i_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function o_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Un(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Un(o)))}return Zw.create.apply(Zw,[e].concat(n))}function u_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw o_.apply(void 0,[t].concat(r))}}function s_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw t_(t),new Error(t)}function c_(e,t){e||s_(t)}var l_=new Map;function f_(e){c_(e instanceof Function,"Expected a class definition");var t=l_.get(e);return t?(c_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,l_.set(e,t),t)}function h_(e,t){var n=Ti(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Cr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;n_(r,"already-initialized")}return n.initialize({options:t})}function d_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function p_(){return"http:"===v_()||"https:"===v_()}function v_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var m_=function(){function e(t,n){Vn(this,e),this.shortDelay=t,this.longDelay=n,c_(n>t,"Short delay should be less than long delay!"),this.isMobile=rr()||or()}return Bn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(p_()||ar()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function y_(e,t){c_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var g_=function(){function e(){Vn(this,e)}return Bn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void s_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void s_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void s_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),k_=(on(jw={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),on(jw,"MISSING_CUSTOM_TOKEN","internal-error"),on(jw,"INVALID_IDENTIFIER","invalid-email"),on(jw,"MISSING_CONTINUE_URI","internal-error"),on(jw,"INVALID_PASSWORD","wrong-password"),on(jw,"MISSING_PASSWORD","internal-error"),on(jw,"EMAIL_EXISTS","email-already-in-use"),on(jw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),on(jw,"INVALID_IDP_RESPONSE","invalid-credential"),on(jw,"INVALID_PENDING_TOKEN","invalid-credential"),on(jw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),on(jw,"MISSING_REQ_TYPE","internal-error"),on(jw,"EMAIL_NOT_FOUND","user-not-found"),on(jw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),on(jw,"EXPIRED_OOB_CODE","expired-action-code"),on(jw,"INVALID_OOB_CODE","invalid-action-code"),on(jw,"MISSING_OOB_CODE","internal-error"),on(jw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),on(jw,"INVALID_ID_TOKEN","invalid-user-token"),on(jw,"TOKEN_EXPIRED","user-token-expired"),on(jw,"USER_NOT_FOUND","user-token-expired"),on(jw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),on(jw,"INVALID_CODE","invalid-verification-code"),on(jw,"INVALID_SESSION_INFO","invalid-verification-id"),on(jw,"INVALID_TEMPORARY_PROOF","invalid-credential"),on(jw,"MISSING_SESSION_INFO","missing-verification-id"),on(jw,"SESSION_EXPIRED","code-expired"),on(jw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),on(jw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),on(jw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),on(jw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),on(jw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),on(jw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),on(jw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),on(jw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),on(jw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),on(jw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),on(jw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),jw),b_=new m_(3e4,6e4);function w_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function __(e,t,n,r){return x_.apply(this,arguments)}function x_(){return x_=wn(kn().mark((function e(t,n,r,i){var a,o=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",I_(t,a,wn(kn().mark((function e(){var a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ar(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",g_.fetch()(C_(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function I_(e,t,n){return S_.apply(this,arguments)}function S_(){return(S_=wn(kn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},k_),n),e.prev=2,a=new N_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw A_(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=En(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw A_(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw A_(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw A_(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw i_(t,d,h);case 34:n_(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yr)){e.next=41;break}throw e.t0;case 41:n_(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function E_(e,t,n,r){return T_.apply(this,arguments)}function T_(){return T_=wn(kn().mark((function e(t,n,r,i){var a,o,u=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,__(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&n_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function C_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?y_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var N_=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(r_(n.auth,"network-request-failed"))}),b_.get())}))}return Bn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function A_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=r_(e,t,r);return i.customData._tokenResponse=n,i}function D_(e,t){return O_.apply(this,arguments)}function O_(){return(O_=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e,t){return P_.apply(this,arguments)}function P_(){return(P_=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t){return L_.apply(this,arguments)}function L_(){return(L_=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uM){}}function j_(){return j_=wn(kn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ur(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,u_((a=V_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:M_(U_(a.auth_time)),issuedAtTime:M_(U_(a.iat)),expirationTime:M_(U_(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function U_(e){return 1e3*Number(e)}function V_(e){var t,n=En(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return t_("JWT malformed, contained fewer than 3 sections"),null;try{var o=Zn(i);return o?JSON.parse(o):(t_("Failed to decode base64 JWT payload"),null)}catch(uM){return t_("Caught error parsing JWT payload as JSON",null===(t=uM)||void 0===t?void 0:t.toString()),null}}function z_(e,t){return B_.apply(this,arguments)}function B_(){return B_=wn(kn().mark((function e(t,n){var r=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yr&&q_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),B_.apply(this,arguments)}function q_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var W_=function(){function e(t){Vn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Bn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),H_=function(){function e(t,n){Vn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Bn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=M_(this.lastLoginAt),this.creationTime=M_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function K_(e){return G_.apply(this,arguments)}function G_(){return G_=wn(kn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,z_(t,F_(r,{idToken:i}));case 6:u_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Y_(o.providerUserInfo):[],s=$_(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new H_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Q_(){return(Q_=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ur(t),e.next=3,K_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Un(n),Un(t))}function Y_(e){return e.map((function(e){var t=e.providerId,n=Mw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function X_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I_(t,{},wn(kn().mark((function e(){var r,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=C_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",g_.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z_=function(){function e(){Vn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Bn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){u_(e.idToken,"internal-error"),u_("undefined"!==typeof e.idToken,"internal-error"),u_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=V_(e);return u_(t,"internal-error"),u_("undefined"!==typeof t.exp,"internal-error"),u_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=wn(kn().mark((function e(t){var n,r=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],u_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return s_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(u_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(u_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(u_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ex(e,t){u_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var tx=function(){function e(t){Vn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Mw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Un(a.providerData):[],this.metadata=new H_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Bn(e,[{key:"getIdToken",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(u_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return j_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Q_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(u_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){u_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=wn(kn().mark((function e(t){var n,r,i=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,K_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,z_(this,D_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;u_(k&&x,t,"internal-error");var I=Z_.fromJSON(this.name,x);u_("string"===typeof k,t,"internal-error"),ex(f,t.name),ex(h,t.name),u_("boolean"===typeof b,t,"internal-error"),u_("boolean"===typeof w,t,"internal-error"),ex(d,t.name),ex(p,t.name),ex(v,t.name),ex(m,t.name),ex(y,t.name),ex(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=wn(kn().mark((function t(n,r){var i,a,o,u=arguments;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Z_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,K_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),nx=function(){function e(){Vn(this,e),this.type="NONE",this.storage={}}return Bn(e,[{key:"_isAvailable",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();nx.type="NONE";var rx=nx;function ix(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ax=function(){function e(t,n,r){Vn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ix(this.userKey,a.apiKey,o),this.fullPersistenceKey=ix("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Bn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?tx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=wn(kn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(f_(rx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||f_(rx),u=ix(i,n.config.apiKey,n.name),s=null,c=Rn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=tx._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ox(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ux(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hx(t))return"Blackberry";if(dx(t))return"Webos";if(sx(t))return"Safari";if((t.includes("chrome/")||cx(t))&&!t.includes("edge/"))return"Chrome";if(fx(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ux(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/firefox\//i.test(e)}function sx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/crios\//i.test(e)}function lx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/iemobile/i.test(e)}function fx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/android/i.test(e)}function hx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/blackberry/i.test(e)}function dx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/webos/i.test(e)}function px(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vx(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return px(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function mx(){return ur()&&10===document.documentMode}function yx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return px(e)||fx(e)||dx(e)||hx(e)||/windows phone/i.test(e)||lx(e)}function gx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ox(nr());break;case"Worker":t="".concat(ox(nr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ri,"/").concat(r)}var kx=function(){function e(t){Vn(this,e),this.auth=t,this.queue=[]}return Bn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(uM){r(uM)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=wn(kn().mark((function e(t){var n,r,i,a,o,u,s,c;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Rn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Rn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(Pe){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bx=function(){function e(t,n,r){Vn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _x(this),this.idTokenSubscription=new _x(this),this.beforeStateQueue=new kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Bn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=f_(t)),this._initializationPromise=this.queue(wn(kn().mark((function r(){var i,a;return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ax.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=wn(kn().mark((function e(t){var n,r,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return u_(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ur(t):null)&&u_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=wn(kn().mark((function e(t){var n,r=this,i=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&u_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(wn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(f_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return u_(n=t&&f_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ax.create(this,[f_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=wn(kn().mark((function e(t){var n=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return u_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return u_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gx(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=wn(kn().mark((function e(){var t,n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=on({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wx(e){return Ur(e)}var _x=function(){function e(t){var n=this;Vn(this,e),this.auth=t,this.observer=null,this.addObserver=Pr((function(e){return n.observer=e}))}return Bn(e,[{key:"next",get:function(){return u_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xx(e,t,n){var r=wx(e);u_(r._canInitEmulator,r,"emulator-config-failed"),u_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ix(t),o=function(e){var t=Ix(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Sx(r.substr(a.length+1))}}var o=En(r.split(":"),2);return{host:o[0],port:Sx(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ix(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sx(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ex=function(){function e(t,n){Vn(this,e),this.providerId=t,this.signInMethod=n}return Bn(e,[{key:"toJSON",value:function(){return s_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return s_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return s_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return s_("not implemented")}}]),e}();function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return(Cx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:resetPassword",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nx(e,t){return Ax.apply(this,arguments)}function Ax(){return(Ax=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dx(e,t){return Ox.apply(this,arguments)}function Ox(){return(Ox=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:update",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rx(e,t){return Px.apply(this,arguments)}function Px(){return(Px=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithPassword",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fx(e,t){return Lx.apply(this,arguments)}function Lx(){return(Lx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:sendOobCode",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mx(e,t){return jx.apply(this,arguments)}function jx(){return(jx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return(Vx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zx(e,t){return Bx.apply(this,arguments)}function Bx(){return(Bx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qx(e,t){return Wx.apply(this,arguments)}function Wx(){return(Wx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hx(e,t){return Kx.apply(this,arguments)}function Kx(){return(Kx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithEmailLink",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return(Qx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithEmailLink",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $x=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Bn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rx(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hx(t,{email:this._email,oobCode:this._password}));case 5:n_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Nx(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:n_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ex);function Yx(e,t){return Xx.apply(this,arguments)}function Xx(){return(Xx=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithIdp",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jx=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Bn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ar(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):n_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Mw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ex);function Zx(e,t){return eI.apply(this,arguments)}function eI(){return(eI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:sendVerificationCode",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tI(){return(tI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nI(){return(nI=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw A_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rI=on({},"USER_NOT_FOUND","user-not-found");function iI(){return(iI=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithPhoneNumber",w_(t,r),rI));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aI=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Bn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return tI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return nI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return iI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ex);var oI=function(){function e(t){var n,r,i,a,o,u;Vn(this,e);var s=Dr(Or(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);u_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Bn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Dr(Or(e)).link,n=t?Dr(Or(t)).deep_link_id:null,r=Dr(Or(e)).deep_link_id;return(r?Dr(Or(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(mk){return null}}}]),e}();var uI=function(){function e(){Vn(this,e),this.providerId=e.PROVIDER_ID}return Bn(e,null,[{key:"credential",value:function(e,t){return $x._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=oI.parseLink(t);return u_(n,"argument-error"),$x._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();uI.PROVIDER_ID="password",uI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",uI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var sI=function(){function e(t){Vn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Bn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),cI=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Bn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Un(this.scopes)}}]),n}(sI),lI=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return u_(e.idToken||e.accessToken,"argument-error"),Jx._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return u_("providerId"in t&&"signInMethod"in t,"argument-error"),Jx._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(uM){return null}}}]),n}(cI),fI=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.call(this,"facebook.com")}return Bn(n,null,[{key:"credential",value:function(e){return Jx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(mk){return null}}}]),n}(cI);fI.FACEBOOK_SIGN_IN_METHOD="facebook.com",fI.PROVIDER_ID="facebook.com";var hI=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Bn(n,null,[{key:"credential",value:function(e,t){return Jx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(mk){return null}}}]),n}(cI);hI.GOOGLE_SIGN_IN_METHOD="google.com",hI.PROVIDER_ID="google.com";var dI=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.call(this,"github.com")}return Bn(n,null,[{key:"credential",value:function(e){return Jx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(mk){return null}}}]),n}(cI);dI.GITHUB_SIGN_IN_METHOD="github.com",dI.PROVIDER_ID="github.com";var pI=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Bn(n,[{key:"_getIdTokenResponse",value:function(e){return Yx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yx(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ex),vI=function(e){Pn(n,e);var t=Mn(n);function n(e){return Vn(this,n),u_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Bn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=pI.fromJSON(e);return u_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return pI._create(r,n)}catch(uM){return null}}}]),n}(sI),mI=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.call(this,"twitter.com")}return Bn(n,null,[{key:"credential",value:function(e,t){return Jx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(mk){return null}}}]),n}(cI);function yI(e,t){return gI.apply(this,arguments)}function gI(){return(gI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signUp",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}mI.TWITTER_SIGN_IN_METHOD="twitter.com",mI.PROVIDER_ID="twitter.com";var kI=function(){function e(t){Vn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Bn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=wn(kn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,tx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=bI(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=wn(kn().mark((function t(n,r,i){var a;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bI(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function wI(){return wI=wn(kn().mark((function e(t){var n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wx(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new kI({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,yI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,kI._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}var _I=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o,u;return Vn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Fn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Bn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yr);function xI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw _I._fromErrorAndOperation(e,n,t,r);throw n}))}function II(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function SI(e,t){return EI.apply(this,arguments)}function EI(){return EI=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,NI(!0,r,n);case 3:return e.t0=R_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=II(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function TI(e,t){return CI.apply(this,arguments)}function CI(){return CI=wn(kn().mark((function e(t,n){var r,i,a=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=z_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",kI._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}function NI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(n);case 2:i=II(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",u_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function DI(e,t){return OI.apply(this,arguments)}function OI(){return OI=wn(kn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,z_(t,xI(a,o,n,t),r);case 6:return u_((u=e.sent).idToken,a,"internal-error"),u_(s=V_(u.idToken),a,"internal-error"),c=s.sub,u_(t.uid===c,a,"user-mismatch"),e.abrupt("return",kI._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&n_(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),OI.apply(this,arguments)}function RI(e,t){return PI.apply(this,arguments)}function PI(){return PI=wn(kn().mark((function e(t,n){var r,i,a,o,u=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,xI(t,i,n);case 4:return a=e.sent,e.next=7,kI._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function FI(e,t){return LI.apply(this,arguments)}function LI(){return(LI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RI(wx(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(e,t){return jI.apply(this,arguments)}function jI(){return(jI=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,NI(!1,r,n.providerId);case 3:return e.abrupt("return",TI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UI(e,t){return VI.apply(this,arguments)}function VI(){return(VI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DI(Ur(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t){return BI.apply(this,arguments)}function BI(){return(BI=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E_(t,"POST","/v1/accounts:signInWithCustomToken",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qI(){return(qI=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wx(t),e.next=3,zI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,kI._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WI=function(){function e(t,n){Vn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Bn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?HI._fromServerResponse(e,t):n_(e,"internal-error")}}]),e}(),HI=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Bn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(WI);function KI(e,t,n){var r;u_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),u_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(u_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(u_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function GI(){return(GI=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),a={requestType:"PASSWORD_RESET",email:n},r&&KI(i,a,r),e.next=5,Ux(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QI(){return(QI=wn(kn().mark((function e(t,n,r){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tx(Ur(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $I(){return($I=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dx(Ur(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e,t){return XI.apply(this,arguments)}function XI(){return(XI=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,Tx(r,{oobCode:n});case 3:i=e.sent,u_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return u_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:u_(i.mfaInfo,r,"internal-error");case 13:u_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=WI._fromServerResponse(wx(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JI(){return(JI=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YI(Ur(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZI(e,t,n){return eS.apply(this,arguments)}function eS(){return(eS=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wx(t),e.next=3,yI(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,kI._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tS(){return(tS=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),a={requestType:"EMAIL_SIGNIN",email:n},u_(r.handleCodeInApp,i,"argument-error"),r&&KI(i,a,r),e.next=6,zx(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nS(){return(nS=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),u_((a=uI.credentialWithLink(n,r||d_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",FI(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return(iS=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:createAuthUri",w_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aS(){return(aS=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p_()?d_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,rS(Ur(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(){return(oS=wn(kn().mark((function e(t,n){var r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&KI(r.auth,a,n),e.next=8,Mx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uS(){return(uS=wn(kn().mark((function e(t,n,r){var i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&KI(i.auth,o,r),e.next=8,qx(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e,t){return cS.apply(this,arguments)}function cS(){return(cS=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",__(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lS(){return(lS=wn(kn().mark((function e(t,n){var r,i,a,o,u,s,c;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ur(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,z_(a,sS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fS(e,t,n){return hS.apply(this,arguments)}function hS(){return(hS=wn(kn().mark((function e(t,n,r){var i,a,o,u;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,z_(t,Nx(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dS=Bn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),pS=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Bn(n)}(dS),vS=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"facebook.com",r)}return Bn(n)}(dS),mS=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Bn(n)}(pS),yS=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,"google.com",r)}return Bn(n)}(dS),gS=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i){return Vn(this,n),t.call(this,e,"twitter.com",r,i)}return Bn(n)}(pS);function kS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=V_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new dS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vS(a,i);case"github.com":return new mS(a,i);case"google.com":return new yS(a,i);case"twitter.com":return new gS(a,i,e.screenName||null);case"custom":case"anonymous":return new dS(a,null);default:return new dS(a,r,i)}}(n)}function bS(e,t,n,r){return Ur(e).onIdTokenChanged(t,n,r)}function wS(e,t,n){return Ur(e).beforeAuthStateChanged(t,n)}var _S=function(){function e(t,n,r){Vn(this,e),this.type=t,this.credential=n,this.auth=r}return Bn(e,[{key:"toJSON",value:function(){return{multiFactorSession:on({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),xS=function(){function e(t,n,r){Vn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Bn(e,[{key:"resolveSignIn",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=wx(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return WI._fromServerResponse(r,e)}));u_(i.mfaPendingCredential,r,"internal-error");var o=_S._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=wn(kn().mark((function e(t){var a,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,kI._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return u_(n.user,r,"internal-error"),e.abrupt("return",kI._forOperation(n.user,n.operationType,u));case 17:n_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function IS(e,t){return __(e,"POST","/v2/accounts/mfaEnrollment:start",w_(e,t))}var SS=function(){function e(t){var n=this;Vn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return WI._fromServerResponse(t.auth,e)})))}))}return Bn(e,[{key:"getSession",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_S,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,z_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=wn(kn().mark((function e(t){var n,r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,z_(this.user,__(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",w_(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ES=new WeakMap;var TS="__sak",CS=function(){function e(t,n){Vn(this,e),this.storageRetriever=t,this.type=n}return Bn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(TS,"1"),this.storage.removeItem(TS),Promise.resolve(!0)):Promise.resolve(!1)}catch(mk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var NS=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=nr();return sx(e)||px(e)}()&&function(){try{return!(!window||window===window.top)}catch(uM){return!1}}(),e.fallbackToPolling=yx(),e._shouldAllowMigration=!0,e}return Bn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=wn(kn().mark((function e(t,r){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(An(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wn(kn().mark((function e(t){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(An(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On(An(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(CS);NS.type="LOCAL";var AS=NS,DS=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Bn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(CS);DS.type="SESSION";var OS=DS;function RS(e){return Promise.all(e.map(function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var PS=function(){function e(t){Vn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Bn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=wn(kn().mark((function e(t){var n,r,i,a,o,u,s,c;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,RS(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function FS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}PS.receivers=[];var LS=function(){function e(t){Vn(this,e),this.target=t,this.handlers=new Set}return Bn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=wn(kn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=FS("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function MS(){return window}function jS(){return"undefined"!==typeof MS().WorkerGlobalScope&&"function"===typeof MS().importScripts}function US(){return VS.apply(this,arguments)}function VS(){return(VS=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function zS(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var BS="firebaseLocalStorageDb",qS="firebaseLocalStorage",WS="fbase_key",HS=function(){function e(t){Vn(this,e),this.request=t}return Bn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function KS(e,t){return e.transaction([qS],t?"readwrite":"readonly").objectStore(qS)}function GS(){var e=indexedDB.deleteDatabase(BS);return new HS(e).toPromise()}function QS(){var e=indexedDB.open(BS,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(qS,{keyPath:WS})}catch(uM){n(uM)}})),e.addEventListener("success",wn(kn().mark((function n(){var r;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(qS)){n.next=12;break}return r.close(),n.next=5,GS();case 5:return n.t0=t,n.next=8,QS();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function $S(e,t,n){return YS.apply(this,arguments)}function YS(){return YS=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=KS(t,!0).put((on(i={},WS,n),on(i,"value",r),i)),e.abrupt("return",new HS(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=wn(kn().mark((function e(t,n){var r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=KS(t,!1).get(n),e.next=3,new HS(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){var n=KS(e,!0).delete(t);return new HS(n).toPromise()}var eE=function(){function e(){Vn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Bn(e,[{key:"_openDb",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,QS();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=wn(kn().mark((function e(){var t=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=PS._getInstance(jS()?self:null),this.receiver._subscribe("keyChanged",function(){var e=wn(kn().mark((function e(n,r){var i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=wn(kn().mark((function e(){var t,n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,US();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new LS(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&zS()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,QS();case 5:return t=e.sent,e.next=8,$S(t,TS,"1");case 8:return e.next=10,ZS(t,TS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wn(kn().mark((function e(t,n){var r=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return $S(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return XS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wn(kn().mark((function e(t){var n=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ZS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=KS(e,!1).getAll();return new HS(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Rn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(wn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();eE.type="LOCAL";var tE=eE;function nE(e,t){return __(e,"POST","/v2/accounts/mfaSignIn:start",w_(e,t))}function rE(e){return iE.apply(this,arguments)}function iE(){return(iE=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=r_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function oE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var uE=1e12,sE=function(){function e(t){Vn(this,e),this.auth=t,this.counter=uE,this._widgets=new Map}return Bn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new cE(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||uE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||uE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||uE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),cE=function(){function e(t,n,r){var i=this;Vn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;u_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Bn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(uM){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(uM){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var lE=oE("rcb"),fE=new m_(3e4,6e4),hE="https://www.google.com/recaptcha/api.js?",dE=function(){function e(){var t;Vn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=MS().grecaptcha)||void 0===t?void 0:t.render)}return Bn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u_(pE(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(MS().grecaptcha):new Promise((function(r,i){var a=MS().setTimeout((function(){i(r_(e,"network-request-failed"))}),fE.get());MS()[lE]=function(){MS().clearTimeout(a),delete MS()[lE];var o=MS().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(r_(e,"internal-error"))},aE("".concat(hE,"?").concat(Ar({onload:lE,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(r_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=MS().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function pE(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var vE=function(){function e(){Vn(this,e)}return Bn(e,[{key:"load",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new sE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),mE="recaptcha",yE={theme:"light",type:"image"},gE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},yE),r=arguments.length>2?arguments[2]:void 0;Vn(this,e),this.parameters=n,this.type=mE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wx(r),this.isInvisible="invisible"===this.parameters.size,u_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;u_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vE:new dE,this.validateStartingState()}return Bn(e,[{key:"verify",value:function(){var e=wn(kn().mark((function e(){var t,n,r,i=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(uM){return Promise.reject(uM)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){u_(!this.parameters.sitekey,this.auth,"argument-error"),u_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),u_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=MS()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){u_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u_(p_()&&!jS(),this.auth,"internal-error"),e.next=3,kE();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,rE(this.auth);case 8:u_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return u_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function kE(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var bE=function(){function e(t,n){Vn(this,e),this.verificationId=t,this.onConfirmation=n}return Bn(e,[{key:"confirm",value:function(e){var t=aI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function wE(){return(wE=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wx(t),e.next=3,SE(i,n,Ur(r));case 3:return a=e.sent,e.abrupt("return",new bE(a,(function(e){return FI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _E(e,t,n){return xE.apply(this,arguments)}function xE(){return(xE=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,NI(!1,i,"phone");case 3:return e.next=5,SE(i.auth,n,Ur(r));case 5:return a=e.sent,e.abrupt("return",new bE(a,(function(e){return MI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IE(){return(IE=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,SE(i.auth,n,Ur(r));case 3:return a=e.sent,e.abrupt("return",new bE(a,(function(e){return UI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SE(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=wn(kn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,u_("string"===typeof a,t,"argument-error"),u_(r.type===mE,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return u_("enroll"===u.type,t,"internal-error"),e.next=13,IS(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return u_("signin"===u.type,t,"internal-error"),u_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,nE(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Zx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),EE.apply(this,arguments)}function TE(){return(TE=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TI(Ur(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CE=function(){function e(t){Vn(this,e),this.providerId=e.PROVIDER_ID,this.auth=wx(t)}return Bn(e,[{key:"verifyPhoneNumber",value:function(e,t){return SE(this.auth,e,Ur(t))}}],[{key:"credential",value:function(e,t){return aI._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?aI._fromTokenResponse(n,r):null}}]),e}();function NE(e,t){return t?f_(t):(u_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}CE.PROVIDER_ID="phone",CE.PHONE_SIGN_IN_METHOD="phone";var AE=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Bn(n,[{key:"_getIdTokenResponse",value:function(e){return Yx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ex);function DE(e){return RI(e.auth,new AE(e),e.bypassAuthState)}function OE(e){var t=e.auth,n=e.user;return u_(n,t,"internal-error"),DI(n,new AE(e),e.bypassAuthState)}function RE(e){return PE.apply(this,arguments)}function PE(){return(PE=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,u_(r=t.user,n,"internal-error"),e.abrupt("return",TI(r,new AE(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Bn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=wn(kn().mark((function t(n,r){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=wn(kn().mark((function e(t){var n,r,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DE;case"linkViaPopup":case"linkViaRedirect":return RE;case"reauthViaPopup":case"reauthViaRedirect":return OE;default:n_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){c_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){c_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),LE=new m_(2e3,1e4);function ME(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wx(t),a_(t,n,sI),a=NE(i,r),o=new BE(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function UE(){return UE=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_((i=Ur(t)).auth,n,sI),a=NE(i.auth,r),o=new BE(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_((i=Ur(t)).auth,n,sI),a=NE(i.auth,r),o=new BE(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}var BE=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a,o){var u;return Vn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Fn(u),u}return Bn(n,[{key:"executeNotNull",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return u_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wn(kn().mark((function e(){var t,n=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c_(1===this.filter.length,"Popup operations only handle one event"),t=FS(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(r_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(r_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(r_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,LE.get())}()}}]),n}(FE);BE.currentPopupAction=null;var qE=new Map,WE=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Bn(n,[{key:"execute",value:function(){var e=wn(kn().mark((function e(){var t,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qE.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,HE(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,On(An(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:qE.set(this.auth._key(),t);case 21:return this.bypassAuthState||qE.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=wn(kn().mark((function e(t){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",On(An(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",On(An(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(FE);function HE(e,t){return KE.apply(this,arguments)}function KE(){return KE=wn(kn().mark((function e(t,n){var r,i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XE(n),i=YE(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function GE(e,t){return QE.apply(this,arguments)}function QE(){return(QE=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YE(t)._set(XE(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $E(e,t){qE.set(e._key(),t)}function YE(e){return f_(e._redirectPersistence)}function XE(e){return ix("pendingRedirect",e.config.apiKey,e.name)}function JE(e,t,n){return function(e,t,n){return ZE.apply(this,arguments)}(e,t,n)}function ZE(){return ZE=wn(kn().mark((function e(t,n,r){var i,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wx(t),a_(t,n,sI),a=NE(i,r),e.next=5,GE(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eT(e,t,n){return function(e,t,n){return tT.apply(this,arguments)}(e,t,n)}function tT(){return tT=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_((i=Ur(t)).auth,n,sI),a=NE(i.auth,r),e.next=5,GE(a,i.auth);case 5:return e.next=7,sT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return function(e,t,n){return rT.apply(this,arguments)}(e,t,n)}function rT(){return rT=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_((i=Ur(t)).auth,n,sI),a=NE(i.auth,r),e.next=5,NI(!1,i,n.providerId);case 5:return e.next=7,GE(a,i.auth);case 7:return e.next=9,sT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return(aT=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wx(t)._initializationPromise;case 2:return e.abrupt("return",oT(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=wn(kn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=wx(t),a=NE(i,n),o=new WE(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e){return cT.apply(this,arguments)}function cT(){return(cT=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FS("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lT=function(){function e(t){Vn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Bn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(r_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dT(e){return pT.apply(this,arguments)}function pT(){return pT=wn(kn().mark((function e(t){var n,r=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",__(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}var vT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mT=/^https?/;function yT(){return(yT=wn(kn().mark((function e(t){var n,r,i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Rn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:n_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function gT(e){var t=d_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!mT.test(r))return!1;if(vT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var kT=new m_(3e4,6e4);function bT(){var e=MS().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Un(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wT=null;function _T(e){return wT=wT||function(e){return new Promise((function(t,n){var r,i,a;function o(){bT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bT(),n(r_(e,"network-request-failed"))},timeout:kT.get()})}if(null===(i=null===(r=MS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=MS().gapi)||void 0===a?void 0:a.load)){var u=oE("iframefcb");return MS()[u]=function(){gapi.load?o():n(r_(e,"network-request-failed"))},aE("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wT=null,e}))}(e),wT}var xT=new m_(5e3,15e3),IT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ET(e){var t=e.config;u_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?y_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ri},i=ST.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ar(r).slice(1))}function TT(e){return CT.apply(this,arguments)}function CT(){return CT=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(t);case 2:return n=e.sent,u_(r=MS().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ET(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IT,dontclear:!0},(function(e){return new Promise(function(){var n=wn(kn().mark((function n(r,i){var a,o,u;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){MS().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=r_(t,"network-request-failed"),o=MS().setTimeout((function(){i(a)}),xT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}var NT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AT="_blank",DT="http://localhost",OT=function(){function e(t){Vn(this,e),this.window=t,this.associatedEvent=null}return Bn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(uM){}}}]),e}();function RT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},NT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=nr().toLowerCase();n&&(u=cx(c)?AT:n),ux(c)&&(t=t||DT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=En(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(vx(c)&&"_self"!==u)return PT(t||"",u),new OT(null);var f=window.open(t||"",u,l);u_(f,e,"popup-blocked");try{f.focus()}catch(uM){}return new OT(f)}function PT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var FT="__/auth/handler",LT="emulator/auth/handler";function MT(e,t,n,r,i,a){u_(e.config.authDomain,e,"auth-domain-config-required"),u_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(t instanceof sI){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Er(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=En(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof cI){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(FT);return y_(t,LT)}(e),"?").concat(Ar(d).slice(1))}var jT="webStorageSupport",UT=function(){function e(){Vn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=oT,this._overrideRedirectResult=$E}return Bn(e,[{key:"_openPopup",value:function(){var e=wn(kn().mark((function e(t,n,r,i){var a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=MT(t,n,r,d_(),i),e.abrupt("return",RT(t,o,FS()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wn(kn().mark((function e(t,n,r,i){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=MT(t,n,r,d_(),i),MS().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(c_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TT(t);case 2:return n=e.sent,r=new lT(t),n.register("authEvent",(function(e){return u_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(jT,{type:jT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),n_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return yx()||sx()||px()}}]),e}(),VT=UT,zT=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,"phone")).credential=e,r}return Bn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return __(e,"POST","/v2/accounts/mfaEnrollment:finalize",w_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return __(e,"POST","/v2/accounts/mfaSignIn:finalize",w_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Vn(this,e),this.factorId=t}return Bn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return s_("unexpected MultiFactorSessionType")}}}]),e}()),BT=function(){function e(){Vn(this,e)}return Bn(e,null,[{key:"assertion",value:function(e){return zT._fromCredential(e)}}]),e}();BT.FACTOR_ID="phone";var qT="@firebase/auth",WT="0.20.11",HT=function(){function e(t){Vn(this,e),this.auth=t,this.internalListeners=new Map}return Bn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){u_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var KT,GT=pr("authIdTokenMaxAge")||300,QT=null,$T=function(e){return function(){var t=wn(kn().mark((function t(n){var r,i,a;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>GT)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,QT!==a){t.next=12;break}return t.abrupt("return");case 12:return QT=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function YT(){return window}KT="Browser",Ei(new Vr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){u_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),u_(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:KT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gx(KT)},i=new bx(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(f_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ei(new Vr("auth-internal",(function(e){return function(e){return new HT(e)}(wx(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(qT,WT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(KT)),Ui(qT,WT,"esm2017");function XT(e,t,n){return JT.apply(this,arguments)}function JT(){return JT=wn(kn().mark((function e(t,n,r){var i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YT(),o=a.BuildInfo,c_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,iC(n.sessionId);case 4:return u=e.sent,s={},px()?s.ibi=o.packageName:fx()?s.apn=o.packageName:n_(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",MT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function ZT(){return(ZT=wn(kn().mark((function e(t){var n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YT(),r=n.BuildInfo,i={},px()?i.iosBundleId=r.packageName:fx()?i.androidPackageName=r.packageName:n_(t,"operation-not-supported-in-this-environment"),e.next=5,dT(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eC(e){var t=YT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=wn(kn().mark((function e(t,n,r){var i,a,o;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(r_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),fx()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nC.apply(this,arguments)}function rC(e){var t,n,r,i,a,o,u,s,c,l,f=YT();u_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),u_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),u_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),u_("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),u_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function iC(e){return aC.apply(this,arguments)}function aC(){return(aC=wn(kn().mark((function e(t){var n,r,i;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oC(e){if(c_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uC=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Bn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),On(An(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(lT);function sC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:dC(),postBody:null,tenantId:e.tenantId,error:r_(e,"no-auth-event")}}function cC(e,t){return pC()._set(vC(e),t)}function lC(e){return fC.apply(this,arguments)}function fC(){return(fC=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pC()._get(vC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,pC()._remove(vC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hC(e,t){var n,r,i=function(e){var t=mC(e),n=t.link?decodeURIComponent(t.link):void 0,r=mC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return mC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=mC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(uM){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?r_(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function dC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function pC(){return f_(AS)}function vC(e){return ix("authEvent",e.config.apiKey,e.name)}function mC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=_n(t=n)||jn(t)||In(t)||Sn();r[0];return Dr(r.slice(1).join("?"))}var yC=function(){function e(){Vn(this,e),this._redirectPersistence=OS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oT,this._overrideRedirectResult=$E}return Bn(e,[{key:"_initialize",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new uC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){n_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=wn(kn().mark((function e(t,n,r,i){var a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),qE.clear(),e.next=10,this._originValidation(t);case 10:return o=sC(t,r,i),e.next=13,cC(t,o);case 13:return e.next=15,XT(t,o,n);case 15:return u=e.sent,e.next=18,eC(u);case 18:return s=e.sent,e.abrupt("return",tC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ZT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=YT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(wn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lC(e);case 2:t.onEvent(kC());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=wn(kn().mark((function n(r){var i,a;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,lC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hC(i,r.url)),t.onEvent(a||kC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");YT().handleOpenURL=function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(uM){console.error(uM)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),gC=yC;function kC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:r_("no-auth-event")}}function bC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function wC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return!("file:"!==bC()&&"ionic:"!==bC()&&"capacitor:"!==bC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _C(){return ur()&&11===(null===document||void 0===document?void 0:document.documentMode)}function xC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return/Edge\/\d+/.test(e)}function IC(){try{var e=self.localStorage,t=FS();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr();return _C()||xC(e)}()||cr()}catch(uM){return SC()&&cr()}return!1}function SC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function EC(){return("http:"===bC()||"https:"===bC()||ar()||wC())&&!(or()||ir())&&IC()&&!SC()}function TC(){return wC()&&"undefined"!==typeof document}function CC(){return NC.apply(this,arguments)}function NC(){return(NC=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(TC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AC={LOCAL:"local",NONE:"none",SESSION:"session"},DC=u_,OC="persistence";function RC(e,t){DC(Object.values(AC).includes(t),e,"invalid-persistence-type"),or()?DC(t!==AC.SESSION,e,"unsupported-persistence-type"):ir()?DC(t===AC.NONE,e,"unsupported-persistence-type"):SC()?DC(t===AC.NONE||t===AC.LOCAL&&cr(),e,"unsupported-persistence-type"):DC(t===AC.NONE||IC(),e,"unsupported-persistence-type")}function PC(e){return FC.apply(this,arguments)}function FC(){return FC=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=LC(),r=ix(OC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function LC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(uM){return null}}var MC=u_,jC=function(){function e(){Vn(this,e),this.browserResolver=f_(VT),this.cordovaResolver=f_(gC),this.underlyingResolver=null,this._redirectPersistence=OS,this._completeRedirectFn=oT,this._overrideRedirectResult=$E}return Bn(e,[{key:"_initialize",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=wn(kn().mark((function e(t,n,r,i){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wn(kn().mark((function e(t,n,r,i){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return TC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return MC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,CC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function UC(e){return e.unwrap()}function VC(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new HC(e,function(e,t){var n,r=Ur(e),i=t;return u_(t.customData.operationType,r,"argument-error"),u_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),xS._fromError(r,i)}(e,t));else if(i){var a=zC(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function zC(e){var t=(e instanceof yr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yr)&&"temporaryProof"in t&&"phoneNumber"in t)return CE.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Bw)return null;switch(r){case zw:n=hI;break;case Uw:n=fI;break;case Vw:n=dI;break;case qw:n=mI;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?pI._create(r,u):Jx._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new lI(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof yr?n.credentialFromError(e):n.credentialFromResult(e)}function BC(e,t){return t.catch((function(t){throw t instanceof yr&&VC(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zC(t)),additionalUserInfo:kS(e),user:KC.getOrCreate(r)}}))}function qC(e,t){return WC.apply(this,arguments)}function WC(){return(WC=wn(kn().mark((function e(t,n){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return BC(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HC=function(){function e(t,n){Vn(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return Bn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return BC(UC(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),KC=function(){function e(t){Vn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ur(e);return ES.has(t)||ES.set(t,SS._fromUser(t)),ES.get(t)}(t)}return Bn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC(this.auth,MI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qC(this.auth,_E(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC(this.auth,VE(this._delegate,t,jC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PC(wx(this.auth));case 2:return e.abrupt("return",nT(this._delegate,t,jC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC(this.auth,UI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return qC(this.auth,function(e,t,n){return IE.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return BC(this.auth,function(e,t,n){return UE.apply(this,arguments)}(this._delegate,e,jC))}},{key:"reauthenticateWithRedirect",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PC(wx(this.auth));case 2:return e.abrupt("return",eT(this._delegate,t,jC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return oS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SI(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fS(Ur(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fS(Ur(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return TE.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return lS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return uS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();KC.USER_MAP=new WeakMap;var GC=u_,QC=function(){function e(t,n){if(Vn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;GC(r,"invalid-api-key",{appName:t.name}),GC(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jC:void 0;this._delegate=n.initialize({options:{persistence:YC(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Xw),this.linkUnderlyingAuth()}return Bn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?KC.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xx(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return $I.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return YI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return QI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=wn(kn().mark((function e(t,n){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BC(this._delegate,ZI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return aS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=oI.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GC(EC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,iT(this._delegate,jC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",BC(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){wx(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=$C(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=$C(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return tS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return GI.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=wn(kn().mark((function e(t){var n,r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RC(this._delegate,t),e.t0=t,e.next=e.t0===AC.SESSION?4:e.t0===AC.LOCAL?6:e.t0===AC.NONE?11:13;break;case 4:return n=OS,e.abrupt("break",14);case 6:return e.next=8,f_(tE)._isAvailable();case 8:return r=e.sent,n=r?tE:AS,e.abrupt("break",14);case 11:return n=rx,e.abrupt("break",14);case 13:return e.abrupt("return",n_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return BC(this._delegate,function(e){return wI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return BC(this._delegate,FI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return BC(this._delegate,function(e,t){return qI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return BC(this._delegate,function(e,t,n){return FI(Ur(e),uI.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return BC(this._delegate,function(e,t,n){return nS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return qC(this._delegate,function(e,t,n){return wE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GC(EC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",BC(this._delegate,ME(this._delegate,t,jC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GC(EC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,PC(this._delegate);case 3:return e.abrupt("return",JE(this._delegate,t,jC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return JI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function $C(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&KC.getOrCreate(e))},error:t,complete:n}}function YC(e,t){var n=function(e,t){var n=LC();if(!n)return[];var r=ix(OC,e,t);switch(n.getItem(r)){case AC.NONE:return[rx];case AC.LOCAL:return[tE,OS];case AC.SESSION:return[OS];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(tE)||n.push(tE),"undefined"!==typeof window)for(var r=0,i=[AS,OS];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(rx)||n.push(rx),n}QC.Persistence=AC;var XC=function(){function e(){Vn(this,e),this.providerId="phone",this._delegate=new CE(UC(Lw.auth()))}return Bn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return CE.credential(e,t)}}]),e}();XC.PHONE_SIGN_IN_METHOD=CE.PHONE_SIGN_IN_METHOD,XC.PROVIDER_ID=CE.PROVIDER_ID;var JC,ZC=u_,eN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lw.app();Vn(this,e),ZC(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new gE(t,n,i.auth()),this.type=this._delegate.type}return Bn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(JC=Lw).INTERNAL.registerComponent(new Vr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new QC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ww,PASSWORD_RESET:Hw,RECOVER_EMAIL:Kw,REVERT_SECOND_FACTOR_ADDITION:Gw,VERIFY_AND_CHANGE_EMAIL:Qw,VERIFY_EMAIL:$w}},EmailAuthProvider:uI,FacebookAuthProvider:fI,GithubAuthProvider:dI,GoogleAuthProvider:hI,OAuthProvider:lI,SAMLAuthProvider:vI,PhoneAuthProvider:XC,PhoneMultiFactorGenerator:BT,RecaptchaVerifier:eN,TwitterAuthProvider:mI,Auth:QC,AuthCredential:Ex,Error:yr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),JC.registerVersion("@firebase/auth-compat","0.2.24");function tN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function nN(){if("undefined"===typeof Uint8Array)throw new bc("unimplemented","Uint8Arrays are not available in this environment.")}function rN(){if("undefined"==typeof atob)throw new bc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var iN=function(){function e(t){Vn(this,e),this._delegate=t}return Bn(e,[{key:"toBase64",value:function(){return rN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return nN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return rN(),new e(Gk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return nN(),new e(Gk.fromUint8Array(t))}}]),e}();function aN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Rn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var oN=function(){function e(){Vn(this,e)}return Bn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Kk(e=Jg(e,Mk));var n=Uk(e),r=e._freezeSettings(),i=new Kg;return zk(n,i,new Wg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Kk(e=Jg(e,Mk));var t=Uk(e),n=e._freezeSettings(),r=new Kg;return zk(t,r,new Hg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new bc(kc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wc;return e._queue.enqueueAndForgetEvenWhileRestricted(wn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rl.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,rl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(zv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),uN=function(){function e(t,n,r){var i=this;Vn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Rl||(this._appCompat=t)}return Bn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Bk(this._delegate)}},{key:"disableNetwork",value:function(){return qk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Qg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=lg,n.next=3,Ck(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Uk(e=Jg(e,Mk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ow(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new bc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new wN(this,uk(this._delegate,e))}catch(uM){throw dN(uM,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new hN(this,sk(this._delegate,e))}catch(uM){throw dN(uM,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new gN(this,function(e,t){if(e=Jg(e,nk),Gg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bc(kc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ak(e,null,function(e){return new Af(jc.emptyPath(),e)}(t))}(this._delegate,e))}catch(uM){throw dN(uM,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Jg(e,Mk);var r=Object.assign(Object.assign({},cw),n);return function(e){if(e.maxAttempts<1)throw new bc(kc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wc;return e.asyncQueue.enqueueAndForget(wn(kn().mark((function i(){var a;return kn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Nk(e);case 2:a=i.sent,new vk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Uk(e),(function(n){return t(new kw(e,n))}),r)}(this._delegate,(function(n){return e(new cN(t,n))}))}},{key:"batch",value:function(){var e=this;return Uk(this._delegate),new lN(new lw(this._delegate,(function(t){return uw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Wk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Hk(this._delegate,e).then((function(e){return e?new gN(t,e):null}))}}]),e}(),sN=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).firestore=e,r}return Bn(n,[{key:"convertBytes",value:function(e){return new iN(new Gk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hN.forKey(t,this.firestore,null)}}]),n}(Bb);var cN=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Bn(e,[{key:"get",value:function(e){var t=this,n=_N(e);return this._delegate.get(n).then((function(e){return new mN(t._firestore,new Kb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=_N(e);return n?(tN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=_N(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=_N(e);return this._delegate.delete(t),this}}]),e}(),lN=function(){function e(t){Vn(this,e),this._delegate=t}return Bn(e,[{key:"set",value:function(e,t,n){var r=_N(e);return n?(tN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=_N(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=_N(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),fN=function(){function e(t,n,r){Vn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Bn(e,[{key:"fromFirestore",value:function(e,t){var n=new Gb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new sN(t),n),i.set(n,a)),a}}]),e}();fN.INSTANCES=new WeakMap;var hN=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Bn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new wN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new wN(this.firestore,uk(this._delegate,e))}catch(uM){throw dN(uM,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ur(e))instanceof ik&&ck(this._delegate,e)}},{key:"set",value:function(e,t){t=tN("DocumentReference.set",t);try{return t?tw(this._delegate,e,t):tw(this._delegate,e)}catch(uM){throw dN(uM,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nw(this._delegate,e):nw.apply(void 0,[this._delegate,e,t].concat(r))}catch(uM){throw dN(uM,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return rw(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pN(n),a=vN(n,(function(t){return new mN(e.firestore,new Kb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return aw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jg(e,ik);var t=Jg(e.firestore,Mk);return Ok(Uk(t),e._key,{source:"server"}).then((function(n){return sw(t,e,n)}))}(this._delegate):function(e){e=Jg(e,ik);var t=Jg(e.firestore,Mk);return Ok(Uk(t),e._key).then((function(n){return sw(t,e,n)}))}(this._delegate),t.then((function(e){return new mN(n.firestore,new Kb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new bc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ik(n._delegate,r,new zc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ik(n._delegate,r,t))}}]),e}();function dN(e,t,n){return e.message=e.message.replace(t,n),e}function pN(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!aN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function vN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=aN(e[0])?e[0]:aN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mN=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Bn(e,[{key:"ref",get:function(){return new hN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Yb(this._delegate,e._delegate)}}]),e}(),yN=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||mc()}(void 0!==t),t}}]),n}(mN),gN=function(){function e(t,n){Vn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sN(t)}return Bn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Cb(this._delegate,function(e,t,n){var r=t,i=Sb("where",e);return new Nb(i,r,n)}(t,n,r)))}catch(uM){throw dN(uM,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Cb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Sb("orderBy",e);return new Ab(n,t)}(t,n)))}catch(uM){throw dN(uM,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Cb(this._delegate,function(e){return Zg("limit",e),new Db("limit",e,"F")}(t)))}catch(uM){throw dN(uM,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Cb(this._delegate,function(e){return Zg("limitToLast",e),new Db("limitToLast",e,"L")}(t)))}catch(uM){throw dN(uM,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Cb(this._delegate,Rb.apply(void 0,arguments)))}catch(uM){throw dN(uM,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Cb(this._delegate,Pb.apply(void 0,arguments)))}catch(uM){throw dN(uM,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Cb(this._delegate,Lb.apply(void 0,arguments)))}catch(uM){throw dN(uM,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Cb(this._delegate,Mb.apply(void 0,arguments)))}catch(uM){throw dN(uM,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return lk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ew(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Jg(e,ak);var t=Jg(e.firestore,Mk),n=Uk(t),r=new Xb(t);return Rk(n,e._query,{source:"server"}).then((function(n){return new Qb(t,r,e,n)}))}(this._delegate):Zb(this._delegate),t.then((function(e){return new bN(n.firestore,new Qb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pN(n),a=vN(n,(function(t){return new bN(e.firestore,new Qb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return aw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),kN=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Bn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new yN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),bN=function(){function e(t,n){Vn(this,e),this._firestore=t,this._delegate=n}return Bn(e,[{key:"query",get:function(){return new gN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new yN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new kN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Yb(this._delegate,e._delegate)}}]),e}(),wN=function(e){Pn(n,e);var t=Mn(n);function n(e,r){var i;return Vn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Bn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new hN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new hN(this.firestore,void 0===e?sk(this._delegate):sk(this._delegate,e))}catch(uM){throw dN(uM,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return iw(this._delegate,e).then((function(e){return new hN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ck(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(fN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(gN);function _N(e){return Jg(e,ik)}var xN=function(){function e(){Vn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Nn(Qk,n)}return Bn(e,[{key:"isEqual",value:function(e){return(e=Ur(e))instanceof Qk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Vc.keyField().canonicalString())}}]),e}(),IN=function(){function e(t){Vn(this,e),this._delegate=t}return Bn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ub("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ab("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=bw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ww.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new lb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),SN={Firestore:uN,GeoPoint:Yk,Timestamp:Fc,Blob:iN,Transaction:cN,WriteBatch:lN,DocumentReference:hN,DocumentSnapshot:mN,Query:gN,QueryDocumentSnapshot:yN,QuerySnapshot:bN,CollectionReference:wN,FieldPath:xN,FieldValue:IN,setLogLevel:function(e){!function(e){lc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Vr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},SN)))}(e,(function(e,t){return new uN(e,t,new oN)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(Lw);var EN="@firebase/database",TN="0.13.10",CN="";var NN=function(){function e(t){Vn(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Bn(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_r(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:wr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),AN=function(){function e(){Vn(this,e),this.cache_={},this.isInMemoryStorage=!0}return Bn(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ir(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),DN=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new NN(t)}}catch(uM){}return new AN},ON=DN("localStorage"),RN=DN("sessionStorage"),PN=new Xr("@firebase/database"),FN=function(){var e=1;return function(){return e++}}(),LN=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Gn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Rr;n.update(t);var r=n.digest();return Yn.encodeByteArray(r)},MN=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?_r(r):r,t+=" "}return t},jN=null,UN=!0,VN=function(e,t){Gn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(PN.logLevel=Wr.VERBOSE,jN=PN.log.bind(PN),t&&RN.set("logging_enabled",!0)):"function"===typeof e?jN=e:(jN=null,RN.remove("logging_enabled"))},zN=function(){if(!0===UN&&(UN=!1,null===jN&&!0===RN.get("logging_enabled")&&VN(!0)),jN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=MN.apply(null,t);jN(r)}},BN=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zN.apply(void 0,[e].concat(n))}},qN=function(){var e="FIREBASE INTERNAL ERROR: "+MN.apply(void 0,arguments);PN.error(e)},WN=function(){var e="FIREBASE FATAL ERROR: ".concat(MN.apply(void 0,arguments));throw PN.error(e),new Error(e)},HN=function(){var e="FIREBASE WARNING: "+MN.apply(void 0,arguments);PN.warn(e)},KN=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},GN="[MIN_NAME]",QN="[MAX_NAME]",$N=function(e,t){if(e===t)return 0;if(e===GN||t===QN)return-1;if(t===GN||e===QN)return 1;var n=aA(e),r=aA(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},YN=function(e,t){return e===t?0:e<t?-1:1},XN=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_r(t))},JN=function e(t){if("object"!==typeof t||null===t)return _r(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=_r(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},ZN=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function eA(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var tA=function(e){Gn(!KN(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var nA=new RegExp("^-?(0*)\\d{1,10}$"),rA=-2147483648,iA=2147483647,aA=function(e){if(nA.test(e)){var t=Number(e);if(t>=rA&&t<=iA)return t}return null},oA=function(e){try{e()}catch(uM){setTimeout((function(){var t=uM.stack||"";throw HN("Exception was thrown by user callback.",t),uM}),Math.floor(0))}},uA=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},sA=function(){function e(t,n){var r=this;Vn(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Bn(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){HN('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),cA=function(){function e(t,n,r){var i=this;Vn(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Bn(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(zN("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',HN(e)}}]),e}(),lA=function(){function e(t){Vn(this,e),this.accessToken=t}return Bn(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();lA.OWNER="owner";var fA="5",hA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dA="websocket",pA="long_polling",vA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Vn(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ON.get("host:"+t)||this._host}return Bn(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ON.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function mA(e,t,n){var r;if(Gn("string"===typeof t,"typeof type must == string"),Gn("object"===typeof n,"typeof params must == object"),t===dA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==pA)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return eA(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var yA=function(){function e(){Vn(this,e),this.counters_={}}return Bn(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ir(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return er(void 0,this.counters_)}}]),e}(),gA={},kA={};function bA(e){var t=e.toString();return gA[t]||(gA[t]=new yA),gA[t]}var wA=function(){function e(t){Vn(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Bn(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&oA((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),_A="start",xA="close",IA=function(){function e(t,n,r,i,a,o,u){var s=this;Vn(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=BN(t),this.stats_=bA(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),mA(n,pA,e)}}return Bn(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new wA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(sr()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new SA((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===_A)n.id=a,n.password=o;else{if(i!==xA)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=fA,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&hA.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=_r(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Xn(t),r=ZN(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!sr()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=_r(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!sr()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),SA=function(){function e(t,n,r,i){if(Vn(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,sr())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=FN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(uM){zN("frame writing exception"),uM.stack&&zN(uM.stack),zN(uM)}}}return Bn(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;sr()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){zN("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(uM){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zN("No IE domain setting required")}catch(uM){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),EA=null;"undefined"!==typeof MozWebSocket?EA=MozWebSocket:"undefined"!==typeof WebSocket&&(EA=WebSocket);var TA=function(){function e(t,n,r,i,a,o,u){Vn(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=BN(this.connId),this.stats_=bA(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Bn(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ON.set("previous_websocket_failure",!0);try{var r;if(sr()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(fA,"/").concat(CN,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new EA(this.connURL,[],r)}catch(uM){this.log_("Error instantiating WebSocket.");var u=uM.message||uM.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){ON.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=wr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Gn(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=_r(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ZN(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(uM){this.log_("Exception thrown from WebSocket.send():",uM.message||uM.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=fA,!sr()&&"undefined"!==typeof location&&location.hostname&&hA.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),mA(e,dA,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==EA&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return ON.isInMemoryStorage||!0===ON.get("previous_websocket_failure")}}]),e}();TA.responsesRequiredToBeHealthy=2,TA.healthyTimeout=3e4;var CA=function(){function e(t){Vn(this,e),this.initTransports_(t)}return Bn(e,[{key:"initTransports_",value:function(t){var n=TA&&TA.isAvailable(),r=n&&!TA.previouslyFailed();if(t.webSocketOnly&&(n||HN("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[TA];else{var i,a=this.transports_=[],o=Rn(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[IA,TA]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();CA.globalTransportInitialized_=!1;var NA=function(){function e(t,n,r,i,a,o,u,s,c,l){Vn(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=BN("c:"+this.id+":"),this.transportManager_=new CA(n),this.log_("Connection created"),this.start_()}return Bn(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uA((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=XN("t",e),n=XN("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=XN("t",e),n=XN("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=XN("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qN("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qN("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),fA!==n&&HN("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uA((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uA((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ON.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),AA=function(){function e(){Vn(this,e)}return Bn(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),DA=function(){function e(t){Vn(this,e),this.allowedEvents_=t,this.listeners_={},Gn(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Bn(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Un(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Gn(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),OA=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||rr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Bn(n,[{key:"getInitialEvent",value:function(e){return Gn("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(DA),RA=function(){function e(t,n){if(Vn(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Bn(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function PA(){return new RA("")}function FA(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function LA(e){return e.pieces_.length-e.pieceNum_}function MA(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new RA(e.pieces_,t)}function jA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function UA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function VA(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new RA(t,0)}function zA(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof RA)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new RA(n,0)}function BA(e){return e.pieceNum_>=e.pieces_.length}function qA(e,t){var n=FA(e),r=FA(t);if(null===n)return t;if(n===r)return qA(MA(e),MA(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function WA(e,t){if(LA(e)!==LA(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function HA(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(LA(e)>LA(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var KA=Bn((function e(t,n){Vn(this,e),this.errorPrefix_=n,this.parts_=UA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=jr(this.parts_[r]);GA(this)}));function GA(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+QA(e))}function QA(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var $A=function(e){Pn(n,e);var t=Mn(n);function n(){var e,r,i;return Vn(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Bn(n,[{key:"getInitialEvent",value:function(e){return Gn("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(DA),YA=1e3,XA=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a,o,u,s,c){var l;if(Vn(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=u,l.appCheckTokenProvider_=s,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=BN("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=YA,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!sr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $A.getInstance().on("visible",l.onVisible_,Fn(l)),-1===e.host.indexOf("fblocal")&&OA.getInstance().on("online",l.onOnline_,Fn(l)),l}return Bn(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(_r(i)),Gn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new vr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Gn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Gn(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=xr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=xr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Gn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+_r(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qN("Unrecognized action received from server: "+_r(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Gn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=YA,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=YA,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=YA),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=wn(kn().mark((function e(){var t,r,i,a,o,u,s,c,l,f,h,d,p,v,m=this;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,i())},l=function(e){Gn(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=En(h,2),p=d[0],v=d[1],u?zN("getToken() completed but was canceled"):(zN("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,s=new NA(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){HN(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&HN(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){zN("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){zN("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Er(this.interruptReasons_)&&(this.reconnectDelay_=YA,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return JN(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new RA(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){zN("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){zN("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Rn(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Rn(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";sr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+CN.replace(/\./g,"-")]=1,rr()?e["framework.cordova"]=1:or()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=OA.getInstance().currentlyOnline();return Er(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ir(e,"w")){var n=Sr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();HN("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(AA);XA.nextPersistentConnectionId_=0,XA.nextConnectionId_=0;var JA,ZA=function(){function e(t,n){Vn(this,e),this.name=t,this.node=n}return Bn(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),eD=function(){function e(){Vn(this,e)}return Bn(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new ZA(GN,e),r=new ZA(GN,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return ZA.MIN}}]),e}(),tD=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"compare",value:function(e,t){return $N(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Qn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return ZA.MIN}},{key:"maxPost",value:function(){return new ZA(QN,JA)}},{key:"makePost",value:function(e,t){return Gn("string"===typeof e,"KeyIndex indexValue must always be a string."),new ZA(e,JA)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return JA},set:function(e){JA=e}}]),n}(eD),nD=new tD,rD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Vn(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Bn(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),iD=function(){function e(t,n,r,i,a){Vn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:uD.EMPTY_NODE,this.right=null!=a?a:uD.EMPTY_NODE}return Bn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return uD.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return uD.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();iD.RED=!0,iD.BLACK=!1;var aD,oD=function(){function e(){Vn(this,e)}return Bn(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new iD(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),uD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Vn(this,e),this.comparator_=t,this.root_=n}return Bn(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,iD.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,iD.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new rD(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new rD(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new rD(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new rD(this.root_,null,this.comparator_,!0,e)}}]),e}();function sD(e,t){return $N(e.name,t.name)}function cD(e,t){return $N(e,t)}uD.EMPTY_NODE=new oD;var lD,fD,hD,dD=function(e){return"number"===typeof e?"number:"+tA(e):"string:"+e},pD=function(e){if(e.isLeafNode()){var t=e.val();Gn("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ir(t,".sv"),"Priority must be a string or number.")}else Gn(e===aD||e.isEmpty(),"priority of unexpected type.");Gn(e===aD||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Vn(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Gn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),pD(this.priorityNode_)}return Bn(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return BA(t)?this:".priority"===FA(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=FA(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Gn(".priority"!==r||1===LA(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(MA(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+dD(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?tA(this.value_):this.value_,this.lazyHash_=LN(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Gn(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Gn(i>=0,"Unknown leaf type: "+n),Gn(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return lD},set:function(e){lD=e}}]),e}();vD.VALUE_TYPE_ORDER=["object","boolean","number","string"];var mD,yD,gD=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?$N(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return ZA.MIN}},{key:"maxPost",value:function(){return new ZA(QN,new vD("[PRIORITY-POST]",hD))}},{key:"makePost",value:function(e,t){var n=fD(e);return new ZA(t,new vD("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(eD),kD=new gD,bD=Math.log(2),wD=function(){function e(t){Vn(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/bD,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Bn(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),_D=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new iD(o,a.node,iD.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new iD(o,a.node,iD.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new iD(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,iD.BLACK):(u(f,iD.BLACK),u(f,iD.RED))}return a}(new wD(e.length));return new uD(r||t,a)},xD={},ID=function(){function e(t,n){Vn(this,e),this.indexes_=t,this.indexSet_=n}return Bn(e,[{key:"get",value:function(e){var t=Sr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof uD?t:null}},{key:"hasIndex",value:function(e){return Ir(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Gn(t!==nD,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(ZA.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?_D(i,t.getCompare()):xD;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Tr(this.indexes_,(function(e,i){var a=Sr(r.indexSet_,i);if(Gn(a,"Missing index implementation for "+i),e===xD){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(ZA.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),_D(o,a.getCompare())}return xD}var c=n.get(t.name),l=e;return c&&(l=l.remove(new ZA(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Tr(this.indexes_,(function(e){if(e===xD)return e;var r=n.get(t.name);return r?e.remove(new ZA(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Gn(xD&&kD,"ChildrenNode.ts has not been loaded"),mD=mD||new e({".priority":xD},{".priority":kD})}}]),e}(),SD=function(){function e(t,n,r){Vn(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pD(this.priorityNode_),this.children_.isEmpty()&&Gn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Bn(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||yD}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?yD:t}},{key:"getChild",value:function(e){var t=FA(e);return null===t?this:this.getImmediateChild(t).getChild(MA(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Gn(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new ZA(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?yD:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=FA(e);if(null===n)return t;Gn(".priority"!==FA(e)||1===LA(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(MA(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(kD,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+dD(this.getPriority().val())+":"),this.forEachChild(kD,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":LN(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ZA(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new ZA(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new ZA(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ZA.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ZA.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ED?-1:0}},{key:"withIndex",value:function(t){if(t===nD||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===nD||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(kD),r=t.getIterator(kD),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===nD?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return yD||(yD=new e(new uD(cD),null,ID.Default))}}]),e}();SD.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ED=new(function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.call(this,new uD(cD),SD.EMPTY_NODE,ID.Default)}return Bn(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return SD.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(SD));Object.defineProperties(ZA,{MIN:{value:new ZA(GN,SD.EMPTY_NODE)},MAX:{value:new ZA(QN,ED)}}),tD.__EMPTY_NODE=SD.EMPTY_NODE,vD.__childrenNodeConstructor=SD,aD=ED,function(e){hD=e}(ED);function TD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return SD.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Gn(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new vD(n,TD(t))}if(e instanceof Array){var r=SD.EMPTY_NODE;return eA(e,(function(t,n){if(Ir(e,t)&&"."!==t.substring(0,1)){var i=TD(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(TD(t))}var i=[],a=!1,o=e;if(eA(o,(function(e,t){if("."!==e.substring(0,1)){var n=TD(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new ZA(e,n)))}})),0===i.length)return SD.EMPTY_NODE;var u=_D(i,sD,(function(e){return e.name}),cD);if(a){var s=_D(i,kD.getCompare());return new SD(u,TD(t),new ID({".priority":s},{".priority":kD}))}return new SD(u,TD(t),ID.Default)}!function(e){fD=e}(TD);var CD=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this)).indexPath_=e,Gn(!BA(e)&&".priority"!==FA(e),"Can't create PathIndex with empty path or .priority key"),r}return Bn(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?$N(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=TD(e),r=SD.EMPTY_NODE.updateChild(this.indexPath_,n);return new ZA(t,r)}},{key:"maxPost",value:function(){var e=SD.EMPTY_NODE.updateChild(this.indexPath_,ED);return new ZA(QN,e)}},{key:"toString",value:function(){return UA(this.indexPath_,0).join("/")}}]),n}(eD),ND=function(e){Pn(n,e);var t=Mn(n);function n(){return Vn(this,n),t.apply(this,arguments)}return Bn(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?$N(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return ZA.MIN}},{key:"maxPost",value:function(){return ZA.MAX}},{key:"makePost",value:function(e,t){var n=TD(e);return new ZA(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(eD),AD=new ND,DD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function OD(e){return{type:"value",snapshotNode:e}}function RD(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function PD(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function FD(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var LD=function(){function e(){Vn(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kD}return Bn(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Gn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Gn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:GN}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Gn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Gn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:QN}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Gn(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===kD}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function MD(e){var t,n={};return e.isDefault()||(e.index_===kD?t="$priority":e.index_===AD?t="$value":e.index_===nD?t="$key":(Gn(e.index_ instanceof CD,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=_r(t),e.startSet_&&(n.startAt=_r(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+_r(e.indexStartName_))),e.endSet_&&(n.endAt=_r(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+_r(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function jD(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==kD&&(t.i=e.index_.toString()),t}var UD=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=BN("p:rest:"),o.listens_={},o}return Bn(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=MD(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Sr(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=MD(e._queryParams),r=e._path.toString(),i=new vr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=En(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ar(n);t.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=wr(c.responseText)}catch(uM){HN("Failed to parse JSON response for "+s+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&HN("Got unsuccessful REST response for "+s+" Status: "+c.status),r(c.status);r=null}},c.open("GET",s,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Gn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(AA),VD=function(){function e(){Vn(this,e),this.rootNode_=SD.EMPTY_NODE}return Bn(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function zD(){return{value:null,children:new Map}}function BD(e,t,n){if(BA(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=FA(t);e.children.has(r)||e.children.set(r,zD()),BD(e.children.get(r),t=MA(t),n)}}function qD(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){qD(r,new RA(t.toString()+"/"+e),n)}))}var WD,HD=function(){function e(t){Vn(this,e),this.collection_=t,this.last_=null}return Bn(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&eA(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),KD=function(){function e(t,n){Vn(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new HD(t);var r=1e4+2e4*Math.random();uA(this.reportStats_.bind(this),Math.floor(r))}return Bn(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;eA(t,(function(t,i){i>0&&Ir(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),uA(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function GD(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(WD||(WD={}));var QD,$D=function(){function e(t,n,r){Vn(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=WD.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Bn(e,[{key:"operationForChild",value:function(t){if(BA(this.path)){if(null!=this.affectedTree.value)return Gn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new RA(t));return new e(PA(),n,this.revert)}return Gn(FA(this.path)===t,"operationForChild called for unrelated child."),new e(MA(this.path),this.affectedTree,this.revert)}}]),e}(),YD=function(){function e(t,n,r){Vn(this,e),this.source=t,this.path=n,this.snap=r,this.type=WD.OVERWRITE}return Bn(e,[{key:"operationForChild",value:function(t){return BA(this.path)?new e(this.source,PA(),this.snap.getImmediateChild(t)):new e(this.source,MA(this.path),this.snap)}}]),e}(),XD=function(){function e(t,n,r){Vn(this,e),this.source=t,this.path=n,this.children=r,this.type=WD.MERGE}return Bn(e,[{key:"operationForChild",value:function(t){if(BA(this.path)){var n=this.children.subtree(new RA(t));return n.isEmpty()?null:n.value?new YD(this.source,PA(),n.value):new e(this.source,PA(),n)}return Gn(FA(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,MA(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),JD=function(){function e(t,n,r){Vn(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Bn(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(BA(e))return this.isFullyInitialized()&&!this.filtered_;var t=FA(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function ZD(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Qn("Should only compare child_ events.");var r=new ZA(t.childName,t.snapshotNode),i=new ZA(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function eO(e,t){return{eventCache:e,serverCache:t}}function tO(e,t,n,r){return eO(new JD(t,n,r),e.serverCache)}function nO(e,t,n,r){return eO(e.eventCache,new JD(t,n,r))}function rO(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function iO(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var aO=function(){return QD||(QD=new uD(YN)),QD},oO=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aO();Vn(this,e),this.value=t,this.children=n}return Bn(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:PA(),value:this.value};if(BA(e))return null;var n=FA(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(MA(e),t);return null!=i?{path:zA(new RA(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(BA(t))return this;var n=FA(t),r=this.children.get(n);return null!==r?r.subtree(MA(t)):new e(null)}},{key:"set",value:function(t,n){if(BA(t))return new e(n,this.children);var r=FA(t),i=(this.children.get(r)||new e(null)).set(MA(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(BA(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=FA(t),r=this.children.get(n);if(r){var i,a=r.remove(MA(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(BA(e))return this.value;var t=FA(e),n=this.children.get(t);return n?n.get(MA(e)):null}},{key:"setTree",value:function(t,n){if(BA(t))return n;var r,i=FA(t),a=(this.children.get(i)||new e(null)).setTree(MA(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(PA(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zA(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,PA(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(BA(e))return null;var i=FA(e),a=this.children.get(i);return a?a.findOnPath_(MA(e),zA(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,PA(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(BA(t))return this;this.value&&r(n,this.value);var i=FA(t),a=this.children.get(i);return a?a.foreachOnPath_(MA(t),zA(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(PA(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zA(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return eA(t,(function(e,t){n=n.set(new RA(e),t)})),n}}]),e}(),uO=function(){function e(t){Vn(this,e),this.writeTree_=t}return Bn(e,null,[{key:"empty",value:function(){return new e(new oO(null))}}]),e}();function sO(e,t,n){if(BA(t))return new uO(new oO(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qA(i,t);return a=a.updateChild(o,n),new uO(e.writeTree_.set(i,a))}var u=new oO(n),s=e.writeTree_.setTree(t,u);return new uO(s)}function cO(e,t,n){var r=e;return eA(n,(function(e,n){r=sO(r,zA(t,e),n)})),r}function lO(e,t){if(BA(t))return uO.empty();var n=e.writeTree_.setTree(t,new oO(null));return new uO(n)}function fO(e,t){return null!=hO(e,t)}function hO(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qA(n.path,t)):null}function dO(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kD,(function(e,n){t.push(new ZA(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ZA(e,n.value))})),t}function pO(e,t){if(BA(t))return e;var n=hO(e,t);return new uO(null!=n?new oO(n):e.writeTree_.subtree(t))}function vO(e){return e.writeTree_.isEmpty()}function mO(e,t){return yO(PA(),e.writeTree_,t)}function yO(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Gn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=yO(zA(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zA(e,".priority"),r)),n}function gO(e,t){return OO(t,e)}function kO(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function bO(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Gn(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&wO(u,r.path)?i=!1:HA(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=xO(e.allWrites,_O,PA()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=lO(e.visibleWrites,r.path):eA(r.children,(function(t){e.visibleWrites=lO(e.visibleWrites,zA(r.path,t))}));return!0}return!1}function wO(e,t){if(e.snap)return HA(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&HA(zA(e.path,n),t))return!0;return!1}function _O(e){return e.visible}function xO(e,t,n){for(var r=uO.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)HA(n,o)?r=sO(r,u=qA(n,o),a.snap):HA(o,n)&&(u=qA(o,n),r=sO(r,PA(),a.snap.getChild(u)));else{if(!a.children)throw Qn("WriteRecord should have .snap or .children");if(HA(n,o))r=cO(r,u=qA(n,o),a.children);else if(HA(o,n))if(BA(u=qA(o,n)))r=cO(r,PA(),a.children);else{var s=Sr(a.children,FA(u));if(s){var c=s.getChild(MA(u));r=sO(r,PA(),c)}}}}}return r}function IO(e,t,n,r,i){if(r||i){var a=pO(e.visibleWrites,t);if(!i&&vO(a))return n;if(i||null!=n||fO(a,PA())){return mO(xO(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(HA(e.path,t)||HA(t,e.path))}),t),n||SD.EMPTY_NODE)}return null}var o=hO(e.visibleWrites,t);if(null!=o)return o;var u=pO(e.visibleWrites,t);return vO(u)?n:null!=n||fO(u,PA())?mO(u,n||SD.EMPTY_NODE):null}function SO(e,t,n,r){return IO(e.writeTree,e.treePath,t,n,r)}function EO(e,t){return function(e,t,n){var r=SD.EMPTY_NODE,i=hO(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kD,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=pO(e.visibleWrites,t);return n.forEachChild(kD,(function(e,t){var n=mO(pO(a,new RA(e)),t);r=r.updateImmediateChild(e,n)})),dO(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return dO(pO(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function TO(e,t,n,r){return function(e,t,n,r,i){Gn(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zA(t,n);if(fO(e.visibleWrites,a))return null;var o=pO(e.visibleWrites,a);return vO(o)?i.getChild(n):mO(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function CO(e,t){return function(e,t){return hO(e.visibleWrites,t)}(e.writeTree,zA(e.treePath,t))}function NO(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=pO(e.visibleWrites,t),c=hO(s,PA());if(null!=c)u=c;else{if(null==n)return[];u=mO(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function AO(e,t,n){return function(e,t,n,r){var i=zA(t,n),a=hO(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?mO(pO(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function DO(e,t){return OO(zA(e.treePath,t),e.writeTree)}function OO(e,t){return{treePath:e,writeTree:t}}var RO=function(){function e(){Vn(this,e),this.changeMap=new Map}return Bn(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Gn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Gn(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,FD(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,PD(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,RD(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Qn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,FD(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),PO=new(function(){function e(){Vn(this,e)}return Bn(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),FO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Vn(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Bn(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new JD(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return AO(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:iO(this.viewCache_),i=NO(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function LO(e,t,n,r,i){var a,o,u=new RO;if(n.type===WD.OVERWRITE){var s=n;s.source.fromUser?a=UO(e,t,s.path,s.snap,r,i,u):(Gn(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!BA(s.path),a=jO(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===WD.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=zA(n,r);VO(t,FA(c))&&(u=UO(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=zA(n,r);VO(t,FA(c))||(u=UO(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(Gn(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=BO(e,t,c.path,c.children,r,i,o,u))}else if(n.type===WD.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=CO(r,n))return t;var u,s=new FO(r,t,i),c=t.eventCache.getNode();if(BA(n)||".priority"===FA(n)){var l;if(t.serverCache.isFullyInitialized())l=SO(r,iO(t));else{var f=t.serverCache.getNode();Gn(f instanceof SD,"serverChildren would be complete if leaf node"),l=EO(r,f)}u=e.filter.updateFullNode(c,l,a)}else{var h=FA(n),d=AO(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,MA(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,SD.EMPTY_NODE,MA(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=SO(r,iO(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=CO(r,PA()),tO(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=CO(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(BA(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return jO(e,t,n,s.getNode().getChild(n),i,a,u,o);if(BA(n)){var c=new oO(null);return s.getNode().forEachChild(nD,(function(e,t){c=c.set(new RA(e),t)})),BO(e,t,n,c,i,a,u,o)}return t}var l=new oO(null);return r.foreach((function(e,t){var r=zA(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),BO(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==WD.LISTEN_COMPLETE)throw Qn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=nO(t,a.getNode(),a.isFullyInitialized()||BA(n),a.isFiltered());return MO(e,o,n,r,PO,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=rO(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(OD(rO(t)))}}(t,a,f),{viewCache:a,changes:f}}function MO(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=CO(r,n))return t;if(BA(n))if(Gn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=iO(t),l=EO(r,c instanceof SD?c:SD.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=SO(r,iO(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=FA(n);if(".priority"===h){Gn(1===LA(n),"Can't have a priority with additional path components");var d=s.getNode(),p=TO(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=MA(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var y=TO(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else v=AO(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return tO(t,o,s.isFullyInitialized()||BA(n),e.filter.filtersNodes())}function jO(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(BA(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=FA(n);if(!c.isCompleteForPath(n)&&LA(n)>1)return t;var d=MA(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,PO,null)}var v=nO(t,s,c.isFullyInitialized()||BA(n),l.filtersNodes());return MO(e,v,n,i,new FO(i,v,a),u)}function UO(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new FO(i,t,a);if(BA(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=tO(t,s,!0,e.filter.filtersNodes());else{var f=FA(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=tO(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=MA(n),p=c.getNode().getImmediateChild(f);if(BA(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===jA(d)&&v.getChild(VA(d)).isEmpty()?v:v.updateChild(d,r):SD.EMPTY_NODE}if(p.equals(h))u=t;else u=tO(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function VO(e,t){return e.eventCache.isCompleteForChild(t)}function zO(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function BO(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=BA(n)?r:new oO(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=zO(0,t.serverCache.getNode().getImmediateChild(n),r);c=jO(e,c,new RA(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=zO(0,t.serverCache.getNode().getImmediateChild(n),r);c=jO(e,c,new RA(n),f,i,a,o,u)}})),c}var qO;function WO(e,t){var n=iO(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!BA(t)&&!n.getImmediateChild(FA(t)).isEmpty())?n.getChild(t):null}function HO(e,t,n,r){t.type===WD.MERGE&&null!==t.source.queryId&&(Gn(iO(e.viewCache_),"We should always have a full cache before handling merges"),Gn(rO(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=LO(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Gn(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Gn(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Gn(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,KO(e,u.changes,u.viewCache.eventCache.getNode(),null)}function KO(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ZD(e,i,"child_removed",t,r,n),ZD(e,i,"child_added",t,r,n),ZD(e,i,"child_moved",a,r,n),ZD(e,i,"child_changed",t,r,n),ZD(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var GO;function QO(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Gn(null!=a,"SyncTree gave us an op for an invalid query."),HO(a,t,n,r)}var o,u=[],s=Rn(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(HO(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function $O(e,t){var n,r=null,i=Rn(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||WO(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var YO=Bn((function e(t){Vn(this,e),this.listenProvider_=t,this.syncPointTree_=new oO(null),this.pendingWriteTree_={visibleWrites:uO.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function XO(e,t,n,r,i){return function(e,t,n,r,i){Gn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=sO(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nR(e,new YD({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function JO(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=kO(e.pendingWriteTree_,t),i=bO(e.pendingWriteTree_,t);if(i){var a=new oO(null);return null!=r.snap?a=a.set(PA(),!0):eA(r.children,(function(e){a=a.set(new RA(e),!0)})),nR(e,new $D(r.path,a,n))}return[]}function ZO(e,t,n){return nR(e,new YD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function eR(e,t,n,r){var i=aR(e,r);if(null!=i){var a=oR(i),o=a.path,u=a.queryId,s=qA(o,t);return uR(e,o,new YD(GD(u),s,n))}return[]}function tR(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=$O(n,qA(e,t));if(r)return r}));return IO(r,t,i,n,!0)}function nR(e,t){return rR(t,e.syncPointTree_,null,gO(e.pendingWriteTree_,PA()))}function rR(e,t,n,r){if(BA(e.path))return iR(e,t,n,r);var i=t.get(PA());null==n&&null!=i&&(n=$O(i,PA()));var a=[],o=FA(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=DO(r,o);a=a.concat(rR(u,s,c,l))}return i&&(a=a.concat(QO(i,e,r,n))),a}function iR(e,t,n,r){var i=t.get(PA());null==n&&null!=i&&(n=$O(i,PA()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=DO(r,t),s=e.operationForChild(t);s&&(a=a.concat(iR(s,i,o,u)))})),i&&(a=a.concat(QO(i,e,r,n))),a}function aR(e,t){return e.tagToQueryMap.get(t)}function oR(e){var t=e.indexOf("$");return Gn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new RA(e.substr(0,t))}}function uR(e,t,n){var r=e.syncPointTree_.get(t);return Gn(r,"Missing sync point for query tag that we're tracking"),QO(r,n,gO(e.pendingWriteTree_,t),null)}var sR=function(){function e(t){Vn(this,e),this.node_=t}return Bn(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),cR=function(){function e(t,n){Vn(this,e),this.syncTree_=t,this.path_=n}return Bn(e,[{key:"getImmediateChild",value:function(t){var n=zA(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return tR(this.syncTree_,this.path_)}}]),e}(),lR=function(e,t,n){return e&&"object"===typeof e?(Gn(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?fR(e[".sv"],t,n):"object"===typeof e[".sv"]?hR(e[".sv"],t):void Gn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fR=function(e,t,n){if("timestamp"===e)return n.timestamp;Gn(!1,"Unexpected server value: "+e)},hR=function(e,t,n){e.hasOwnProperty("increment")||Gn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Gn(!1,"Unexpected increment value: "+r);var i=t.node();if(Gn(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},dR=function(e,t,n,r){return vR(t,new cR(n,e),r)},pR=function(e,t,n){return vR(e,new sR(t),n)};function vR(e,t,n){var r,i=e.getPriority().val(),a=lR(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=lR(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new vD(u,TD(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new vD(a))),s.forEachChild(kD,(function(e,i){var a=vR(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var mR=Bn((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Vn(this,e),this.name=t,this.parent=n,this.node=r}));function yR(e,t){for(var n=t instanceof RA?t:new RA(t),r=e,i=FA(n);null!==i;){var a=Sr(r.node.children,i)||{children:{},childCount:0};r=new mR(i,r,a),i=FA(n=MA(n))}return r}function gR(e){return e.node.value}function kR(e,t){e.node.value=t,IR(e)}function bR(e){return e.node.childCount>0}function wR(e,t){eA(e.node.children,(function(n,r){t(new mR(n,e,r))}))}function _R(e,t,n,r){n&&!r&&t(e),wR(e,(function(e){_R(e,t,!0,r)})),n&&r&&t(e)}function xR(e){return new RA(null===e.parent?e.name:xR(e.parent)+"/"+e.name)}function IR(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===gR(e)&&!bR(e)}(n),i=Ir(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,IR(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,IR(e))}(e.parent,e.name,e)}var SR=/[\[\].#$\/\u0000-\u001F\u007F]/,ER=/[\[\].#$\u0000-\u001F\u007F]/,TR=10485760,CR=function(e){return"string"===typeof e&&0!==e.length&&!SR.test(e)},NR=function(e){return"string"===typeof e&&0!==e.length&&!ER.test(e)},AR=function e(t,n,r){var i=r instanceof RA?new KA(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+QA(i));if("function"===typeof n)throw new Error(t+"contains a function "+QA(i)+" with contents = "+n.toString());if(KN(n))throw new Error(t+"contains "+n.toString()+" "+QA(i));if("string"===typeof n&&n.length>TR/3&&jr(n)>TR)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+QA(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(eA(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!CR(n)))throw new Error(t+" contains an invalid key ("+n+") "+QA(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=jr(s),GA(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=jr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+QA(i)+" in addition to actual children.")}},DR=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!CR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),NR(e)}(n))throw new Error(Mr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},OR=Bn((function e(){Vn(this,e),this.eventLists_=[],this.recursionDepth_=0}));function RR(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||WA(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function PR(e,t,n){RR(e,n),FR(e,(function(e){return HA(e,t)||HA(t,e)}))}function FR(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(LR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function LR(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();jN&&zN("event: "+n.toString()),oA(r)}}}var MR="repo_interrupt",jR=function(){function e(t,n,r,i){Vn(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zD(),this.transactionQueueTree_=new mR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Bn(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function UR(e,t,n){if(e.stats_=bA(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new UD(e.repoInfo_,(function(t,n,r,i){BR(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qR(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_r(n)}catch(uM){throw new Error("Invalid authOverride provided: "+uM)}}e.persistentConnection_=new XA(e.repoInfo_,t,(function(t,n,r,i){BR(e,t,n,r,i)}),(function(t){qR(e,t)}),(function(t){!function(e,t){eA(t,(function(t,n){WR(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return kA[n]||(kA[n]=t()),kA[n]}(e.repoInfo_,(function(){return new KD(e.stats_,e.server_)})),e.infoData_=new VD,e.infoSyncTree_=new YO({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=ZO(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),WR(e,"connected",!1),e.serverSyncTree_=new YO({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);PR(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function VR(e){var t=e.infoData_.getNode(new RA(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function zR(e){return(t=(t={timestamp:VR(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function BR(e,t,n,r,i){e.dataUpdateCount++;var a=new RA(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Tr(n,(function(e){return TD(e)}));o=function(e,t,n,r){var i=aR(e,r);if(i){var a=oR(i),o=a.path,u=a.queryId,s=qA(o,t),c=oO.fromObject(n);return uR(e,o,new XD(GD(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=TD(n);o=eR(e.serverSyncTree_,a,s,i)}else if(r){var c=Tr(n,(function(e){return TD(e)}));o=function(e,t,n){var r=oO.fromObject(n);return nR(e,new XD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=TD(n);o=ZO(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=XR(e,a)),PR(e.eventQueue_,f,o)}function qR(e,t){WR(e,"connected",t),!1===t&&function(e){GR(e,"onDisconnectEvents");var t=zR(e),n=zD();qD(e.onDisconnect_,PA(),(function(r,i){var a=dR(r,i,e.serverSyncTree_,t);BD(n,r,a)}));var r=[];qD(n,PA(),(function(t,n){r=r.concat(ZO(e.serverSyncTree_,t,n));var i=nP(e,t);XR(e,i)})),e.onDisconnect_=zD(),PR(e.eventQueue_,PA(),r)}(e)}function WR(e,t,n){var r=new RA("/.info/"+t),i=TD(n);e.infoData_.updateSnapshot(r,i);var a=ZO(e.infoSyncTree_,r,i);PR(e.eventQueue_,r,a)}function HR(e){return e.nextWriteId_++}function KR(e){e.persistentConnection_&&e.persistentConnection_.interrupt(MR)}function GR(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zN.apply(void 0,[t].concat(r))}function QR(e,t,n){return tR(e.serverSyncTree_,t,n)||SD.EMPTY_NODE}function $R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||tP(e,t),gR(t)){var n=ZR(e,t);Gn(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&YR(e,xR(t),n)}else bR(t)&&wR(t,(function(t){$R(e,t)}))}function YR(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=QR(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Gn(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=qA(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){GR(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(JO(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);tP(e,yR(e.transactionQueueTree_,t)),$R(e,e.transactionQueueTree_),PR(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)oA(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{HN("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}XR(e,t)}}),o)}function XR(e,t){var n=JR(e,t),r=xR(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],c=qA(n,s.path),l=!1,f=void 0;if(Gn(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(JO(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(JO(e.serverSyncTree_,s.currentWriteId,!0));else{var h=QR(e,s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){AR("transaction failed: Data returned ",d,s.path);var p=TD(d);"object"===typeof d&&null!=d&&Ir(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,m=zR(e),y=pR(p,h,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=y,s.currentWriteId=HR(e),o.splice(o.indexOf(v),1),i=(i=i.concat(XO(e.serverSyncTree_,s.path,y,s.currentWriteId,s.applyLocally))).concat(JO(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(JO(e.serverSyncTree_,s.currentWriteId,!0))}PR(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);tP(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)oA(r[c]);$R(e,e.transactionQueueTree_)}(e,ZR(e,n),r),r}function JR(e,t){var n,r=e.transactionQueueTree_;for(n=FA(t);null!==n&&void 0===gR(r);)r=yR(r,n),n=FA(t=MA(t));return r}function ZR(e,t){var n=[];return eP(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function eP(e,t,n){var r=gR(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);wR(t,(function(t){eP(e,t,n)}))}function tP(e,t){var n=gR(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,kR(t,n.length>0?n:void 0)}wR(t,(function(t){tP(e,t)}))}function nP(e,t){var n=xR(JR(e,t)),r=yR(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){rP(e,t)})),rP(e,r),_R(r,(function(t){rP(e,t)})),n}function rP(e,t){var n=gR(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Gn(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Gn(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(JO(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?kR(t,void 0):n.length=a+1,PR(e.eventQueue_,xR(t),i);for(var u=0;u<r.length;u++)oA(r[u])}}var iP=function(e,t){var n=aP(e),r=n.namespace;"firebase.com"===n.domain&&WN(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||WN("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&HN("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new vA(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new RA(n.pathString)}},aP=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(uM){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Rn(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):HN("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},oP=function(){function e(t,n,r,i){Vn(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Bn(e,[{key:"key",get:function(){return BA(this._path)?null:jA(this._path)}},{key:"ref",get:function(){return new uP(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=jD(this._queryParams),t=JN(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return jD(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ur(t))instanceof e))return!1;var n=this._repo===t._repo,r=WA(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var uP=function(e){Pn(n,e);var t=Mn(n);function n(e,r){return Vn(this,n),t.call(this,e,r,new LD,!1)}return Bn(n,[{key:"parent",get:function(){var e=VA(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(oP);!function(e){Gn(!qO,"__referenceConstructor has already been defined"),qO=e}(uP),function(e){Gn(!GO,"__referenceConstructor has already been defined"),GO=e}(uP);var sP={},cP=!1;function lP(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||WN("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zN("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=iP(a,i),s=u.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(s.namespace),s=(u=iP(a,i)).repoInfo):o=!u.repoInfo.secure;var l=i&&o?new lA(lA.OWNER):new cA(e.name,e.options,t);DR("Invalid Firebase Database URL",u),BA(u.path)||WN("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=sP[t.name];i||(i={},sP[t.name]=i);var a=i[e.toURLString()];a&&WN("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new jR(e,cP,n,r),i[e.toURLString()]=a,a}(s,e,l,new sA(e.name,n));return new fP(f,e)}var fP=function(){function e(t,n){Vn(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Bn(e,[{key:"_repo",get:function(){return this._instanceStarted||(UR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new uP(this._repo,PA())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=sP[t];n&&n[e.key]===e||WN("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),KR(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&WN("Cannot call "+e+" on a deleted database.")}}]),e}();XA.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},XA.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){CN=e}(Ri),Ei(new Vr("database",(function(e,t){var n=t.instanceIdentifier;return lP(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ui(EN,TN,e),Ui(EN,TN,"esm2017")}();var hP,dP,pP,vP,mP,yP=Pi({apiKey:"AIzaSyCXDY3YsF2qWBuo2tQ1-vYZz6kTrv0BVMw",authDomain:"agenda-aniversariantes-51185.firebaseapp.com",databaseURL:"https://agenda-aniversariantes-51185-default-rtdb.firebaseio.com",projectId:"agenda-aniversariantes-51185",storageBucket:"agenda-aniversariantes-51185.appspot.com",messagingSenderId:"952173678197",appId:"1:952173678197:web:41da4c1c9a395348a8f23c",measurementId:"G-WQVTZC01HL"}),gP=function(){var e=En((0,t.useState)([]),2),n=e[0],r=e[1],i=uk(jk(yP),"users");return(0,t.useEffect)((function(){var e=function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zb(i);case 2:t=e.sent,n=t.docs.map((function(e){return sn(sn({},e.data()),{},{id:e.id})})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,hn.jsx)(xw,{children:(0,hn.jsxs)(Iw,{children:[(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Domingo"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Segunga-Feira"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Ter\xe7a-Feira"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Quarta-Feira"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Quinta-Feira"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"Sexta-Feira"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]}),(0,hn.jsxs)(Sw,{children:[(0,hn.jsx)(Ew,{children:"S\xe1bado"}),(0,hn.jsxs)(Tw,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."})]}),(0,hn.jsx)(Cw,{children:" _______________________________________________ "}),(0,hn.jsxs)(Nw,{children:[(0,hn.jsx)("div",{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)("div",{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})})]})]})]})})},kP=en.div(hP||(hP=be(["\nmax-width: 100%;\n"]))),bP=en.div(dP||(dP=be(["\n  display: flex;\n  overflow-x: auto;\n  scroll-behavior: smooth;\n  box-shadow: 1px 1px 13px 5px rgb(200 198 213);\n\n::-webkit-scrollbar {\n  display: none;\n}\n"]))),wP=en.div(pP||(pP=be(["\n  display:flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]))),_P=en.div(vP||(vP=be(["\n  width: 100%;\n  display:flex;\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  transform: rotate(180deg);\n  img {\n    width:4%;\n  }  \n"]))),xP=en.div(mP||(mP=be(["\n  width: 100%;\n  display:flex;\n  align-items: center;\n  background-color: transparent;\n  border: none;\n  cursor: pointer; \n  img {\n    width:4%\n  } \n"])));var IP,SP,EP,TP,CP,NP,AP,DP,OP,RP,PP,FP,LP,MP,jP,UP,VP,zP,BP,qP,WP,HP,KP,GP,QP,$P,YP=function(){var e=(0,t.useRef)(null);return(0,hn.jsxs)(kP,{children:[(0,hn.jsx)(bP,{ref:e,children:(0,hn.jsx)(gP,{})}),(0,hn.jsxs)(wP,{children:[(0,hn.jsx)(_P,{className:"buttonRight",onClick:function(t){t.preventDefault(),e.current.scrollLeft-=e.current.offsetWidth},children:(0,hn.jsx)("img",{src:yn,alt:"Bot\xe3o1"})}),(0,hn.jsx)(xP,{className:"buttonLefth",onClick:function(t){t.preventDefault(),e.current.scrollLeft+=e.current.offsetWidth},children:(0,hn.jsx)("img",{src:yn,alt:"Bot\xe3o2"})})]})]})},XP=function(){return(0,hn.jsxs)(vn,{children:[(0,hn.jsx)(pn,{}),(0,hn.jsx)(mn,{children:(0,hn.jsx)(YP,{})})]})},JP=en.div(IP||(IP=be(["\n  width: 100%;\n"]))),ZP=en.div(SP||(SP=be(["\n  width: 100vw;\n  min-height: 82vh;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 5px; \n\n  background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: linear-gradient(to left, #bdebf5, #dbbee9);\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    min-height: 84.7vh;\n    padding: 5px 5px 30px 5px; \n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    min-height: 80vh;\n    padding: 5px 5px 30px 5px; \n  }\n\n"]))),eF=en.div(EP||(EP=be(['\n  width: 50%;\n  height: 70vh;\n  border-radius: 10px;\n  overflow: hidden;\n  padding: 20px 55px 0px 55px;  \n  background: #333;\n  box-shadow: 0 5px 10px 0px rgba(0, 0, 0, 0.2);\n  h1{\n    padding: 0 0 40px 25px;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font: bold 30px "Courier New", Courier, monospace;\n  }     \n\n  @media (max-width: 768px)and (min-width: 481px) {\n  width: 75%;\n  height: 70vh;\n  h1{\n    padding: 0 0 20px 0;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font:bold 25px "Courier New", Courier, monospace;\n  }\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n  width: 96%;\n  height: 70vh;\n  padding: 27px 25px 50px 25px;\n  h1{\n    padding: 0 0 20px 0;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font:bold 21px "Courier New", Courier, monospace;\n  }\n  }\n']))),tF=en.div(TP||(TP=be(['\nwidth: 100%;\nposition: relative;\nborder-bottom: 2px solid #adadad;\n//margin-bottom: 17px;\nmargin-bottom: 35px;\n\n.MessageError{\n  color: red;\n  position: absolute;\n  margin-top: 5px;\n}\n\n.input{\n  width: 100%;\n  height: 40px;\n  padding: 0 5px;\n  font-size: 15px;\n  color: #fff;\n  line-height: 1;\n  border: none;\n  display:block;\n  background: transparent;\n}\n.FocusInput{\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    top: 0;\n    left:0;\n\n    pointer-events: none;\n    color: #adadad;    \n  }\n  .FocusInput::before{\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n    background: #6a7dfe;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  }\n  .FocusInput::after{\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    color: #999999;\n    line-height: 1;\n    content: attr(data-placeholder); \n    display: block;\n    width: 100%;\n    position: absolute;\n    top: 16px;\n    left: 0px;\n    padding-left: 5px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n  }\n\n  .input:focus {\n  outline: 0;\n}\n  .input:focus + .FocusInput::after{\n    top: -8px;\n  }\n  .input:focus + .FocusInput::before{\n    width: 100%;\n  }\n  .has-val + .FocusInput::after{\n    top: -8px;\n  }\n  .has-val + .FocusInput::before{\n    width: 100%;\n  }\n  @media (max-width: 768px)and (min-width: 481px) {\n  padding: 20px 0 0 0;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 20px 0 0 0;\n  }\n']))),nF=en.div(CP||(CP=be(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: 10px;\n  padding: 40px 0 10px 0;\n  gap: 5px;\n\n  .login-form-btn{\n    width: 100%;\n    height: 50px;\n    font-size: 15px;\n    border: none;\n    border-radius: 10px;\n    color: #fff;\n    line-height: 1;\n    text-transform: uppercase;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  :hover{\ncursor: pointer;\n  }  \n}\n@media (max-width: 768px)and (min-width: 481px) {\n  padding: 10px 0 0 0;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 10px 0 0 0;\n  }\n"]))),rF=en.div(NP||(NP=be(["\ndisplay: grid;\ngrid-template-columns: 1fr 1fr;\ngap: 1rem;\n"]))),iF=function(){var e=oe(),n=En((0,t.useState)(""),2),r=n[0],i=n[1],a=En((0,t.useState)(""),2),o=a[0],u=a[1],s=En((0,t.useState)(""),2),c=s[0],l=s[1],f=En((0,t.useState)(""),2),h=f[0],d=f[1],p=uk(jk(yP),"users");function v(){return(v=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iw(p,{name:r,email:o,birthDate:c,fone:h});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,hn.jsx)(JP,{children:(0,hn.jsx)(ZP,{children:(0,hn.jsxs)(eF,{children:[(0,hn.jsx)("h1",{children:" Preencha os dados abaixo "}),(0,hn.jsxs)(tF,{children:[(0,hn.jsx)("input",{className:""!==r?"has-val input":"input",type:"name",value:r,onChange:function(e){return i(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Nome Completo"})]}),(0,hn.jsxs)(tF,{children:[(0,hn.jsx)("input",{className:""!==o?"has-val input":"input",type:"email",value:o,onChange:function(e){return u(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"e-mail"})]}),(0,hn.jsxs)(rF,{children:[(0,hn.jsxs)(tF,{children:[(0,hn.jsx)("input",{className:""!==c?"has-val input":"input",type:"birthDate",value:c,onChange:function(e){return l(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Data de Nascimento."})]}),(0,hn.jsxs)(tF,{children:[(0,hn.jsx)("input",{className:""!==h?"has-val input":"input",type:"fone",value:h,onChange:function(e){return d(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Fone / WhatsApp"})]})]}),(0,hn.jsxs)(nF,{children:[(0,hn.jsx)("button",{className:"login-form-btn",onClick:function(){return v.apply(this,arguments)},children:"Add Aniversariantes "}),(0,hn.jsx)("button",{className:"login-form-btn",onClick:function(){e.push("/editar")},children:"Editar Aniversariantes "})]})]})})})},aF=en.div(AP||(AP=be(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  padding: 8px 1px 8px 1px;\n\n.btn {\n  font-size: 15px;\n  border: none;\n  border-radius: 10px;\n  color: #fff;\n  line-height: 1.2;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  background: #6a7dfe;\n  background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n  background: linear-gradient(to left, #21d4fd, #b721ff);\n}\n\n.btn:hover, .btn:focus {\n  color: #fff;\n  outline: 0;\n}\n\n.third {\n  border-color: #fff;\n  color: #fff;\n\n  box-shadow: 0 0 40px 40px #cd060c   inset, 0 0 0 0 #cd060c ;\n  transition: all 150ms ease-in-out;\n}\n.third:hover {\n  box-shadow: 0 0 10px 0 #cd060c inset, 0 0 10px 4px #cd060c ;\n}\n"]))),oF=function(e){return(0,hn.jsx)(aF,{children:(0,hn.jsx)("button",sn(sn({},e),{},{className:"btn third"}))})},uF=new hI,sF=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi(),t=Ti(e,"auth");if(t.isInitialized())return t.getImmediate();var n=h_(e,{popupRedirectResolver:VT,persistence:[tE,AS,OS]}),r=pr("authTokenSyncURL");if(r){var i=$T(r);wS(n,i,(function(){return i(n.currentUser)})),bS(n,(function(e){return i(e)}))}var a=hr("auth");return a&&xx(n,"http://".concat(a)),n}(yP);return(0,hn.jsx)(hn.Fragment,{children:(0,hn.jsx)(oF,{onClick:function(){ME(e,uF).then((function(e){hI.credentialFromResult(e).accessToken;var t=e.user;console.log(t)})).catch((function(e){hI.credentialFromError(e)}))},children:"Logar com Google"})})},cF=n.p+"static/media/cake2.185a5109497d6a1b1520.gif",lF=en.div(DP||(DP=be(["\n  width: 100vw;\n  margin: 0 auto;\n"]))),fF=en.div(OP||(OP=be(["\n  width: 100%;\n  min-height: 100vh;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 15px;\n  background: #111;\n"]))),hF=en.div(RP||(RP=be(["\n  width: 390px;\n  height: auto;\n  //height: 94vh;\n  background-color: #333;\n  border-radius: 10px;\n  padding: 10px 24px 10px 28px;\n\n//para n\xe3o gerar scrow na p\xe1gina\n  overflow: hidden;\n  box-shadow: 0 5px 10px 0px rgba(0, 0, 0, 0, 2);\n\n  .text-criarConta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    width: 340px;\n    height: auto;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    width: 320px;\n    height: auto;\n  }\n}\n\n.txt1 {\n  font-size: 14px;\n  color: #adadad;\n  line-height: 1;\n  padding-right: 5px;\n}\n\n.txt2 {\n  font-size: 14px;\n  color: #6a7dfe;\n  line-height: 1;\n  text-decoration: none;\n}\n"]))),dF=en.div(PP||(PP=be(["\nwidth: 100%;\n//padding-bottom: 1px;\n\n@media (max-width: 768px)and (min-width: 481px) {\n    width: 340px;\n  //  height: 67vh;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n //   height: 67vh;\n  }\n"]))),pF=en.div(FP||(FP=be(["\n  font-family: Nunito, sans-serif;\n  display: block;\n  font-size: 30px;\n  color: azure;\n  text-align: center;\n"]))),vF=en.div(LP||(LP=be(["\n  width: 85px;\n  margin-left: 35px;\n  padding-bottom: 120px;\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    margin-left: 35px;\n    padding-bottom: 20px;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    margin-left: 35px;\n    padding-bottom: 20px;\n  }\n"]))),mF=en.div(MP||(MP=be(["\n  width: 15vw;\n  height: 15vh;\n\n  \n  @media (max-width: 768px)and (min-width: 481px) {\n    width: 10vw;\n    height: 30vh;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    width: 10vw;\n    height: 30vh;\n  }\n"]))),yF=en.div(jP||(jP=be(["\nwidth: 100%;\n"]))),gF=en.div(UP||(UP=be(['\nwidth: 100%;\nposition: relative;\nborder-bottom: 2px solid #adadad;\nmargin-bottom: 17px;\n\n.input{\n  width: 100%;\n  height: 40px;\n  padding: 0 5px;\n  font-size: 15px;\n  color: #fff;\n  line-height: 1;\n  border: none;\n  display:block;\n  background: transparent;\n}\n.FocusInput{\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    top: 0;\n    left:0;\n\n    pointer-events: none;\n    color: #adadad;    \n  }\n  .FocusInput::before{\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n    background: #6a7dfe;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  }\n  .FocusInput::after{\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    color: #999999;\n    line-height: 1;\n    content: attr(data-placeholder); \n    display: block;\n    width: 100%;\n    position: absolute;\n    top: 16px;\n    left: 0px;\n    padding-left: 5px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n  }\n\n  .input:focus {\n  outline: 0;\n}\n  .input:focus + .FocusInput::after{\n    top: -15px;\n  }\n  .input:focus + .FocusInput::before{\n    width: 100%;\n  }\n  .has-val + .FocusInput::after{\n    top: -15px;\n  }\n  .has-val + .FocusInput::before{\n    width: 100%;\n  }\n']))),kF=en.div(VP||(VP=be(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 19px 0 0 0;\n\n  .login-form-btn{\n    width: 100%;\n    height: 50px;\n    font-size: 15px;\n    border: none;\n    border-radius: 10px;\n    color: #fff;\n    line-height: 1;\n    text-transform: uppercase;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n\n  :hover{\ncursor: pointer;\n  }\n  \n}\n\n@media (max-width: 768px)and (min-width: 481px) {\n  padding: 20px 0 0 0;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 20px 0 0 0;\n  }\n\n"]))),bF=function(){var e=En((0,t.useState)(""),2),n=e[0],r=e[1],i=En((0,t.useState)(""),2),a=i[0],o=i[1],u=oe();return(0,hn.jsx)(lF,{children:(0,hn.jsx)(fF,{children:(0,hn.jsx)(hF,{children:(0,hn.jsxs)(dF,{children:[(0,hn.jsx)(pF,{children:"Bem vindo ao App de Aniversariantes"}),(0,hn.jsx)(vF,{children:(0,hn.jsx)(mF,{children:(0,hn.jsx)("img",{src:cF,alt:"CakeNiver"})})}),(0,hn.jsxs)(yF,{children:[(0,hn.jsxs)(gF,{children:[(0,hn.jsx)("input",{className:""!==n?"has-val input":"input",type:"email",value:n,onChange:function(e){return r(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Email"})]}),(0,hn.jsxs)(gF,{children:[(0,hn.jsx)("input",{className:""!==a?"has-val input":"input",type:"password",value:a,onChange:function(e){return o(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Password"})]})]}),(0,hn.jsx)(kF,{children:(0,hn.jsx)("button",{className:"login-form-btn",children:"Login"})}),(0,hn.jsx)(sF,{}),(0,hn.jsx)("div",{className:"text-criarConta"}),(0,hn.jsx)("spn",{className:"txt1",children:"N\xe3o possui conta?"}),(0,hn.jsx)("a",{href:"#",onClick:function(){u.push("/criarConta")},className:"txt2",children:"Criar Conta"})]})})})})},wF=en.div(zP||(zP=be(["\n  width: 100vw;\n  height: 100vh;\n  margin: 0 auto;\n"]))),_F=en.div(BP||(BP=be(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  "]))),xF=en.div(qP||(qP=be(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n\n  box-shadow: 0 5px 10px 0px rgba(0, 0, 0, 0.2);\n  //background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  //background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  //background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  //background: linear-gradient(to left, #bdebf5, #dbbee9);\n  "]))),IF=function(){return(0,hn.jsxs)(wF,{children:[(0,hn.jsx)(pn,{}),(0,hn.jsx)(_F,{children:(0,hn.jsx)(xF,{children:(0,hn.jsx)("h1",{children:" Aqui mostrar\xe1 uma tabela de aniversariantes conforme m\xeas selecionado "})})})]})},SF=en.div(WP||(WP=be(["\n  width: 100%;\n"]))),EF=en.div(HP||(HP=be(["\n  width: 100vw;\n  min-height: 82vh;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 5px; \n\n  background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: linear-gradient(to left, #bdebf5, #dbbee9);\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    min-height: 84.7vh;\n    padding: 5px 5px 30px 5px; \n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    min-height: 80vh;\n    padding: 5px 5px 30px 5px; \n  }\n\n"]))),TF=en.div(KP||(KP=be(['\n  width: 50%;\n  height: 70vh;\n  border-radius: 10px;\n  overflow: hidden;\n  padding: 20px 55px 0px 55px;  \n  background: #333;\n  box-shadow: 0 5px 10px 0px rgba(0, 0, 0, 0.2);\n  h1{\n    padding: 0 0 40px 10px;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font: bold 30px "Courier New", Courier, monospace;\n  }    \n\n  @media (max-width: 768px)and (min-width: 481px) {\n  width: 75%;\n  height: 70vh;\n  h1{\n    padding: 0 0 20px 0;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font:bold 25px "Courier New", Courier, monospace;\n  }\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n  width: 96%;\n  height: 70vh;\n  padding: 27px 25px 50px 25px;\n  h1{\n    padding: 0 0 20px 0;\n    color: #fff;\n    text-shadow: 0px 0px 3px #f05be6;\n    font:bold 21px "Courier New", Courier, monospace;\n  }\n  }\n']))),CF=en.div(GP||(GP=be(['\nwidth: 100%;\nposition: relative;\nborder-bottom: 2px solid #adadad;\nmargin-bottom: 45px;\n\nul{\n  list-style: none;  \n}\n\n.MessageError{\n  color: red;\n  position: absolute;\n  margin-top: 5px;\n}\n\n.input{\n  width: 100%;\n  height: 40px;\n  padding: 0 0 0 5px;\n  font-size: 15px;\n  color: #000;\n  line-height: 1;\n  border: none;\n  display:block;\n  background: #fff;\n}\n.FocusInput{\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    top: 0;\n    left:0;\n\n    pointer-events: none;\n    color: #adadad;    \n  }\n  .FocusInput::before{\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n    background: #6a7dfe;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  }\n  .FocusInput::after{\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    color: #999999;\n    line-height: 1;\n    content: attr(data-placeholder); \n    display: block;\n    width: 100%;\n    position: absolute;\n    top: 16px;\n    left: 0px;\n    padding-left: 5px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n  }\n\n  .input:focus {\n  outline: 0;\n}\n  .input:focus + .FocusInput::after{\n    top: -17px;\n  }\n  .input:focus + .FocusInput::before{\n    width: 100%;\n  }\n .has-val + .FocusInput::after{\n    top: -17px;\n  }\n  .has-val + .FocusInput::before{\n    width: 100%;\n  }\n\n\n  @media (max-width: 768px)and (min-width: 481px) {\n  padding: 20px 0 0 0;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 20px 0 0 0;\n  }\n']))),NF=en.div(QP||(QP=be(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n"]))),AF=en.div($P||($P=be(["\n  display: flex;\n  justify-content: center;\n  padding: 40px 0 10px 0;\n  gap: 5px;\n\n  .login-form-btn{\n    width: 100%;\n    height: 50px;\n    font-size: 15px;\n    border: none;\n    border-radius: 10px;\n    color: #fff;\n    line-height: 1;\n    text-transform: uppercase;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  :hover{\ncursor: pointer;\n  }  \n}\n@media (max-width: 768px)and (min-width: 481px) {\n  padding: 10px 0 0 0;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    padding: 10px 0 0 0;\n  }\n"])));function DF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var OF=["name"],RF=["_f"],PF=["_f"],FF=function(e){return"checkbox"===e.type},LF=function(e){return e instanceof Date},MF=function(e){return null==e},jF=function(e){return"object"===typeof e},UF=function(e){return!MF(e)&&!Array.isArray(e)&&jF(e)&&!LF(e)},VF=function(e){return UF(e)&&e.target?FF(e.target)?e.target.checked:e.target.value:e},zF=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},BF=function(e){return Array.isArray(e)?e.filter(Boolean):[]},qF=function(e){return void 0===e},WF=function(e,t,n){if(!t||!UF(e))return n;var r=BF(t.split(/[,[\].]+?/)).reduce((function(e,t){return MF(e)?e:e[t]}),e);return qF(r)||r===e?qF(e[t])?n:e[t]:r},HF="blur",KF="focusout",GF="onBlur",QF="onChange",$F="onSubmit",YF="onTouched",XF="all",JF="max",ZF="min",eL="maxLength",tL="minLength",nL="pattern",rL="required",iL="validate",aL=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==XF&&(t._proxyFormState[i]=!r||XF),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),oL=function(e){return UF(e)&&!Object.keys(e).length},uL=function(e,t,n){e.name;var r=DF(e,OF);return oL(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||XF)}))},sL=function(e){return Array.isArray(e)?e:[e]};function cL(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){t&&t.unsubscribe()}}),[e.disabled])}var lL=function(e){return"string"===typeof e},fL=function(e,t,n,r){var i=Array.isArray(e);return lL(e)?(r&&t.watch.add(e),WF(n,e)):i?e.map((function(e){return r&&t.watch.add(e),WF(n,e)})):(r&&(t.watchAll=!0),n)},hL=function(e){return"function"===typeof e},dL=function(e){for(var t in e)if(hL(e[t]))return!0;return!1};var pL=function(e,t,n,r,i){return t?sn(sn({},n[e]),{},{types:sn(sn({},n[e]&&n[e].types?n[e].types:{}),{},on({},r,i||!0))}):{}},vL=function(e){return/^\w*$/.test(e)},mL=function(e){return BF(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function yL(e,t,n){for(var r=-1,i=vL(t)?[t]:mL(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=UF(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var gL=function e(t,n,r){var i,a=Rn(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=WF(t,o);if(u){var s=u._f,c=DF(u,RF);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else UF(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},kL=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||Un(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},bL=function(e,t,n){var r=BF(WF(e,n));return yL(r,"root",t[n]),yL(e,n,r),e},wL=function(e){return"boolean"===typeof e},_L=function(e){return"file"===e.type},xL=function(e){return lL(e)||t.isValidElement(e)},IL=function(e){return"radio"===e.type},SL=function(e){return e instanceof RegExp},EL={value:!1,isValid:!1},TL={value:!0,isValid:!0},CL=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qF(e[0].attributes.value)?qF(e[0].value)||""===e[0].value?TL:{value:e[0].value,isValid:!0}:TL:EL}return EL},NL={isValid:!1,value:null},AL=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),NL):NL};function DL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(xL(e)||Array.isArray(e)&&e.every(xL)||wL(e)&&!e)return{type:n,message:xL(e)?e:"",ref:t}}var OL=function(e){return UF(e)&&!SL(e)?e:{value:e,message:""}},RL=function(){var e=wn(kn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,_,x,I,S,E,T,C,N,A,D,O,R,P,F,L,M,j,U,V,z,B,q,W,H,K,G,Q,$,Y,X,J;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=s?s[0]:u,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(wL(e)?"":e||" "),b.reportValidity())},_={},x=IL(u),I=FF(u),S=x||I,E=(y||_L(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,T=pL.bind(null,m,r,_),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eL,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tL,a=e?t:n;_[m]=sn({type:e?r:i,message:a,ref:u},T(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!S&&(E||MF(n))||wL(n)&&!n||I&&!CL(s).isValid||x&&!AL(s).isValid))){e.next=19;break}if(N=xL(c)?{value:!!c,message:c}:OL(c),A=N.value,D=N.message,!A){e.next=19;break}if(_[m]=sn({type:rL,message:D,ref:b},T(rL,D)),r){e.next=19;break}return w(D),e.abrupt("return",_);case 19:if(E||MF(h)&&MF(d)){e.next=28;break}if(P=OL(d),F=OL(h),MF(n)||isNaN(n)?(M=u.valueAsDate||new Date(n),j=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==u.type,V="week"==u.type,lL(P.value)&&n&&(O=U?j(n)>j(P.value):V?n>P.value:M>new Date(P.value)),lL(F.value)&&n&&(R=U?j(n)<j(F.value):V?n<F.value:M<new Date(F.value))):(L=u.valueAsNumber||(n?+n:n),MF(P.value)||(O=L>P.value),MF(F.value)||(R=L<F.value)),!O&&!R){e.next=28;break}if(C(!!O,P.message,F.message,JF,ZF),r){e.next=28;break}return w(_[m].message),e.abrupt("return",_);case 28:if(!l&&!f||E||!(lL(n)||a&&Array.isArray(n))){e.next=38;break}if(z=OL(l),B=OL(f),q=!MF(z.value)&&n.length>z.value,W=!MF(B.value)&&n.length<B.value,!q&&!W){e.next=38;break}if(C(q,z.message,B.message),r){e.next=38;break}return w(_[m].message),e.abrupt("return",_);case 38:if(!p||E||!lL(n)){e.next=45;break}if(H=OL(p),K=H.value,G=H.message,!SL(K)||n.match(K)){e.next=45;break}if(_[m]=sn({type:nL,message:G,ref:u},T(nL,G)),r){e.next=45;break}return w(G),e.abrupt("return",_);case 45:if(!v){e.next=79;break}if(!hL(v)){e.next=58;break}return e.next=49,v(n);case 49:if(Q=e.sent,!($=DL(Q,b))){e.next=56;break}if(_[m]=sn(sn({},$),T(iL,$.message)),r){e.next=56;break}return w($.message),e.abrupt("return",_);case 56:e.next=79;break;case 58:if(!UF(v)){e.next=79;break}Y={},e.t0=kn().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(X=e.t1.value,oL(Y)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=DL,e.next=68,v[X](n);case 68:e.t3=e.sent,e.t4=b,e.t5=X,(J=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=sn(sn({},J),T(X,J.message)),w(J.message),r&&(_[m]=Y)),e.next=61;break;case 75:if(oL(Y)){e.next=79;break}if(_[m]=sn({ref:b},Y),r){e.next=79;break}return e.abrupt("return",_);case 79:return w(!0),e.abrupt("return",_);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var PL="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function FL(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(PL&&(e instanceof Blob||e instanceof FileList)||!n&&!UF(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return UF(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=FL(e[r]);else t=e}return t}var LL=function(e){return{isOnSubmit:!e||e===$F,isOnBlur:e===GF,isOnChange:e===QF,isOnAll:e===XF,isOnTouch:e===YF}};function ML(e){for(var t in e)if(!qF(e[t]))return!1;return!0}function jL(e,t){var n,r=vL(t)?[t]:mL(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=qF(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(UF(s)&&oL(s)||Array.isArray(s)&&ML(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function UL(){var e=[];return{get observers(){return e},next:function(t){var n,r=Rn(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var VL=function(e){return MF(e)||!jF(e)};function zL(e,t){if(VL(e)||VL(t))return e===t;if(LF(e)&&LF(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(LF(u)&&LF(s)||UF(u)&&UF(s)||Array.isArray(u)&&Array.isArray(s)?!zL(u,s):u!==s)return!1}}return!0}var BL=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},qL=function(e){return"select-multiple"===e.type},WL=function(e){return IL(e)||FF(e)},HL=function(e){return BL(e)&&e.isConnected};function KL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(UF(e)||n)for(var r in e)Array.isArray(e[r])||UF(e[r])&&!dL(e[r])?(t[r]=Array.isArray(e[r])?[]:{},KL(e[r],t[r])):MF(e[r])||(t[r]=!0);return t}function GL(e,t,n){var r=Array.isArray(e);if(UF(e)||r)for(var i in e)Array.isArray(e[i])||UF(e[i])&&!dL(e[i])?qF(t)||VL(n[i])?n[i]=Array.isArray(e[i])?KL(e[i],[]):sn({},KL(e[i])):GL(e[i],MF(t)?{}:t[i],n[i]):n[i]=!zL(e[i],t[i]);return n}var QL=function(e,t){return GL(e,t,KL(t))},$L=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return qF(e)?e:n?""===e?NaN:e?+e:e:r&&lL(e)?new Date(e):i?i(e):e};function YL(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return _L(t)?t.files:IL(t)?AL(e.refs).value:qL(t)?Un(t.selectedOptions).map((function(e){return e.value})):FF(t)?CL(e.refs).value:$L(qF(t.value)?e.ref.value:t.value,e)}var XL=function(e,t,n,r){var i,a={},o=Rn(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=WF(t,u);s&&yL(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:Un(e),fields:a,shouldUseNativeValidation:r}},JL=function(e){return qF(e)?void 0:SL(e)?e.source:UF(e)?SL(e.value)?e.value.source:e.value:e},ZL=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function eM(e,t,n){var r=WF(e,n);if(r||vL(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=WF(t,a),u=WF(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var tM=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},nM=function(e,t){return!BF(WF(e,t)).length&&jL(e,t)},rM={mode:$F,reValidateMode:QF,shouldFocusError:!0};function iM(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=sn(sn({},rM),t),r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},a=FL(n.defaultValues)||{},o=n.shouldUnregister?{}:FL(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:UL(),array:UL(),state:UL()},d=LL(n.mode),p=LL(n.reValidateMode),v=n.criteriaMode===XF,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=wn(kn().mark((function e(t){var a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=oL,e.next=6,x();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,S(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(WF(i,e))){var d=n(WF(i,e),s.argA,s.argB);c&&yL(i,e,d)}if(f.errors&&l&&Array.isArray(WF(r.errors,e))){var p=n(WF(r.errors,e),s.argA,s.argB);c&&yL(r.errors,e,p),nM(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(WF(r.touchedFields,e))){var v=n(WF(r.touchedFields,e),s.argA,s.argB);c&&yL(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=QL(a,o)),h.state.next({isDirty:T(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yL(o,e,t)},k=function(e,t){yL(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var s=WF(i,e);if(s){var c=WF(o,e,qF(n)?WF(a,e):n);qF(c)||r&&r.defaultChecked||t?yL(o,e,t?c:YL(s._f)):A(e,c),u.mount&&y()}},w=function(e,t,n,i,o){var u=!1,s={name:e},c=WF(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=T(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=WF(r.dirtyFields,e);zL(WF(a,e),t)?jL(r.dirtyFields,e):yL(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==WF(r.dirtyFields,e)}return n&&!c&&(yL(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},_=function(){var n=wn(kn().mark((function n(i,a,o,u){var s,d,p;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=WF(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return k(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?yL(r.errors,i,o):jL(r.errors,i)),(o?zL(s,o):!s)&&oL(u)&&!d||(p=sn(sn(sn({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=sn(sn({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),x=function(){var e=wn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(sn({},o),n.context,XL(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=wn(kn().mark((function e(t){var n,i,a,o,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(n=e.sent,i=n.errors,t){a=Rn(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=WF(i,u))?yL(r.errors,u,s):jL(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=wn(kn().mark((function e(t,i){var a,u,c,l,f,h,d,p=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=kn().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(c=t[u])){e.next=21;break}if(l=c._f,f=DF(c,PF),!l){e.next=17;break}return h=s.array.has(l.name),e.next=11,RL(c,WF(o,l.name),v,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(WF(d,l.name)?h?bL(r.errors,d,l.name):yL(r.errors,l.name,d[l.name]):jL(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,S(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e,t=Rn(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=WF(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!HL(e)})):!HL(r._f.ref))&&V(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},T=function(e,t){return e&&t&&yL(o,e,t),!zL(F(),a)},C=function(e,t,n){var r=sn({},u.mount?o:qF(t)?a:lL(e)?on({},e,t):t);return fL(e,s,r,n)},N=function(e){return BF(WF(u.mount?o:a,e,t.shouldUnregister?WF(a,e,[]):[]))},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=WF(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&yL(o,e,$L(t,u)),a=PL&&BL(u.ref)&&MF(t)?"":t,qL(u.ref)?Un(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?FF(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):_L(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&P(e)},D=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=WF(i,u);!s.array.has(t)&&VL(o)&&(!c||c._f)||LF(o)?A(u,o,r):e(u,o,r)}},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=WF(i,e),c=s.array.has(e),l=FL(t);yL(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=QL(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:T(e,l)}))):!u||u._f||MF(l)?A(e,l,n):D(e,l,n),kL(e,s)&&h.state.next({}),h.watch.next({name:e})},R=function(){var t=wn(kn().mark((function t(a){var u,c,f,m,g,k,b,I,S,E,T,C,N,A,D;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=WF(i,c))){t.next=39;break}if(k=u.type?YL(f._f):VF(a),b=a.type===HF||a.type===KF,I=!ZL(f._f)&&!n.resolver&&!WF(r.errors,c)&&!f._f.deps||tM(b,WF(r.touchedFields,c),r.isSubmitted,p,d),S=kL(c,s,b),yL(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),E=w(c,k,b,!1),T=!oL(E)||S,!b&&h.watch.next({name:c,type:a.type}),!I){t.next=15;break}return t.abrupt("return",T&&h.state.next(sn({name:c},S?{}:E)));case 15:if(!b&&S&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,x([c]);case 21:C=t.sent,N=C.errors,A=eM(r.errors,i,c),D=eM(N,i,A.name||c),m=D.error,c=D.name,g=oL(N),t.next=37;break;case 30:return t.next=32,RL(f,WF(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&P(f._f.deps),_(c,g,m,E);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=wn(kn().mark((function e(t){var a,o,u,c,l,d=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=sL(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,I(qF(t)?t:c);case 6:l=e.sent,o=oL(l),u=t?!c.some((function(e){return WF(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=WF(i,t),e.next=3,S(n&&n._f?on({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,S(i);case 20:u=o=e.sent;case 21:return h.state.next(sn(sn(sn({},!lL(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver||!t?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&gL(i,(function(e){return e&&WF(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=sn(sn({},a),u.mount?o:{});return qF(e)?t:lL(e)?WF(t,e):e.map((function(e){return WF(t,e)}))},L=function(e,t){return{invalid:!!WF((t||r).errors,e),isDirty:!!WF((t||r).dirtyFields,e),isTouched:!!WF((t||r).touchedFields,e),error:WF((t||r).errors,e)}},M=function(e){e?sL(e).forEach((function(e){return jL(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},j=function(e,t,n){var a=(WF(i,e,{_f:{}})._f||{}).ref;yL(r.errors,e,sn(sn({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},U=function(e,t){return hL(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},V=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Rn(e?sL(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),WF(i,l)&&(u.keepValue||(jL(i,l),jL(o,l)),!u.keepError&&jL(r.errors,l),!u.keepDirty&&jL(r.dirtyFields,l),!u.keepTouched&&jL(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&jL(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(sn(sn({},r),u.keepDirty?{isDirty:T()}:{})),!u.keepIsValid&&y()},z=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=WF(i,t),l=wL(r.disabled);return yL(i,t,sn(sn({},c||{}),{},{_f:sn(sn({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),s.mount.add(t),c?l&&yL(o,t,r.disabled?void 0:WF(o,t,YL(c._f))):b(t,!0,r.value),sn(sn(sn({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:JL(r.min),max:JL(r.max),minLength:JL(r.minLength),maxLength:JL(r.maxLength),pattern:JL(r.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=WF(i,t);var l=qF(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=WL(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;yL(i,t,{_f:sn(sn({},c._f),f?{refs:[].concat(Un(h.filter(HL)),[l],Un(Array.isArray(WF(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=WF(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!zF(s.array,t)||!u.action)&&s.unMount.add(t)}))})},B=function(){return n.shouldFocusError&&gL(i,(function(e){return e&&WF(r.errors,e)}),s.mount)},q=function(e,t){return function(){var a=wn(kn().mark((function a(u){var s,c,l,f,d;return kn().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),s=!0,c=FL(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,x();case 8:l=a.sent,f=l.errors,d=l.values,r.errors=f,c=d,a.next=17;break;case 15:return a.next=17,S(i);case 17:if(!oL(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(c,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(sn({},r.errors),u);case 26:B();case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),s=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oL(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};WF(i,e)&&(qF(t.defaultValue)?O(e,WF(a,e)):(O(e,t.defaultValue),yL(a,e,t.defaultValue)),t.keepTouched||jL(r.touchedFields,e),t.keepDirty||(jL(r.dirtyFields,e),r.isDirty=t.defaultValue?T(e,WF(a,e)):T()),t.keepError||(jL(r.errors,e),f.isValid&&y()),h.state.next(sn({},r)))},H=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=FL(c),d=e&&!oL(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=Rn(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;WF(r.dirtyFields,m)?yL(d,m,WF(o,m)):O(m,WF(d,m))}}catch(_){v.e(_)}finally{v.f()}}else{if(PL&&qF(e)){var y,g=Rn(s.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=WF(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(BL(w)){w.closest("form").reset();break}}catch(mk){}}}}catch(_){g.e(_)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?FL(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||zL(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?QL(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},K=function(e,t){return H(hL(e)?e(o):e,t)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=WF(i,e),r=n&&n._f;if(r){var a=r.refs?r.refs[0]:r.ref;a.focus&&(a.focus(),t.shouldSelect&&a.select())}};return{control:{register:z,unregister:V,getFieldState:L,_executeSchema:x,_focusError:B,_getWatch:C,_getDirty:T,_updateValid:y,_removeUnmounted:E,_updateFieldArray:g,_getFieldArray:N,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=sn(sn({},n),e)}},trigger:P,register:z,handleSubmit:q,watch:U,setValue:O,getValues:F,reset:K,resetField:W,clearErrors:M,unregister:V,setError:j,setFocus:G,getFieldState:L}}var aM,oM,uM=function(e,t,n){if(e&&"reportValidity"in e){var r=WF(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},sM=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?uM(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return uM(t,n,e)}))};for(var r in t.fields)n(r)},cM=function(e,t){t.shouldUseNativeValidation&&sM(e,t);var n={};for(var r in e){var i=WF(t.fields,r);yL(n,r,Object.assign(e[r],{ref:i&&i.ref}))}return n},lM=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,u){try{var s=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then((function(e){return a.shouldUseNativeValidation&&sM({},a),{values:n.rawValues?r:e,errors:{}}})))}catch(uM){return u(uM)}return s&&s.then?s.then(void 0,u):s}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:cM((t=e,n=!a.shouldUseNativeValidation&&"all"===a.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=pL(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e}),{})),a)};var t,n})))}catch(uM){return Promise.reject(uM)}}};try{aM=Map}catch(Pe){}try{oM=Set}catch(Pe){}function fM(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(hM);if(aM&&e instanceof aM)return new Map(Array.from(e.entries()));if(oM&&e instanceof oM)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:fM(e[i],t,n)}return r}return e}function hM(e){return fM(e,[],[])}var dM=Object.prototype.toString,pM=Error.prototype.toString,vM=RegExp.prototype.toString,mM="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},yM=/^Symbol\((.*)\)(.*)$/;function gM(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function kM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return gM(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return mM.call(e).replace(yM,"Symbol($1)");var r=dM.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+pM.call(e)+"]":"RegExp"===r?vM.call(e):null}function bM(e,t){var n=kM(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=kM(this[e],t);return null!==r?r:n}),2)}var wM={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(bM(r,!0),"`")+(a?" (cast from the value `".concat(bM(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},_M={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xM={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},IM={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},SM={isValue:"${path} field must be ${value}"},EM={noUnknown:"${path} field has unspecified keys: ${unknown}"},TM={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},CM=(Object.assign(Object.create(null),{mixed:wM,string:_M,number:xM,date:IM,object:EM,array:TM,boolean:SM}),n(7805)),NM=n.n(CM),AM=function(e){return e&&e.__isYupSchema__},DM=function(){function e(t,n){if(Vn(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!NM()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),u=t.pop(),s=o.apply(void 0,t)?i:a;if(s)return"function"===typeof s?s(u):u.concat(s.resolve(r))}}else this.fn=n}return Bn(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!AM(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),OM=DM;function RM(e){return null==e?[]:[].concat(e)}function PM(){return PM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PM.apply(this,arguments)}var FM=/\$\{\s*(\w+)\s*\}/g,LM=function(e){Pn(n,e);var t=Mn(n);function n(e,r,i,a){var o;return Vn(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],RM(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,Un(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(Fn(o),n),o}return Bn(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=PM({},t,{path:n})),"string"===typeof e?e.replace(FM,(function(e,n){return bM(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(qn(Error));function MM(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,u=e.sort,s=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new LM(o,a,s)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!LM.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(u&&f.sort(u),o.length&&f.push.apply(f,Un(o)),o=f),o.length)return void c(new LM(o,a,s),a);c(null,a)}}))}}var jM=n(7702),UM=n.n(jM),VM=n(2758),zM="$",BM=".";var qM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Vn(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===zM,this.isValue=this.key[0]===BM,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?zM:this.isValue?BM:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,VM.getter)(this.path,!0),this.map=n.map}return Bn(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function WM(){return WM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WM.apply(this,arguments)}function HM(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,u=t.options,s=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=u.parent,m=u.context;function y(e){return qM.isRef(e)?e.getValue(r,v,m):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=UM()(WM({value:r,originalValue:s,label:o,path:e.path||a},d,e.params),y),n=new LM(LM.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var k=WM({path:a,parent:v,type:f,createError:g,resolve:y,options:u,originalValue:s},l);if(c){var b;try{var w;if("function"===typeof(null==(w=b=h.call(k,r,k))?void 0:w.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}LM.isError(b)?n(b):b?n(null,b):n(g())}else try{Promise.resolve(h.call(k,r,k)).then((function(e){LM.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(_){n(_)}}return t.OPTIONS=e,t}qM.prototype.__isYupRef=!0;var KM=function(e){return e.substr(0,e.length-1).substr(1)};function GM(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,VM.forEach)(t,(function(u,s,c){var l=s?KM(u):u;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(u,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=s?"["+u+"]":"."+u})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var QM=function(){function e(){Vn(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return Bn(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=Rn(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(u){n.e(u)}finally{n.f()}var i,a=Rn(this.refs);try{for(a.s();!(i=a.n()).done;){var o=En(i.value,2)[1];t.push(o.describe())}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(qM.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){qM.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){qM.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function $M(){return $M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$M.apply(this,arguments)}var YM=function(){function e(t){var n=this;Vn(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new QM,this._blacklist=new QM,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(wM.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=$M({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return Bn(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=$M({},this.exclusiveTests),t.deps=Un(this.deps),t.conditions=Un(this.conditions),t.tests=Un(this.tests),t.transforms=Un(this.transforms),t.spec=hM($M({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=$M({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(Un(t.transforms),Un(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve($M({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=bM(e),a=bM(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,u=void 0===o?[]:o,s=n.originalValue,c=void 0===s?e:s,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,$M({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:u},m=[];this._typeError&&m.push(this._typeError);var y=[];this._whitelistError&&y.push(this._whitelistError),this._blacklistError&&y.push(this._blacklistError),MM({args:v,value:p,path:a,sync:i,tests:m,endEarly:d},(function(e){e?r(e,p):MM({tests:t.tests.concat(y),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve($M({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve($M({},t,{value:e}))._validate(e,$M({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(LM.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(LM.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):hM(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wM.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wM.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=wM.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=HM(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=RM(e).map((function(e){return new qM(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new OM(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=HM({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wM.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=HM({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wM.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=HM({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();YM.prototype.__isYupSchema__=!0;for(var XM=function(){var e=ZM[JM];YM.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=GM(this,t,n,r.context),a=i.parent,o=i.parentPath,u=i.schema;return u[e](a&&a[o],$M({},r,{parent:a,path:t}))}},JM=0,ZM=["validate","validateSync"];JM<ZM.length;JM++)XM();for(var ej=0,tj=["equals","is"];ej<tj.length;ej++){var nj=tj[ej];YM.prototype[nj]=YM.prototype.oneOf}for(var rj=0,ij=["not","nope"];rj<ij.length;rj++){var aj=ij[rj];YM.prototype[aj]=YM.prototype.notOneOf}YM.prototype.optional=YM.prototype.notRequired;var oj=YM;oj.prototype;var uj=function(e){return null==e};var sj=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return Bn(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SM.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return uj(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SM.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return uj(e)||!1===e}})}}]),n}(YM);sj.prototype;var cj=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,lj=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,fj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,hj=function(e){return uj(e)||e===e.trim()},dj={}.toString();function pj(){return new vj}var vj=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===dj?e:t}))})),e}return Bn(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return On(An(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_M.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return uj(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_M.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return uj(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_M.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return uj(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||_M.matches,params:{regex:e},test:function(t){return uj(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.email;return this.matches(cj,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.url;return this.matches(lj,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.uuid;return this.matches(fj,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:hj})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.lowercase;return this.transform((function(e){return uj(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return uj(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_M.uppercase;return this.transform((function(e){return uj(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return uj(e)||e===e.toUpperCase()}})}}]),n}(YM);pj.prototype=vj.prototype;var mj=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return Bn(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xM.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return uj(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xM.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return uj(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xM.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return uj(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xM.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return uj(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xM.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xM.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xM.integer;return this.test({name:"integer",message:e,test:function(e){return uj(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return uj(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return uj(t)?t:Math[e](t)}))}}]),n}(YM);mj.prototype;var yj=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var gj=new Date("");function kj(){return new bj}var bj=function(e){Pn(n,e);var t=Mn(n);function n(){var e;return Vn(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=yj.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?gj:new Date(e))}))})),e}return Bn(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(qM.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IM.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return uj(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IM.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return uj(e)||e<=this.resolve(n)}})}}]),n}(YM);bj.INVALID_DATE=gj,kj.prototype=bj.prototype,kj.INVALID_DATE=gj;var wj=n(7499),_j=n.n(wj),xj=n(567),Ij=n.n(xj),Sj=n(9029),Ej=n.n(Sj),Tj=n(6514),Cj=n.n(Tj);function Nj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=En(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,VM.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(NM()(e,t)){var n=e[t];r.add(t),qM.isRef(n)&&n.isSibling?a(n.path,t):AM(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var u in e)o(u);return Cj().array(Array.from(r),n).reverse()}function Aj(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function Dj(e){return function(t,n){return Aj(e,t)-Aj(e,n)}}function Oj(){return Oj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oj.apply(this,arguments)}var Rj=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Pj(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var Fj=Dj([]),Lj=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=Fj,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return Bn(n,[{key:"_typeCheck",value:function(e){return Rj(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=On(An(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,u=this.fields,s=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=Oj({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=Rn(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=u[p],m=NM()(a,p);if(v){var y=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var k="spec"in(v=v.resolve({value:g,context:i.context,parent:l}))?v.spec:void 0,b=null==k?void 0:k.strict;if(null==k?void 0:k.strip){h=h||p in a;continue}void 0!==(y=i.__validating&&b?a[p]:v.cast(a[p],f))&&(l[p]=y)}else m&&!s&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(w){d.e(w)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,u=r.from,s=void 0===u?[]:u,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,d=r.recursive,p=void 0===d?this.spec.recursive:d;s=[{schema:this,value:l}].concat(Un(s)),r.__validating=!0,r.originalValue=l,r.from=s,On(An(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!LM.isError(e)||h)return void i(e,n);a.push(e)}if(p&&Rj(n)){l=l||n;var u=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),u=t.fields[e];u&&"validate"in u?u.validate(n[e],Oj({},r,{path:o,from:s,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));MM({sync:o,tests:u,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=On(An(n.prototype),"clone",this).call(this,e);return t.fields=Oj({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=On(An(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var u=En(o[a],2),s=u[0],c=u[1],l=i[s];void 0===l?i[s]=c:l instanceof YM&&c instanceof YM&&(i[s]=c.concat(l))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?On(An(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=Dj(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(Un(n._excludedEdges),Un(t))),n._nodes=Nj(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=Rn(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=Rn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,VM.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return NM()(i,e)&&(a=Oj({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EM.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=Pj(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EM.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&Ej()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(Ij())}},{key:"snakeCase",value:function(){return this.transformKeys(_j())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return _j()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=On(An(n.prototype),"describe",this).call(this);return e.fields=UM()(this.fields,(function(e){return e.describe()})),e}}]),n}(YM);function Mj(e){return new Lj(e)}function jj(){return jj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jj.apply(this,arguments)}Mj.prototype=Lj.prototype;var Uj=function(e){Pn(n,e);var t=Mn(n);function n(e){var r;return Vn(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return Bn(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=On(An(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,jj({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,u=[],s=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;On(An(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!LM.isError(e)||f)return void o(e,t);u.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=jj({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);MM({sync:s,path:c,value:t,errors:u,endEarly:f,tests:n},o)}else o(u[0]||null,t)}))}},{key:"clone",value:function(e){var t=On(An(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=On(An(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!AM(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+bM(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TM.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return uj(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||TM.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return uj(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||TM.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return uj(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=On(An(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return On(An(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return On(An(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return On(An(n.prototype),"required",this).call(this,e)}}]),n}(YM);Uj.prototype;var Vj,zj,Bj,qj,Wj,Hj,Kj,Gj,Qj,$j,Yj,Xj,Jj,Zj,eU,tU,nU,rU=function(e){return e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2")},iU=Mj({name:pj().min(10,"Nome inv\xe1lido").required("Campo Obrigat\xf3rio"),email:pj().email("Digite um email v\xe1lido").required("O email \xe9 obrigat\xf3rio"),birthdate:pj().min(8,"Data inv\xe1lida").required("Campo Obrigat\xf3rio"),fone:pj().min(10,"Numero inv\xe1lido").required("Campo Obrigat\xf3rio"),password:pj().min(6,"A senha deve ter pelo menos 6 digitos").required("A senha \xe9 obrigat\xf3ria"),confirmPassword:pj().required("Confirmar a senha \xe9 obrigat\xf3rio").oneOf([function(e,t){return new qM(e,t)}("password")],"As senhas devem ser iguais")}).required(),aU=function(){var e,n,r,i,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=En(t.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues}),2),i=r[0],a=r[1];n.current||(n.current=sn(sn({},iM(e)),{},{formState:i}));var o=n.current.control;return o._options=e,cL({subject:o._subjects.state,callback:t.useCallback((function(e){uL(e,o._proxyFormState,!0)&&(o._formState=sn(sn({},o._formState),e),a(sn({},o._formState)))}),[o])}),t.useEffect((function(){o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()})),t.useEffect((function(){i.submitCount&&o._focusError()}),[o,i.submitCount]),n.current.formState=aL(i,o),n.current}({resolver:lM(iU)}),o=a.register,u=a.handleSubmit,s=a.watch,c=a.formState.errors;console.log(s("name"));var l=En((0,t.useState)([]),2),f=l[0],h=l[1],d=jk(yP),p=uk(d,"users");function v(){return v=wn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sk(d,"users",t),e.next=3,rw(n);case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}(0,t.useEffect)((function(){var e=function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zb(p);case 2:t=e.sent,n=t.docs.map((function(e){return sn(sn({},e.data()),{},{id:e.id})})),h(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=En((0,t.useState)(""),2),y=m[0],g=m[1],k=En((0,t.useState)(""),2),b=k[0],w=k[1],_=En((0,t.useState)(""),2),x=_[0],I=_[1],S=En((0,t.useState)(""),2),E=S[0],T=S[1];function C(){return N.apply(this,arguments)}function N(){return(N=wn(kn().mark((function e(){var t;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iw(p,{name:y,email:b,birthDate:x,fone:E});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,hn.jsx)(SF,{children:(0,hn.jsx)(EF,{children:(0,hn.jsx)(TF,{children:(0,hn.jsxs)("form",{onSubmit:u(C),children:[(0,hn.jsx)("h1",{children:" Editar dados do aniversariante "}),(0,hn.jsx)(CF,{children:(0,hn.jsxs)("label",{children:[(0,hn.jsx)("input",sn(sn({className:""!==y?"has-val input":"input"},o("name",{required:!0})),{},{value:y,onChange:function(e){return g(e.target.value)}})),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Digite o nome completo do aniversariante"}),(0,hn.jsx)("span",{className:"MessageError",children:null===(e=c.name)||void 0===e?void 0:e.message})]})}),(0,hn.jsx)(CF,{children:(0,hn.jsxs)("label",{children:[(0,hn.jsx)("input",sn(sn({className:""!==b?"has-val input":"input",type:"text"},o("email")),{},{value:b,onChange:function(e){return w(e.target.value)}})),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"e-mail"}),(0,hn.jsx)("span",{className:"MessageError",children:null===(n=c.email)||void 0===n?void 0:n.message})]})}),(0,hn.jsxs)(NF,{children:[(0,hn.jsx)(CF,{children:(0,hn.jsxs)("label",{children:[(0,hn.jsx)("input",sn(sn({className:""!==x?"has-val input":"input"},o("birthDate")),{},{value:x,onChange:function(e){return I(e.target.value)}})),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Data de Nascimento."}),(0,hn.jsx)("span",{className:"MessageError",children:null===(r=c.birthdate)||void 0===r?void 0:r.message})]})}),(0,hn.jsx)(CF,{children:(0,hn.jsxs)("label",{children:[(0,hn.jsx)("input",sn(sn({className:""!==E?"has-val input":"input"},o("fone")),{},{value:rU.fone,onChange:function(e){return T(e.target.value)}})),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Fone / Wahts."}),(0,hn.jsx)("span",{className:"MessageError",children:null===(i=c.fone)||void 0===i?void 0:i.message})]})})]}),(0,hn.jsxs)(AF,{children:[(0,hn.jsx)("button",{className:"login-form-btn",onClick:C,children:"Salvar "}),(0,hn.jsx)("button",{className:"login-form-btn",onClick:function(){return function(e){return v.apply(this,arguments)}(f.id)},children:"Deletar "})]})]})})})})},oU=function(){return(0,hn.jsxs)(wF,{children:[(0,hn.jsx)(pn,{}),(0,hn.jsx)(_F,{children:(0,hn.jsx)(xF,{children:(0,hn.jsx)(aU,{})})})]})},uU=en.div(Vj||(Vj=be(["\n  width: 100%;\n"]))),sU=en.div(zj||(zj=be(["\n  width: 100vw;\n  min-height: 82vh;\n  display: flex;\n  justify-content: center;\n  \n  background: -webkit-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -o-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: -moz-linear-gradient(to left, #bdebf5, #dbbee9);\n  background: linear-gradient(to left, #bdebf5, #dbbee9);\n  \n"]))),cU=en.div(Bj||(Bj=be(["\n    width: 60vw;\n    height: 50vh;\n    overflow: hidden;\n    color: azure;\n    font: 10px;\n    border-radius: 10px;\n    margin: 100px 0 30px 0px;\n    padding: 1px 0 0 5px;\n  box-shadow: 5 5px 10px 5px rgb(239 227 238);\n  \n  background: -webkit-linear-gradient(to left, #696868, #545353);\n  background: -o-linear-gradient(to left, #696868, #545353);\n  background: -moz-linear-gradient(to left, #696868, #545353);\n  background: linear-gradient(to left, #696868, #545353); \n\n\n@media (max-width: 768px)and (min-width: 481px) {\n  width: 430px;\n  height: 89.5vw;\n}\n@media (max-width: 480px)and (min-width: 320px) {\n  //width: 378px; \n  width: 394px; \n  height: 134vw;\n}\n"]))),lU=en.div(qj||(qj=be(["\n  width: 60.5vw;\n  height: 6vh;\n  display: flex;\n  border-radius: 10px;\n  color: azure;\n  font: 10px;\n  border-radius: 10px;  \n  margin: -1px 0px 0px -9px;\n  padding: 10px 5px 10px 10px;\n  text-shadow:0px 0px 3px #f05be6;\n  box-shadow:0px 4px 21px #000000;\n  justify-content: center;\n  align-items: center; \n\n\n  @media (max-width: 768px)and (min-width: 481px) {\n  width: 72.5vw;\n  height: 6vh;\n}\n@media (max-width: 480px)and (min-width: 320px) {\n  width: 95.5vw;\n  height: 6vh;\n}\n"]))),fU=en.div(Wj||(Wj=be(["\n  margin:0;\n  text-shadow:0px 0px 3px #f05be6;  \n  margin: -11px 17px 4px 21px;\n  "]))),hU=en.div(Hj||(Hj=be(["\n  display: flex;  \n  justify-content: space-between;\n  \n  ul{\n  list-style: none;  \n  }\n\n  &.ContainerName{\n    width: 25vw;  \n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    margin-left: 20px;\n    padding-left: 10px;\n    }\n\n  &.ContainerBirthdate{\n    width: 7vw;\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n  }\n\n  &.ContainerEmail{\n    width: 10vw;\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    margin-left:-50px;\n  }\n\n  &.ContainerWhatsApp{\n    width: 10vw;\n    font-family: Nunito, sans-serif;\n    font-size: 15px; \n    margin: 0 10px;\n  }\n  "]))),dU=en.div(Kj||(Kj=be(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  padding-top: 5px; \n  \np.Name{\n  width: 25vw;  \n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    margin-left: 20px;\n    padding-left: 10px;\n  }\np.birthdate{\n  width: 7vw;\n  font-family: Nunito, sans-serif;\n  font-size: 15px; \n  }\n\np.email{\n  width: 10vw;\n  font-family: Nunito, sans-serif;\n  font-size: 15px;\n  margin-left:-50px;\n  }\n\np.whatsApp{\n  width: 10vw;\n  font-family: Nunito, sans-serif;\n  font-size: 15px; \n  margin: 0 10px;\n  }\n  "]))),pU=en.div(Gj||(Gj=be(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n "]))),vU=function(){var e=En((0,t.useState)([]),2),n=e[0],r=e[1],i=uk(jk(yP),"users");(0,t.useEffect)((function(){var e=function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zb(i);case 2:t=e.sent,n=t.docs.map((function(e){return sn(sn({},e.data()),{},{id:e.id})})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,hn.jsx)(uU,{children:(0,hn.jsx)(sU,{children:(0,hn.jsxs)(cU,{children:[(0,hn.jsx)(lU,{children:"OS PR\xd3XIMOS 10 ANIVERSARIANTES DO M\xcaS"}),(0,hn.jsxs)(dU,{children:[(0,hn.jsx)("p",{className:"Name",children:"Nome"}),(0,hn.jsx)("p",{className:"birthdate",children:"Data Nasc."}),(0,hn.jsx)("p",{className:"email",children:"Email"}),(0,hn.jsx)("p",{className:"whatsApp",children:"WhatsApp."})]}),(0,hn.jsx)(fU,{children:" ________________________________________________________________________________________________ "}),(0,hn.jsxs)(pU,{children:[(0,hn.jsx)(hU,{className:"ContainerName",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.name})}))})}),(0,hn.jsx)(hU,{className:"ContainerBirthdate",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.birthDate})}))})}),(0,hn.jsx)(hU,{className:"ContainerEmail",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.email})}))})}),(0,hn.jsx)(hU,{className:"ContainerWhatsApp",children:(0,hn.jsx)("ul",{children:n.map((function(e){return(0,hn.jsx)("li",{children:e.fone})}))})})]})]})})})},mU=function(){return(0,hn.jsxs)(wF,{children:[(0,hn.jsx)(pn,{}),(0,hn.jsx)(_F,{children:(0,hn.jsx)(xF,{children:(0,hn.jsx)(vU,{})})})]})},yU=function(){return(0,hn.jsxs)(wF,{children:[(0,hn.jsx)(pn,{}),(0,hn.jsx)(_F,{children:(0,hn.jsx)(xF,{children:(0,hn.jsx)(iF,{})})})]})},gU=n.p+"static/media/tresGatinhos.4c840d6923cb66513b82.gif",kU=en.div(Qj||(Qj=be(["\n  width: 100vw;\n  margin: 0 auto;\n"]))),bU=en.div($j||($j=be(["\n  width: 100%;\n  min-height: 100vh;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 15px;\n  background: #111;\n"]))),wU=en.div(Yj||(Yj=be(["\n  width: 390px;\n  height: auto;\n  background-color: #333;\n  border-radius: 10px;\n  padding: 22px 24px 29px 28px;\n  //padding: 33px 55px 0px 55px;\n\n//para n\xe3o gerar scrow na p\xe1gina\n  overflow: hidden;\n  box-shadow: 0 5px 10px 0px rgba(0, 0, 0, 0, 2);\n\n  .text-criarConta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.txt1 {\n  font-size: 14px;\n  color: #adadad;\n  line-height: 1;\n  padding-right: 5px;\n}\n\n.txt2 {\n  font-size: 14px;\n  color: #6a7dfe;\n  line-height: 1;\n  text-decoration: none;\n}\n"]))),_U=en.div(Xj||(Xj=be(["\nwidth: 100%;\n"]))),xU=en.div(Jj||(Jj=be(["\n  font-family: Nunito, sans-serif;\n  display: block;\n  font-size: 30px;\n  color: azure;\n  text-align: center;\n"]))),IU=en.div(Zj||(Zj=be(["\n  width: 85px;\n  margin-left: 35px;\n  padding: 30px 0 30px 0;\n\n  @media (max-width: 768px)and (min-width: 481px) {\n    height: 250px;\n    margin-left: 35px;\n    padding-bottom: 20px;\n}\n  @media (max-width: 480px)and (min-width: 320px) {\n    height: 250px;\n    margin-left: 35px;\n    padding-bottom: 20px;\n  }\n"]))),SU=en.div(eU||(eU=be(["\n  width: 15vw;\n  height: 15vw;\n\n"]))),EU=en.div(tU||(tU=be(['\nwidth: 100%;\nposition: relative;\nborder-bottom: 2px solid #adadad;\nmargin-bottom: 17px;\n\n.input{\n  width: 100%;\n  height: 40px;\n  padding: 0 5px;\n  font-size: 15px;\n  color: #fff;\n  line-height: 1;\n  border: none;\n  display:block;\n  background: transparent;\n}\n.FocusInput{\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    top: 0;\n    left:0;\n\n    pointer-events: none;\n    color: #adadad;    \n  }\n  .FocusInput::before{\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n    background: #6a7dfe;\n    background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n    background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n    background: linear-gradient(to left, #21d4fd, #b721ff);\n  }\n  .FocusInput::after{\n    font-family: Nunito, sans-serif;\n    font-size: 15px;\n    color: #999999;\n    line-height: 1;\n    content: attr(data-placeholder); \n    display: block;\n    width: 100%;\n    position: absolute;\n    top: 16px;\n    left: 0px;\n    padding-left: 5px;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n  }\n\n  .input:focus {\n  outline: 0;\n}\n  .input:focus + .FocusInput::after{\n    top: -15px;\n  }\n  .input:focus + .FocusInput::before{\n    width: 100%;\n  }\n  .has-val + .FocusInput::after{\n    top: -15px;\n  }\n  .has-val + .FocusInput::before{\n    width: 100%;\n  }\n']))),TU=en.div(nU||(nU=be(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-bottom: 13px;\n\n  .login-form-btn{\n  font-size: 15px;\n  border: none;\n  border-radius: 10px;\n  color: #fff;\n  line-height: 1;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  background: #6a7dfe;\n  background: -webkit-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -o-linear-gradient(to left, #21d4fd, #b721ff);\n  background: -moz-linear-gradient(to left, #21d4fd, #b721ff);\n  background: linear-gradient(to left, #21d4fd, #b721ff);\n\n  :hover{\ncursor: pointer;\n  }\n  \n}\n"]))),CU=function(){var e=En((0,t.useState)(""),2),n=e[0],r=e[1],i=En((0,t.useState)(""),2),a=i[0],o=i[1],u=(oe(),uk(jk(yP),"admin"));function s(){return(s=wn(kn().mark((function e(){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iw(u,{email:n,password:a});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){var e=function(){var e=wn(kn().mark((function e(){var t,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zb(u);case 2:t=e.sent,n=t.docs.map((function(e){return sn(sn({},e.data()),{},{id:e.id})})),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,hn.jsx)(kU,{children:(0,hn.jsx)(bU,{children:(0,hn.jsx)(wU,{children:(0,hn.jsxs)(_U,{children:[(0,hn.jsx)(xU,{children:"Fa\xe7a um gatinho feliz! Se cadastre no App!"}),(0,hn.jsx)(IU,{children:(0,hn.jsx)(SU,{children:(0,hn.jsx)("img",{src:gU,alt:"CakeNiver"})})}),(0,hn.jsxs)(EU,{children:[(0,hn.jsx)("input",{className:""!==n?"has-val input":"input",type:"email",value:n,onChange:function(e){return r(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Email"})]}),(0,hn.jsxs)(EU,{children:[(0,hn.jsx)("input",{className:""!==a?"has-val input":"input",type:"password",value:a,onChange:function(e){return o(e.target.value)}}),(0,hn.jsx)("span",{className:"FocusInput","data-placeholder":"Password"})]}),(0,hn.jsx)(TU,{children:(0,hn.jsx)("button",{className:"login-form-btn",onClick:function(){return s.apply(this,arguments)},children:"Cadastrar"})})]})})})})},NU=function(){return(0,hn.jsx)(CU,{})},AU=function(){return(0,hn.jsx)(fe,{children:(0,hn.jsxs)(ie,{children:[(0,hn.jsx)(J,{path:"/",exact:!0,component:XP}),(0,hn.jsx)(J,{path:"/criarConta",exact:!0,component:NU}),(0,hn.jsx)(J,{path:"/entrar",exact:!0,component:bF}),(0,hn.jsx)(J,{path:"/top10",exact:!0,component:mU}),(0,hn.jsx)(J,{path:"/consultaMes",exact:!0,component:IF}),(0,hn.jsx)(J,{path:"/addPage",exact:!0,component:yU}),(0,hn.jsx)(J,{path:"/editar",exact:!0,component:oU})]})})},DU=function(){return(0,hn.jsx)("div",{className:"ef-glow",children:(0,hn.jsx)(AU,{})})};r.render((0,hn.jsx)(t.StrictMode,{children:(0,hn.jsx)(DU,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.607e6c7a.js.map